<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 [Tutorial] Descriptieve statistieken | Exploratieve en Descriptieve Data Analyse</title>
  <meta name="description" content="Chapter 5 [Tutorial] Descriptieve statistieken | Exploratieve en Descriptieve Data Analyse" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 [Tutorial] Descriptieve statistieken | Exploratieve en Descriptieve Data Analyse" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 [Tutorial] Descriptieve statistieken | Exploratieve en Descriptieve Data Analyse" />
  
  
  

<meta name="author" content="Gert Janssenswillen, Benoît Depaire" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lecture-notes-descriptieve-statistieken.html"/>
<link rel="next" href="lecture-notes-structuur-van-een-data-analyse-project-.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Exploratieve en descriptieve data analyse</a></li>
<li><a href="https://beta.rstudioconnect.com/content/e8fdb21e-22c3-4051-b0da-c75b1f2fac2f/_rev42337/studieleidraad_worksessions.html">Studieleidraad</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Voorwoord</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#hoe-de-lecture-notes-te-gebruiken"><i class="fa fa-check"></i>Hoe de lecture notes te gebruiken</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#hoe-de-tutorials-te-gebruiken"><i class="fa fa-check"></i>Hoe de tutorials te gebruiken</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#over-de-auteurs"><i class="fa fa-check"></i>Over de auteurs</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i>Disclaimer</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html"><i class="fa fa-check"></i><b>1</b> [Lecture notes] Introductiecollege</a><ul>
<li class="chapter" data-level="1.1" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#data-science"><i class="fa fa-check"></i><b>1.1</b> Data science?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#netflix"><i class="fa fa-check"></i><b>1.1.1</b> Netflix</a></li>
<li class="chapter" data-level="1.1.2" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#waar-komt-data-vandaan"><i class="fa fa-check"></i><b>1.1.2</b> Waar komt data vandaan?</a></li>
<li class="chapter" data-level="1.1.3" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#hoeveel-data-is-er-beschikbaar"><i class="fa fa-check"></i><b>1.1.3</b> Hoeveel data is er beschikbaar?</a></li>
<li class="chapter" data-level="1.1.4" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#waar-wordt-data-voor-gebruikt-in-de-bedrijfswereld"><i class="fa fa-check"></i><b>1.1.4</b> Waar wordt data voor gebruikt in de bedrijfswereld?</a></li>
<li class="chapter" data-level="1.1.5" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#waarover-verzamelen-bedrijven-data"><i class="fa fa-check"></i><b>1.1.5</b> Waarover verzamelen bedrijven data</a></li>
<li class="chapter" data-level="1.1.6" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#van-data-tot-actionable-insights"><i class="fa fa-check"></i><b>1.1.6</b> Van data tot ‘actionable insights’</a></li>
<li class="chapter" data-level="1.1.7" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#data-scientists"><i class="fa fa-check"></i><b>1.1.7</b> Data Scientists</a></li>
<li class="chapter" data-level="1.1.8" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#verschillende-soorten-van-data-analyse"><i class="fa fa-check"></i><b>1.1.8</b> Verschillende soorten van data analyse</a></li>
<li class="chapter" data-level="1.1.9" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#de-kunst-van-data-analyse"><i class="fa fa-check"></i><b>1.1.9</b> De kunst van data analyse</a></li>
<li class="chapter" data-level="1.1.10" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#de-kracht-van-descriptieve-en-exploratieve-data-analyse"><i class="fa fa-check"></i><b>1.1.10</b> De kracht van descriptieve en exploratieve data analyse</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#data-data-types"><i class="fa fa-check"></i><b>1.2</b> Data &amp; Data types</a><ul>
<li class="chapter" data-level="1.2.1" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#dataset"><i class="fa fa-check"></i><b>1.2.1</b> Dataset</a></li>
<li class="chapter" data-level="1.2.2" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#klassieke-datatypologie"><i class="fa fa-check"></i><b>1.2.2</b> Klassieke datatypologie</a></li>
<li class="chapter" data-level="1.2.3" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#de-klassieke-datatypologie-is-misleidend"><i class="fa fa-check"></i><b>1.2.3</b> De klassieke datatypologie is misleidend</a></li>
<li class="chapter" data-level="1.2.4" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#alternatieve-datatypologie"><i class="fa fa-check"></i><b>1.2.4</b> Alternatieve datatypologie</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="lecture-notes-introductiecollege.html"><a href="lecture-notes-introductiecollege.html#referenties"><i class="fa fa-check"></i><b>1.3</b> Referenties</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html"><i class="fa fa-check"></i><b>2</b> [Lecture notes] Data visualizatie</a><ul>
<li class="chapter" data-level="2.1" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#univariate-visualisaties-1-variabele"><i class="fa fa-check"></i><b>2.1</b> Univariate visualisaties (1 variabele)</a><ul>
<li class="chapter" data-level="2.1.1" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#categorische-variabele"><i class="fa fa-check"></i><b>2.1.1</b> Categorische variabele</a></li>
<li class="chapter" data-level="2.1.2" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#continue-variabele"><i class="fa fa-check"></i><b>2.1.2</b> Continue variabele</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#bivariate-visualisatie-2-variabelen"><i class="fa fa-check"></i><b>2.2</b> Bivariate visualisatie (2 variabelen)</a><ul>
<li class="chapter" data-level="2.2.1" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#situatie-1-de-onafhankelijke-variabele-is-categorisch"><i class="fa fa-check"></i><b>2.2.1</b> Situatie 1: De onafhankelijke variabele is categorisch</a></li>
<li class="chapter" data-level="2.2.2" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#situatie-2-de-onafhankelijke-variabele-is-continue"><i class="fa fa-check"></i><b>2.2.2</b> Situatie 2: De onafhankelijke variabele is continue</a></li>
<li class="chapter" data-level="2.2.3" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#situatie-3-de-onafhankelijke-variabele-is-tijd"><i class="fa fa-check"></i><b>2.2.3</b> Situatie 3: De onafhankelijke variabele is tijd</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#multivariate-visualisaties-meer-dan-2-variabelen"><i class="fa fa-check"></i><b>2.3</b> Multivariate visualisaties (meer dan 2 variabelen)</a><ul>
<li class="chapter" data-level="2.3.1" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#voorbeeld-in-welke-mate-hangt-de-vertrek-vertraging-af-van-de-luchthaven-en-de-afstand"><i class="fa fa-check"></i><b>2.3.1</b> Voorbeeld: In welke mate hangt de vertrek vertraging af van de luchthaven en de afstand?</a></li>
<li class="chapter" data-level="2.3.2" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#voorbeeld-multivariaat-tijd"><i class="fa fa-check"></i><b>2.3.2</b> Voorbeeld: multivariaat tijd</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#visualisaties-voor-communicatie"><i class="fa fa-check"></i><b>2.4</b> Visualisaties voor communicatie</a><ul>
<li class="chapter" data-level="2.4.1" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#voorbeeld-voor-goed-voor-exploratie"><i class="fa fa-check"></i><b>2.4.1</b> Voorbeeld: voor ~ goed voor exploratie</a></li>
<li class="chapter" data-level="2.4.2" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#voorbeeld-na-goed-voor-communicatie"><i class="fa fa-check"></i><b>2.4.2</b> Voorbeeld: na ~ goed voor communicatie</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#how-charts-lie"><i class="fa fa-check"></i><b>2.5</b> How charts lie</a><ul>
<li class="chapter" data-level="2.5.1" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#causaliteit-vs-correlatie"><i class="fa fa-check"></i><b>2.5.1</b> Causaliteit vs correlatie</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="lecture-notes-data-visualizatie.html"><a href="lecture-notes-data-visualizatie.html#referenties-1"><i class="fa fa-check"></i><b>2.6</b> Referenties</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html"><i class="fa fa-check"></i><b>3</b> [Tutorial] Data visualisatie</a><ul>
<li class="chapter" data-level="3.1" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#voor-je-begint"><i class="fa fa-check"></i><b>3.1</b> Voor je begint</a></li>
<li class="chapter" data-level="3.2" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#introductie"><i class="fa fa-check"></i><b>3.2</b> Introductie</a></li>
<li class="chapter" data-level="3.3" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#verschillende-geometrics"><i class="fa fa-check"></i><b>3.3</b> Verschillende geometrics</a><ul>
<li class="chapter" data-level="3.3.1" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#geom_point"><i class="fa fa-check"></i><b>3.3.1</b> geom_point</a></li>
<li class="chapter" data-level="3.3.2" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#geom_histogram"><i class="fa fa-check"></i><b>3.3.2</b> geom_histogram</a></li>
<li class="chapter" data-level="3.3.3" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#geom_boxplot"><i class="fa fa-check"></i><b>3.3.3</b> geom_boxplot</a></li>
<li class="chapter" data-level="3.3.4" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#geom_violin"><i class="fa fa-check"></i><b>3.3.4</b> geom_violin</a></li>
<li class="chapter" data-level="3.3.5" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#geom_bar"><i class="fa fa-check"></i><b>3.3.5</b> geom_bar</a></li>
<li class="chapter" data-level="3.3.6" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#geom_col"><i class="fa fa-check"></i><b>3.3.6</b> geom_col</a></li>
<li class="chapter" data-level="3.3.7" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#other-geometrics"><i class="fa fa-check"></i><b>3.3.7</b> Other geometrics</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#layout-van-onze-grafieken-verbeteren"><i class="fa fa-check"></i><b>3.4</b> Layout van onze grafieken verbeteren</a><ul>
<li class="chapter" data-level="3.4.1" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#titels"><i class="fa fa-check"></i><b>3.4.1</b> Titels</a></li>
<li class="chapter" data-level="3.4.2" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#theme"><i class="fa fa-check"></i><b>3.4.2</b> Theme</a></li>
<li class="chapter" data-level="3.4.3" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#het-coördinatenstelsel"><i class="fa fa-check"></i><b>3.4.3</b> Het coördinatenstelsel</a></li>
<li class="chapter" data-level="3.4.4" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#color-scales"><i class="fa fa-check"></i><b>3.4.4</b> Color scales</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#geavanceerde-plots"><i class="fa fa-check"></i><b>3.5</b> Geavanceerde plots</a><ul>
<li class="chapter" data-level="3.5.1" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#gebruikmaken-van-facets"><i class="fa fa-check"></i><b>3.5.1</b> Gebruikmaken van Facets</a></li>
<li class="chapter" data-level="3.5.2" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#meerdere-layers-combineren"><i class="fa fa-check"></i><b>3.5.2</b> Meerdere layers combineren</a></li>
<li class="chapter" data-level="3.5.3" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#aes-overerving"><i class="fa fa-check"></i><b>3.5.3</b> Aes-overerving</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="tutorial-data-visualisatie.html"><a href="tutorial-data-visualisatie.html#background-material"><i class="fa fa-check"></i><b>3.6</b> Background material</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html"><i class="fa fa-check"></i><b>4</b> [Lecture notes] Descriptieve statistieken</a><ul>
<li class="chapter" data-level="4.1" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#beschrijvende-statistieken-versus-exploratieve-plots"><i class="fa fa-check"></i><b>4.1</b> Beschrijvende statistieken versus exploratieve plots</a></li>
<li class="chapter" data-level="4.2" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#notatie"><i class="fa fa-check"></i><b>4.2</b> Notatie</a></li>
<li class="chapter" data-level="4.3" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#data"><i class="fa fa-check"></i><b>4.3</b> Data</a></li>
<li class="chapter" data-level="4.4" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#univariate-statistieken"><i class="fa fa-check"></i><b>4.4</b> Univariate statistieken</a><ul>
<li class="chapter" data-level="4.4.1" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#continue-variabele-1"><i class="fa fa-check"></i><b>4.4.1</b> Continue variabele</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#centrummaten"><i class="fa fa-check"></i>Centrummaten</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#spreidingsmaten"><i class="fa fa-check"></i>Spreidingsmaten</a></li>
<li class="chapter" data-level="4.4.2" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#categorische-variabele-1"><i class="fa fa-check"></i><b>4.4.2</b> Categorische variabele</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#frequentietabel"><i class="fa fa-check"></i>Frequentietabel</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#centrummaten-1"><i class="fa fa-check"></i>Centrummaten</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#spreidingsmaten-1"><i class="fa fa-check"></i>Spreidingsmaten</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#bivariate-statistieken"><i class="fa fa-check"></i><b>4.5</b> Bivariate statistieken</a><ul>
<li class="chapter" data-level="4.5.1" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#categorisch-versus-categorisch"><i class="fa fa-check"></i><b>4.5.1</b> Categorisch versus Categorisch</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#univariate-statistieken-per-categoriewaarde"><i class="fa fa-check"></i>Univariate statistieken per categoriewaarde</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#contingentietabellen"><i class="fa fa-check"></i>Contingentietabellen</a></li>
<li class="chapter" data-level="4.5.2" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#categorisch-versus-continu"><i class="fa fa-check"></i><b>4.5.2</b> Categorisch versus Continu</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#univariate-statistieken-per-categoriewaarde-1"><i class="fa fa-check"></i>Univariate statistieken per categoriewaarde</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#correlatie"><i class="fa fa-check"></i>Correlatie</a></li>
<li class="chapter" data-level="4.5.3" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#continu-versus-continu"><i class="fa fa-check"></i><b>4.5.3</b> Continu versus Continu</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#correlatie-1"><i class="fa fa-check"></i>Correlatie</a></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#vergelijking-correlatiecoëfficiënten"><i class="fa fa-check"></i>Vergelijking correlatiecoëfficiënten</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lecture-notes-descriptieve-statistieken.html"><a href="lecture-notes-descriptieve-statistieken.html#referenties-2"><i class="fa fa-check"></i>Referenties</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html"><i class="fa fa-check"></i><b>5</b> [Tutorial] Descriptieve statistieken</a><ul>
<li class="chapter" data-level="5.1" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#voor-je-begint-1"><i class="fa fa-check"></i><b>5.1</b> Voor je begint</a></li>
<li class="chapter" data-level="5.2" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#introductie-1"><i class="fa fa-check"></i><b>5.2</b> Introductie</a></li>
<li class="chapter" data-level="5.3" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#nuttige-dplyr-functies"><i class="fa fa-check"></i><b>5.3</b> Nuttige dplyr functies</a><ul>
<li class="chapter" data-level="5.3.1" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#tibbles"><i class="fa fa-check"></i><b>5.3.1</b> Tibbles</a></li>
<li class="chapter" data-level="5.3.2" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#glimpse"><i class="fa fa-check"></i><b>5.3.2</b> Glimpse</a></li>
<li class="chapter" data-level="5.3.3" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#section"><i class="fa fa-check"></i><b>5.3.3</b> %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#univariate-analyse-van-een-continue-variabele"><i class="fa fa-check"></i><b>5.4</b> Univariate analyse van een continue variabele</a></li>
<li class="chapter" data-level="5.5" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#bivariate-analysis-of-a-continuous-variable-with-respect-to-a-categorical-variable"><i class="fa fa-check"></i><b>5.5</b> Bivariate analysis of a continuous variable with respect to a categorical variable</a></li>
<li class="chapter" data-level="5.6" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#univariate-analyse-van-een-categorische-variabele"><i class="fa fa-check"></i><b>5.6</b> Univariate analyse van een categorische variabele</a></li>
<li class="chapter" data-level="5.7" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#bivariate-analyse-van-een-continue-variabele-ten-opzichte-van-een-andere-continue-variabele"><i class="fa fa-check"></i><b>5.7</b> Bivariate analyse van een continue variabele ten opzichte van een andere continue variabele</a></li>
<li class="chapter" data-level="5.8" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#bivariate-analyse-van-een-categorische-variabele-ten-opzichte-van-een-andere-categorische-variabele"><i class="fa fa-check"></i><b>5.8</b> Bivariate analyse van een categorische variabele ten opzichte van een andere categorische variabele</a></li>
<li class="chapter" data-level="5.9" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#background-material-1"><i class="fa fa-check"></i><b>5.9</b> Background material</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="lecture-notes-structuur-van-een-data-analyse-project-.html"><a href="lecture-notes-structuur-van-een-data-analyse-project-.html"><i class="fa fa-check"></i><b>6</b> [Lecture notes] Structuur van een data analyse project.</a></li>
<li class="chapter" data-level="7" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html"><i class="fa fa-check"></i><b>7</b> [Lecture notes] Data voorbereiden</a><ul>
<li class="chapter" data-level="7.1" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#beginnen-bij-het-begin"><i class="fa fa-check"></i><b>7.1</b> Beginnen bij het begin</a></li>
<li class="chapter" data-level="7.2" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#data-inlezen"><i class="fa fa-check"></i><b>7.2</b> Data inlezen</a><ul>
<li class="chapter" data-level="7.2.1" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#uitdagingen-bij-het-correct-inlezen-van-data"><i class="fa fa-check"></i><b>7.2.1</b> Uitdagingen bij het correct inlezen van data</a></li>
<li class="chapter" data-level="7.2.2" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#dataformaten"><i class="fa fa-check"></i><b>7.2.2</b> Dataformaten</a></li>
<li class="chapter" data-level="7.2.3" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#data-encodering"><i class="fa fa-check"></i><b>7.2.3</b> Data-encodering</a></li>
<li class="chapter" data-level="7.2.4" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#datatypes-controlleren-en-corrigeren"><i class="fa fa-check"></i><b>7.2.4</b> Datatypes controlleren en corrigeren</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#dataproblemen-identificeren-en-corrigeren"><i class="fa fa-check"></i><b>7.3</b> Dataproblemen identificeren en corrigeren</a><ul>
<li class="chapter" data-level="7.3.1" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#overzicht"><i class="fa fa-check"></i><b>7.3.1</b> Overzicht</a></li>
<li class="chapter" data-level="7.3.2" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#foutieve-waarden"><i class="fa fa-check"></i><b>7.3.2</b> Foutieve waarden</a></li>
<li class="chapter" data-level="7.3.3" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#ontbrekende-waarden"><i class="fa fa-check"></i><b>7.3.3</b> Ontbrekende waarden</a></li>
<li class="chapter" data-level="7.3.4" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#inconsistente-waarden"><i class="fa fa-check"></i><b>7.3.4</b> Inconsistente waarden</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#data-opwaarderen"><i class="fa fa-check"></i><b>7.4</b> Data opwaarderen</a><ul>
<li class="chapter" data-level="7.4.1" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#sampling"><i class="fa fa-check"></i><b>7.4.1</b> Sampling</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lecture-notes-data-voorbereiden.html"><a href="lecture-notes-data-voorbereiden.html#referenties-3"><i class="fa fa-check"></i>Referenties</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html"><i class="fa fa-check"></i><b>8</b> [Tutorial] Data voorbereiden</a><ul>
<li class="chapter" data-level="8.1" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#voor-je-begint-2"><i class="fa fa-check"></i><b>8.1</b> Voor je begint</a></li>
<li class="chapter" data-level="8.2" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#inleiding"><i class="fa fa-check"></i><b>8.2</b> Inleiding</a></li>
<li class="chapter" data-level="8.3" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#gegevens-lezen"><i class="fa fa-check"></i><b>8.3</b> Gegevens lezen</a><ul>
<li class="chapter" data-level="8.3.1" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#csv-and-tsv"><i class="fa fa-check"></i><b>8.3.1</b> CSV and TSV</a></li>
<li class="chapter" data-level="8.3.2" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#excel"><i class="fa fa-check"></i><b>8.3.2</b> Excel</a></li>
<li class="chapter" data-level="8.3.3" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#json-en-xml"><i class="fa fa-check"></i><b>8.3.3</b> JSON en XML</a></li>
<li class="chapter" data-level="8.3.4" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#andere-statistische-pakketten"><i class="fa fa-check"></i><b>8.3.4</b> Andere statistische pakketten</a></li>
<li class="chapter" data-level="8.3.5" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#databases"><i class="fa fa-check"></i><b>8.3.5</b> Databases</a></li>
<li class="chapter" data-level="8.3.6" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#achtergrond-materiaal"><i class="fa fa-check"></i><b>8.3.6</b> Achtergrond materiaal</a></li>
<li class="chapter" data-level="8.3.7" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#variabelen-omzetten"><i class="fa fa-check"></i><b>8.3.7</b> Variabelen omzetten</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#cleaning-data"><i class="fa fa-check"></i><b>8.4</b> Cleaning Data</a><ul>
<li class="chapter" data-level="8.4.1" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#dubbele-observaties"><i class="fa fa-check"></i><b>8.4.1</b> Dubbele observaties</a></li>
<li class="chapter" data-level="8.4.2" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#cleaning-categorische-variabelen"><i class="fa fa-check"></i><b>8.4.2</b> Cleaning categorische variabelen</a></li>
<li class="chapter" data-level="8.4.3" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#cleaning-continue-variabelen"><i class="fa fa-check"></i><b>8.4.3</b> Cleaning continue variabelen</a></li>
<li class="chapter" data-level="8.4.4" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#data-inconsistenties"><i class="fa fa-check"></i><b>8.4.4</b> Data inconsistenties</a></li>
<li class="chapter" data-level="8.4.5" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#missing-values"><i class="fa fa-check"></i><b>8.4.5</b> Missing values</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#data-transformatie"><i class="fa fa-check"></i><b>8.5</b> Data transformatie</a><ul>
<li class="chapter" data-level="8.5.1" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#discretisern-van-continue-variablen"><i class="fa fa-check"></i><b>8.5.1</b> Discretisern van continue variablen</a></li>
<li class="chapter" data-level="8.5.2" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#herschalen-van-continue-variablen"><i class="fa fa-check"></i><b>8.5.2</b> Herschalen van continue variablen</a></li>
<li class="chapter" data-level="8.5.3" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#toevoegen-van-calculated-variables"><i class="fa fa-check"></i><b>8.5.3</b> Toevoegen van calculated variables</a></li>
<li class="chapter" data-level="8.5.4" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#factoren-transformeren"><i class="fa fa-check"></i><b>8.5.4</b> Factoren transformeren</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#data-transformaties-tijdens-data-visualizatie"><i class="fa fa-check"></i><b>8.6</b> Data transformaties tijdens data visualizatie</a></li>
<li class="chapter" data-level="8.7" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#achtergrondmateriaal"><i class="fa fa-check"></i><b>8.7</b> Achtergrondmateriaal</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="lecture-notes-tidy-data.html"><a href="lecture-notes-tidy-data.html"><i class="fa fa-check"></i><b>9</b> [Lecture notes] Tidy data</a><ul>
<li class="chapter" data-level="9.1" data-path="lecture-notes-tidy-data.html"><a href="lecture-notes-tidy-data.html#inleiding-1"><i class="fa fa-check"></i><b>9.1</b> Inleiding</a></li>
<li class="chapter" data-level="9.2" data-path="lecture-notes-tidy-data.html"><a href="lecture-notes-tidy-data.html#case-nyc-vluchten-2013"><i class="fa fa-check"></i><b>9.2</b> Case: NYC Vluchten 2013</a><ul>
<li class="chapter" data-level="9.2.1" data-path="lecture-notes-tidy-data.html"><a href="lecture-notes-tidy-data.html#datasets-samenvoegen"><i class="fa fa-check"></i><b>9.2.1</b> Datasets samenvoegen</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="lecture-notes-tidy-data.html"><a href="lecture-notes-tidy-data.html#data-in-een-lang-formaat-plaatsen-voor-visuele-analyses"><i class="fa fa-check"></i><b>9.3</b> Data in een lang formaat plaatsen (voor visuele analyses)</a></li>
<li class="chapter" data-level="9.4" data-path="lecture-notes-tidy-data.html"><a href="lecture-notes-tidy-data.html#data-in-een-breed-formaat-plaatsen-voor-overzichtelijke-tabellen"><i class="fa fa-check"></i><b>9.4</b> Data in een breed formaat plaatsen (voor overzichtelijke tabellen)</a></li>
<li class="chapter" data-level="9.5" data-path="lecture-notes-tidy-data.html"><a href="lecture-notes-tidy-data.html#referenties-4"><i class="fa fa-check"></i><b>9.5</b> Referenties</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html"><i class="fa fa-check"></i><b>10</b> [Tutorial] Tidy data</a><ul>
<li class="chapter" data-level="10.1" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#voor-je-begint-3"><i class="fa fa-check"></i><b>10.1</b> Voor je begint</a></li>
<li class="chapter" data-level="" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#disclaimer-1"><i class="fa fa-check"></i>Disclaimer</a></li>
<li class="chapter" data-level="10.2" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#data-samenvoegen"><i class="fa fa-check"></i><b>10.2</b> Data samenvoegen</a><ul>
<li class="chapter" data-level="10.2.1" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#joining-data"><i class="fa fa-check"></i><b>10.2.1</b> Joining data</a></li>
<li class="chapter" data-level="10.2.2" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#inner-join"><i class="fa fa-check"></i><b>10.2.2</b> Inner join</a></li>
<li class="chapter" data-level="10.2.3" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#left-join"><i class="fa fa-check"></i><b>10.2.3</b> Left join</a></li>
<li class="chapter" data-level="10.2.4" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#right-join"><i class="fa fa-check"></i><b>10.2.4</b> Right join</a></li>
<li class="chapter" data-level="10.2.5" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#full-join"><i class="fa fa-check"></i><b>10.2.5</b> Full join</a></li>
<li class="chapter" data-level="10.2.6" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#duplicates"><i class="fa fa-check"></i><b>10.2.6</b> Duplicates</a></li>
<li class="chapter" data-level="10.2.7" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#een-voorbeeld"><i class="fa fa-check"></i><b>10.2.7</b> Een voorbeeld</a></li>
<li class="chapter" data-level="10.2.8" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#binding-data"><i class="fa fa-check"></i><b>10.2.8</b> Binding data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#transforming-data"><i class="fa fa-check"></i><b>10.3</b> Transforming data</a><ul>
<li class="chapter" data-level="10.3.1" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#unite-variables"><i class="fa fa-check"></i><b>10.3.1</b> Unite variables</a></li>
<li class="chapter" data-level="10.3.2" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#separate-variables"><i class="fa fa-check"></i><b>10.3.2</b> Separate variables</a></li>
<li class="chapter" data-level="10.3.3" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#spread-data"><i class="fa fa-check"></i><b>10.3.3</b> Spread data</a></li>
<li class="chapter" data-level="10.3.4" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#gather-data"><i class="fa fa-check"></i><b>10.3.4</b> Gather data</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#case-study-who"><i class="fa fa-check"></i><b>10.4</b> [Case study]: WHO</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html"><i class="fa fa-check"></i><b>11</b> [Lecture notes] Tijdsdata</a><ul>
<li class="chapter" data-level="11.1" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#inleiding-2"><i class="fa fa-check"></i><b>11.1</b> Inleiding</a><ul>
<li class="chapter" data-level="11.1.1" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#tijdstippen-versus-periodes"><i class="fa fa-check"></i><b>11.1.1</b> Tijdstippen versus periodes</a></li>
<li class="chapter" data-level="11.1.2" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#afronden-van-tijdstippen"><i class="fa fa-check"></i><b>11.1.2</b> Afronden van tijdstippen</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#periode-data"><i class="fa fa-check"></i><b>11.2</b> Periode-data</a><ul>
<li class="chapter" data-level="11.2.1" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#interval-1"><i class="fa fa-check"></i><b>11.2.1</b> Interval</a></li>
<li class="chapter" data-level="11.2.2" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#duration"><i class="fa fa-check"></i><b>11.2.2</b> Duration</a></li>
<li class="chapter" data-level="11.2.3" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#period"><i class="fa fa-check"></i><b>11.2.3</b> Period</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#analyseren-van-tijdgerelateerde-data"><i class="fa fa-check"></i><b>11.3</b> Analyseren van tijdgerelateerde data</a></li>
<li class="chapter" data-level="11.4" data-path="lecture-notes-tijdsdata.html"><a href="lecture-notes-tijdsdata.html#referenties-5"><i class="fa fa-check"></i><b>11.4</b> Referenties</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html"><i class="fa fa-check"></i><b>12</b> [Tutorial] Tijdsdata</a><ul>
<li class="chapter" data-level="12.1" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#voor-we-beginnen"><i class="fa fa-check"></i><b>12.1</b> Voor we beginnen</a></li>
<li class="chapter" data-level="12.2" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#introduction"><i class="fa fa-check"></i><b>12.2</b> Introduction</a></li>
<li class="chapter" data-level="12.3" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#whats-in-a-date"><i class="fa fa-check"></i><b>12.3</b> What’s in a date?</a></li>
<li class="chapter" data-level="12.4" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#theres-always-time"><i class="fa fa-check"></i><b>12.4</b> There’s always time</a></li>
<li class="chapter" data-level="12.5" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#my-time-is-not-your-time"><i class="fa fa-check"></i><b>12.5</b> My time is not your time</a></li>
<li class="chapter" data-level="12.6" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#extract-information-from-dates"><i class="fa fa-check"></i><b>12.6</b> Extract information from dates</a></li>
<li class="chapter" data-level="12.7" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#time-differences"><i class="fa fa-check"></i><b>12.7</b> Time differences</a><ul>
<li class="chapter" data-level="12.7.1" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#period-1"><i class="fa fa-check"></i><b>12.7.1</b> Period</a></li>
<li class="chapter" data-level="12.7.2" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#durations"><i class="fa fa-check"></i><b>12.7.2</b> Durations</a></li>
<li class="chapter" data-level="12.7.3" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#periods-are-not-durations"><i class="fa fa-check"></i><b>12.7.3</b> Periods are not durations</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#arithmetics"><i class="fa fa-check"></i><b>12.8</b> Arithmetics</a></li>
<li class="chapter" data-level="12.9" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#interval-2"><i class="fa fa-check"></i><b>12.9</b> Interval</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploratieve en Descriptieve Data Analyse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tutorial-descriptieve-statistieken" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> [Tutorial] Descriptieve statistieken</h1>
<div id="voor-je-begint-1" class="section level2">
<h2><span class="header-section-number">5.1</span> Voor je begint</h2>
<p>Voordat je aan deze tutorial begint, moet je eerst de pakketten <code>dplyr</code>, <code>tidyr</code>, <code>ggcorrplot</code>, en <code>ggplot2</code> geïnstalleerd hebben, <strong>als je dat nog niet gedaan hebt</strong>. Deze kunt u laden met de <code>library</code> functie. Als je sommige nog moet installeren, gebruik dan eerst <code>install.packages</code>.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb40-2" title="2"><span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb40-3" title="3"><span class="kw">library</span>(ggplot2)</a></code></pre></div>
<p>Daarnaast wil je misschien ook de volgende packages gebruiken. Ze zullen nuttig blijken op een bepaald punt in deze tutorial, maar zijn niet strikt noodzakelijk.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">library</span>(pander)</a>
<a class="sourceLine" id="cb41-2" title="2"><span class="kw">library</span>(forcats)</a></code></pre></div>
<p>Deze tutorial maakt gebruik van de <code>mpg</code> dataset, die informatie bevat over 234 verschillende auto’s. Het <code>mpg.RDS</code> bestand wordt met deze tutorial meegeleverd.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1">mpg &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;mpg.RDS&quot;</span>)</a></code></pre></div>
<p>De dataset bevat de volgende variabelen:<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a></p>
<table>
<colgroup>
<col width="37%" />
<col width="62%" />
</colgroup>
<thead>
<tr class="header">
<th>Variabele</th>
<th>Beschrijving</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>manufacturer</td>
<td>De fabrikant</td>
</tr>
<tr class="even">
<td>model</td>
<td>De naam van het model</td>
</tr>
<tr class="odd">
<td>displ</td>
<td>Motorinhoud, in liters</td>
</tr>
<tr class="even">
<td>year</td>
<td>bouwjaar</td>
</tr>
<tr class="odd">
<td>cyl</td>
<td>Aantal cilinders</td>
</tr>
<tr class="even">
<td>trans</td>
<td>Type transmissie (<em>koppeling</em>)</td>
</tr>
<tr class="odd">
<td>drv</td>
<td>f = voorwielaandrijving, r = achterwielaandrijving, 4 = 4wd</td>
</tr>
<tr class="even">
<td>cty</td>
<td>Aantal mijl per gallon brandstof in stadsomgeving</td>
</tr>
<tr class="odd">
<td>hwy</td>
<td>Aantal mijl per gallon brandstof op snelweg</td>
</tr>
<tr class="even">
<td>fl</td>
<td>Brandstoftype (c,d,e,p,r)</td>
</tr>
<tr class="odd">
<td>class</td>
<td>Type auto (2seater, compact, midsize, minivan, pickup, subcompact, suv)</td>
</tr>
</tbody>
</table>
</div>
<div id="introductie-1" class="section level2">
<h2><span class="header-section-number">5.2</span> Introductie</h2>
<p>Het doel van deze tutorial is om zowel univariate als bivariate analyses uit te voeren met het <code>dplyr</code> package. Verder zullen in een beperkt aantal gevallen de <code>tidyr</code> en <code>ggcorrplot</code> packages. worden gebruikt voor extra ondersteuning.</p>
<p>De univariate analyse wordt uitgevoerd voor zowel categorische als continue variabelen. De bivariate analyse wordt uitgevoerd voor elk van de volgende paren: continu-categorisch, continu-continu en categorisch-categorisch. Naast een <em>numerieke</em> analyse met behulp van functies uit de eerder genoemde pakketten, zullen de analyses vergezeld gaan van passende grafieken gemaakt met <code>ggplot2</code>. Een basiskennis van <code>ggplot2</code> is vereist.</p>
<p>De tutorial is als volgt opgebouwd:</p>
<ul>
<li>Enkele algemene, nuttige dplyr functies</li>
<li>Univariate analyse van een continue variabele</li>
<li>Bivariate analyse van een continue variabele vs. een categorische variabele</li>
<li>Univariate analyse van een categorische variabele</li>
<li>Bivariate analyse van een continue variabele vs. een andere continue variabele</li>
<li>Bivariate analyse van een categorische variabele vs. een andere categorische variabele</li>
</ul>
</div>
<div id="nuttige-dplyr-functies" class="section level2">
<h2><span class="header-section-number">5.3</span> Nuttige dplyr functies</h2>
<p>Voordat we overgaan tot het analyseren van onze dataset, zijn er een paar handige hulpfuncties in dplyr die we kunnen gebruiken om onze gegevens te verwerken en te analyseren. De eerste is <code>as_tibble</code>.</p>
<div id="tibbles" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Tibbles</h3>
<p>Gegeven een data.frame <code>df</code>, zal <code>as_tibble(df)</code> het in een <em>tibble</em> veranderen. Een tibble is een speciaal soort data.frame dat gebruikt wordt door dplyr en andere pakketten van het tidyverse.<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a> Wanneer een data.frame wordt omgezet in een tibble zal de klasse veranderen.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1"><span class="kw">class</span>(mpg)</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1">mpg &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(mpg)</a>
<a class="sourceLine" id="cb45-2" title="2"><span class="kw">class</span>(mpg)</a></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<p>Je kunt zien dat het <code>mpg</code> object nu drie verschillende <code>class</code> labels heeft. Het is nog steeds een data.frame, maar een speciaal soort data.frame, namelijk een tibble data.frame.</p>
<p>Het verschil tussen een gewoon data.frame en een tibble data.frame is het meest merkbaar bij het afdrukken van (grote) data.frames. Probeer maar eens de dataset met de volgende twee regels in de console af te drukken.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" title="1"><span class="co">#Deze regels worden hier niet uitgevoerd </span></a>
<a class="sourceLine" id="cb47-2" title="2"><span class="co">#je kunt ze proberen in de console.</span></a>
<a class="sourceLine" id="cb47-3" title="3"><span class="kw">as.data.frame</span>(mpg)</a>
<a class="sourceLine" id="cb47-4" title="4">mpg</a></code></pre></div>
<p>Merk je het verschil? Bij het afdrukken van een gewoon data.frame, zal een overvloed aan observaties worden afgedrukt in de console. Het resultaat is dat je terug naar boven moet scrollen om de variabelnamen te zien. Erger nog, wanneer de kolommen niet op een enkele pagina passen, zal elke observatie verspreid worden over verschillende lijnen, waardoor de uitvoer onleesbaar wordt.<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a></p>
<p>Wanneer echter een tibble data.frame wordt afgedrukt, worden standaard alleen de eerste 10 rijen afgedrukt, en variabelen die niet binnen de breedte van de pagina of console passen worden verborgen. Dit maakt de afgedrukte dataset veel leesbaarder en onze console minder rommelig.</p>
<p>Het nadeel van deze aanpak is dat je soms meer waarnemingen of meer variabelen wil zien, zonder je tibble terug in een data.frame te veranderen. Je kunt dit oplossen door expliciet de <code>print</code> functie te gebruiken en de argumenten <code>n</code> en <code>width</code> in te stellen. De volgende regel drukt alle rijen en kolommen af, door beide argumenten op <code>Inf</code> te zetten, wat staat voor oneindig.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> Je kunt ook andere waarden gebruiken om ander aantallen kolommen en rijen te printen. Later zullen we zien hoe we specifieke rijen en kolommen kunnen printen. Merk daarnaast op dat je altijd <code>View()</code> kan gebruiken om de volledige dataset te tonen in een apart Rstudio panel.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1"><span class="co">#Deze regel wordt hier niet uitgevoerd - je kunt het in de console proberen.</span></a>
<a class="sourceLine" id="cb48-2" title="2"><span class="kw">print</span>(mpg, <span class="dt">n =</span> <span class="ot">Inf</span>, <span class="dt">width =</span> <span class="ot">Inf</span>)</a></code></pre></div>
<p>Behalve voor het printen, laten tibbles enkele eenvoudiger manipulaties toe vergeleken met een normaal <code>data.frame</code> als je het pakket <code>tibble</code> installeert. Dit valt echter buiten het bereik van deze tutorial. Verder zal je zien dat de uitvoer van <code>dplyr</code> functies die in de rest van deze tutorial worden besproken automatisch tibbles zijn. Dit betekent dat je vaak niet expliciet <code>as_tibble</code> hoeft te gebruiken. Voor nu is het dus voldoende om het verschil te begrijpen.</p>
</div>
<div id="glimpse" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Glimpse</h3>
<p>Een tweede handige functie is de <code>glimpse</code> functie. Deze functie is het <code>dplyr</code>-alternatief voor de bekende <code>str</code>-functie voor base-R, en is dus nuttig voor een eerste inspectie van de dataset die voorhanden is. Het zal een iets andere output geven dan <code>str</code>, en wordt door sommigen als netter ervaren.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" title="1"><span class="kw">str</span>(mpg)</a></code></pre></div>
<pre><code>## tibble [234 x 11] (S3: tbl_df/tbl/data.frame)
##  $ manufacturer: Factor w/ 15 levels &quot;audi&quot;,&quot;chevrolet&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ model       : Factor w/ 38 levels &quot;4runner 4wd&quot;,..: 2 2 2 2 2 2 2 3 3 3 ...
##  $ displ       : num [1:234] 1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ...
##  $ year        : int [1:234] 1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ...
##  $ cyl         : Ord.factor w/ 4 levels &quot;4&quot;&lt;&quot;5&quot;&lt;&quot;6&quot;&lt;&quot;8&quot;: 1 1 1 1 3 3 3 1 1 1 ...
##  $ trans       : Factor w/ 10 levels &quot;auto(av)&quot;,&quot;auto(l3)&quot;,..: 4 9 10 1 4 9 1 9 4 10 ...
##  $ drv         : Factor w/ 3 levels &quot;4&quot;,&quot;f&quot;,&quot;r&quot;: 2 2 2 2 2 2 2 1 1 1 ...
##  $ cty         : int [1:234] 18 21 20 21 16 18 18 18 16 20 ...
##  $ hwy         : int [1:234] 29 29 31 30 26 26 27 26 25 28 ...
##  $ fl          : Factor w/ 5 levels &quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;p&quot;,..: 4 4 4 4 4 4 4 4 4 4 ...
##  $ class       : Factor w/ 7 levels &quot;2seater&quot;,&quot;compact&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" title="1"><span class="kw">glimpse</span>(mpg)</a></code></pre></div>
<pre><code>## Rows: 234
## Columns: 11
## $ manufacturer &lt;fct&gt; audi, audi, audi, audi, audi, audi, audi, audi, audi, ...
## $ model        &lt;fct&gt; a4, a4, a4, a4, a4, a4, a4, a4 quattro, a4 quattro, a4...
## $ displ        &lt;dbl&gt; 1.8, 1.8, 2.0, 2.0, 2.8, 2.8, 3.1, 1.8, 1.8, 2.0, 2.0,...
## $ year         &lt;int&gt; 1999, 1999, 2008, 2008, 1999, 1999, 2008, 1999, 1999, ...
## $ cyl          &lt;ord&gt; 4, 4, 4, 4, 6, 6, 6, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 8, ...
## $ trans        &lt;fct&gt; auto(l5), manual(m5), manual(m6), auto(av), auto(l5), ...
## $ drv          &lt;fct&gt; f, f, f, f, f, f, f, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, ...
## $ cty          &lt;int&gt; 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17...
## $ hwy          &lt;int&gt; 29, 29, 31, 30, 26, 26, 27, 26, 25, 28, 27, 25, 25, 25...
## $ fl           &lt;fct&gt; p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, ...
## $ class        &lt;fct&gt; compact, compact, compact, compact, compact, compact, ...</code></pre>
</div>
<div id="section" class="section level3">
<h3><span class="header-section-number">5.3.3</span> %&gt;%</h3>
<p>Een andere handige functie is een heel speciale, en heet <em>het piping-symbool</em>.<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> Het piping-symbool bestaat uit een groter-dan-teken, voorafgegaan en gevolgd door een %-teken.</p>
<p>Het piping-symbool kan worden gebruikt om verschillende commandos <em>met elkaar te verbinden</em>. Je kunt het vergelijken met leidingen in een waterleidingnet. Binnen een waterzuiveringsstation vervoeren leidingen het water van het ene zuiveringsstation naar het volgende en uiteindelijk naar de huishoudens. Hier gebruiken we het piping-symbool om onze gegevens van de ene manipulatie naar de volgende te brengen. Beschouw dit zeer eenvoudige voorbeeld:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" title="1"><span class="co">#Deze regel wordt hier niet uitgevoerd </span></a>
<a class="sourceLine" id="cb53-2" title="2"><span class="co">#je kunt het in de console proberen.</span></a>
<a class="sourceLine" id="cb53-3" title="3"><span class="kw">head</span>(mpg)</a></code></pre></div>
<p>We kunnen deze regel parafraseren als: “Neem het hoofd (d.w.z. de eerste 6 rijen) van de dataset <code>mpg</code>.”</p>
<p>Wanneer we het piping-symbool gebruiken, kan het eerste argument van een functie <em>voor</em> de functie-aanroep worden geplaatst in plaats van erbinnen. De laatste regel code is daarom gelijk aan de volgende regel.<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1"><span class="co">#Deze regel wordt hier niet uitgevoerd </span></a>
<a class="sourceLine" id="cb54-2" title="2"><span class="co">#je kunt het in de console proberen.</span></a>
<a class="sourceLine" id="cb54-3" title="3">mpg <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a></code></pre></div>
<p>We kunnen nu zeggen: “We nemen de dataset mpg en nemen dan het hoofd ervan.” Deze zin lijkt natuurlijker, want hij is heel gemakkelijk uit te breiden met de verdere stappen die je gaat nemen.</p>
<p>Zoals leidingen water van de ene plaats naar de volgende brengen in een waterleidingnet, brengt het piping-symbool onze gegevens van de ene plaats naar de volgende, in dit geval de head-functie. Op dit moment lijkt het misschien belachelijk om dit te doen, maar zoals we heel snel zullen zien, komt dit symbool heel goed van pas.</p>
<p>Als ander voorbeeld: merk op dat de volgende twee hypothetische verklaringen zijn gelijkwaardig</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" title="1"><span class="kw">f</span>(x,y,z)</a>
<a class="sourceLine" id="cb55-2" title="2">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">f</span>(y,z)</a></code></pre></div>
<p>En als we twee functies hebben, bv. <code>f</code> en <code>g</code> die we genest hebben aangeroepen, d.w.z. de een binnen de ander, dan kunnen we het volgende doen.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" title="1"><span class="kw">f</span>(<span class="kw">g</span>(x,y),z)</a>
<a class="sourceLine" id="cb56-2" title="2"><span class="co"># Breng het eerste argument van f naar voren</span></a>
<a class="sourceLine" id="cb56-3" title="3"><span class="kw">g</span>(x,y) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">f</span>(z) </a>
<a class="sourceLine" id="cb56-4" title="4"><span class="co"># Breng het eerste argument van g naar voren</span></a>
<a class="sourceLine" id="cb56-5" title="5">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">g</span>(y) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">f</span>(z)</a></code></pre></div>
<p>Dus, dit commando neemt x, voert functie g uit met argument y en dan wordt het resultaat gegeven aan functie f met tweede argument z. Dit is veel gemakkelijker te lezen dan de originele regel, waar we functie f uitvoerden op het resultaat van functie g op x en y, en z gebruikten als tweede argument voor f.</p>
<p>Echter, dat is genoeg wat betreft abstracte concepten. Het is tijd om iets met onze dataset te doen en dit symbool nuttig te gebruiken.</p>
</div>
</div>
<div id="univariate-analyse-van-een-continue-variabele" class="section level2">
<h2><span class="header-section-number">5.4</span> Univariate analyse van een continue variabele</h2>
<p>We beginnen met een uniforme analyse van continue variabelen. Voorbeelden van continue variabelen zijn leeftijd, afstand, snelheid, gewicht, enz. Voor dit soort variabelen kunnen we het centrulm en de spreiding meten. Maatstaven voor centrum zijn gemiddelde en mediaan. Maatstaven voor spreiding zijn standaardafwijking, kwantielen, min en max, interkwartielafstand en bereik.</p>
<p>Al deze maatstaven hebben één ding gemeen: zij <em>vatten</em> een continue variabele <em>samen</em> door middel van <em>één</em> getal, <em>één</em> waarde. Dit kan worden uitgevoerd met behulp van de <code>summarise</code> functie van <code>dplyr</code>.<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a></p>
<p>Als voorbeeld, stel dat we het gemiddelde en de standaardafwijking van de <code>cty</code> willen berekenen.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" title="1"><span class="kw">summarize</span>(mpg, <span class="dt">mean_cty =</span> <span class="kw">mean</span>(cty), <span class="dt">st_dev_cty =</span> <span class="kw">sd</span>(cty))</a></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   mean_cty st_dev_cty
##      &lt;dbl&gt;      &lt;dbl&gt;
## 1     16.9       4.26</code></pre>
<p>Het eerste argument van <code>summarize</code> is het data argument. Alle volgende argumenten worden nieuwe kolommen in de resulterende tabellen. <em>mean_cty</em> en <em>st_dev_cty</em> zijn de namen van de nieuwe kolommen. Deze namen kan je volledig zelf beslissen. De delen na het =-teken worden de inhoud van de kolommen, d.w.z. het gemiddelde (berekend met de <code>mean</code> functie) en de standaardafwijking (berekend met de <code>sd</code> functie).</p>
<p>In plaats van namen zonder aanhalingstekens te geven (bijv. mean_cty), kan je ook aanhalingstekens toevoegen. Hierdoor kunt u spaties gebruiken. Wanneer je uitvoer definitief is en niet bedoeld is voor verdere manipulatie, zou u dit kunnen doen, om mooie kolomnamen te hebben in je rapport. Bijvoorbeeld<code>mpg %&gt;% summarize("Gemiddelde cty" = mean(cty))</code>. In het algemeen kan je spaties echter beter vermijden.</p>
<p>We kunnen de bovenstaande regel herschrijven door het %&gt;% symbool te gebruiken. Merk op dat na dit symbool, we <em>enter</em> hebben gebruikt, zodat summarize op een nieuwe regel begint, met een inspringing. De inspringing wijst erop dat deze regels eigenlijk één statement vormen (d.w.z. de ene regel kan niet worden uitgevoerd zonder de andere).<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a></p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb59-2" title="2"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_cty =</span> <span class="kw">mean</span>(cty), <span class="dt">st_dev_cty =</span> <span class="kw">sd</span>(cty)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb59-3" title="3"><span class="st">    </span><span class="kw">pander</span>()</a></code></pre></div>
<table style="width:33%;">
<colgroup>
<col width="15%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">mean_cty</th>
<th align="center">st_dev_cty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">16.86</td>
<td align="center">4.256</td>
</tr>
</tbody>
</table>
<p>Alle functies die gebruikt worden binnen de <code>summarize</code> functie moeten <em>één</em> en slechts <em>één</em> waarde teruggeven, d.w.z. het gemiddelde, de mediaan, de interkwartielafstand, enz. We noemen deze functies <em>summary-functies</em>. Een (onvolledige) lijst van samenvattende functies is hier opgenomen:</p>
<ul>
<li><code>min</code></li>
<li><code>max</code></li>
<li><code>mean</code></li>
<li><code>median</code></li>
<li><code>first</code> (eerste element van vector)</li>
<li><code>last</code> (laatste element van vector)</li>
<li><code>n</code> (aantal waarden in een dataset)<a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a></li>
<li><code>nth</code> (n-de waarde van vector)</li>
<li><code>n_distinct</code> (aantal verschillende waarden in vecetor)</li>
<li><code>IQR</code> (interkwartielafstand)</li>
<li><code>var</code> (variantie)</li>
<li><code>sd</code> (standaardafwijking)</li>
<li><code>quantile</code></li>
<li><code>sum</code></li>
</ul>
<p>Merk op dat (behalve <code>n</code>) al deze functies ook gebruikt kunnen worden op normale vectoren, dus niet binnen de <code>summarize</code> functie. Omgekeerd zijn dit niet de enige functies die binnen <code>summarize</code> gebruikt kunnen worden. In het algemeen kunnen alle functies die één enkele waarde teruggeven worden gebruikt. Bovendien kunnen we ook kolommen opnemen waarvan we de waarde handmatig hebben ingesteld. Bijvoorbeeld, we kunnen het laatste voorbeeld bijwerken en opnemen dat we de <code>cty</code> variabele als kolom hebben gebruikt. In dit geval hebben we geen summary-functie nodig, maar alleen een waarde, bijvoorbeeld “cty”.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb60-2" title="2"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">variable =</span> <span class="st">&quot;cty&quot;</span>, <span class="dt">mean =</span> <span class="kw">mean</span>(cty), <span class="dt">st_dev =</span> <span class="kw">sd</span>(cty)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb60-3" title="3"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:39%;">
<colgroup>
<col width="15%" />
<col width="11%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">variable</th>
<th align="center">mean</th>
<th align="center">st_dev</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">cty</td>
<td align="center">16.86</td>
<td align="center">4.256</td>
</tr>
</tbody>
</table>
<p>Sommige overzichtsfuncties hebben extra argumenten nodig, zoals de <code>nth</code> functie, die een waarde voor n nodig heeft, en eventueel een ordening kan opgeven. De <code>quantile</code> functie heeft een <code>probs</code> argument nodig, dat staat voor het percentiel. Bijvoorbeeld, om het eerste 10% percentiel te berekenen, stellen we <code>probs = 0.1</code> in. Hieronder berekenen we bijvoorbeelde de kwintielen van de cty variabele.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb61-2" title="2"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">variable =</span> <span class="st">&quot;cty&quot;</span>,</a>
<a class="sourceLine" id="cb61-3" title="3">              <span class="dt">q0.2 =</span> <span class="kw">quantile</span>(cty, <span class="fl">0.2</span>),</a>
<a class="sourceLine" id="cb61-4" title="4">              <span class="dt">q0.4 =</span> <span class="kw">quantile</span>(cty, <span class="fl">0.4</span>),</a>
<a class="sourceLine" id="cb61-5" title="5">              <span class="dt">q0.6 =</span> <span class="kw">quantile</span>(cty, <span class="fl">0.6</span>),</a>
<a class="sourceLine" id="cb61-6" title="6">              <span class="dt">q0.8 =</span> <span class="kw">quantile</span>(cty, <span class="fl">0.8</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb61-7" title="7"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:54%;">
<colgroup>
<col width="15%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">variable</th>
<th align="center">q0.2</th>
<th align="center">q0.4</th>
<th align="center">q0.6</th>
<th align="center">q0.8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">cty</td>
<td align="center">13</td>
<td align="center">15</td>
<td align="center">18</td>
<td align="center">20</td>
</tr>
</tbody>
</table>
<p>We zien dat 20% van de <em>cty</em> waarden kleiner is dan of gelijk is aan 13, en 20% van de <em>cty</em> waarden groter is dan of gelijk is aan 20. In het laatste blok code hebben we elke variabele op een nieuwe regel gezet. Rstudio zal alle regels automatisch laten inspringen, zodat het duidelijk is dat het om argumenten van de <code>summarize</code> functie gaat. De pander functie komt weer op een nieuwe regel, met dezelfde inspringing als <code>summarize</code>. Geef aandacht aan je opmaak van je code, zodat deze voor anderen alsook jezelf leesbaar is.</p>
<p>Als we onze resultaten willen ondersteunen met een grafiek, kunnen we een box plot of histogram plotten met <code>ggplot2</code>. Voor een introductie in ggplot2, verwijzen we naar de ggplot2 tutorial. Hieronder hebben we een histogram uitgezet. We hebben ook een verticale lijn toegevoegd om het gemiddelde van cty aan te geven, met <code>geom_vline</code>.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb62-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cty)) <span class="op">+</span></a>
<a class="sourceLine" id="cb62-3" title="3"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">1.25</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,<span class="dt">fill =</span> <span class="st">&quot;grey&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb62-4" title="4"><span class="st">    </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="kw">mean</span>(mpg<span class="op">$</span>cty), <span class="dt">lwd =</span> <span class="dv">2</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb62-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of cty&quot;</span>,</a>
<a class="sourceLine" id="cb62-6" title="6">         <span class="dt">x =</span> <span class="st">&quot;cty&quot;</span>,</a>
<a class="sourceLine" id="cb62-7" title="7">         <span class="dt">y =</span> <span class="st">&quot;Number of cars&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb62-8" title="8"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb62-9" title="9"><span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="fl">7.5</span>,<span class="dv">35</span>,<span class="fl">2.5</span>))</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-92-1.png" width="100%" /></p>
<p>Merk op hoe we ook hier het %&gt;%-symbool gebruiken om de dataset uit de ggplot() functie te halen. In ggplot() hoeven we dan enkel nog de aesthetics te definiëren. Maar let op, na ggplot gebruik je + om nieuwe layers toe te voegen, niet %&gt;%!</p>
<p>Met de summarize functie kunnen we een univariate analyse uitvoeren van de spreiding en centraliteit van elke continue variabele. Geweldig! Nu is het tijd om een stap verder te gaan en te beginnen met bivariate analyse van continue variabelen in combinatie met categorische variabelen.</p>
</div>
<div id="bivariate-analysis-of-a-continuous-variable-with-respect-to-a-categorical-variable" class="section level2">
<h2><span class="header-section-number">5.5</span> Bivariate analysis of a continuous variable with respect to a categorical variable</h2>
<p>Laten we, voor we met onze berekeningen beginnen, eerst grafisch verder gaan. Voordien hebben wij de verdeling van de cty geanalyseerd, zoals blijkt uit het histogram hierboven. Nu willen we deze analyseren voor verschillende soorten aandrijving (b.v. vierwielaandrijving, voorwielaandrijving of achterwielaandrijving), zoals geregistreerd door de variabele <code>drv</code>. Grafisch kunnen we verschillende histogrammen plotten voor elk van deze drie categorieën met behulp van facetten.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb63-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cty)) <span class="op">+</span></a>
<a class="sourceLine" id="cb63-3" title="3"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">1.25</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,<span class="dt">fill =</span> <span class="st">&quot;grey&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb63-4" title="4"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of cty relative to drv&quot;</span>,</a>
<a class="sourceLine" id="cb63-5" title="5">         <span class="dt">x =</span> <span class="st">&quot;cty&quot;</span>,</a>
<a class="sourceLine" id="cb63-6" title="6">         <span class="dt">y =</span> <span class="st">&quot;Number of cars&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb63-7" title="7"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb63-8" title="8"><span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="fl">7.5</span>,<span class="dv">35</span>,<span class="fl">2.5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb63-9" title="9"><span class="st">    </span><span class="kw">facet_grid</span>(drv<span class="op">~</span>.)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-93-1.png" width="100%" /></p>
<p>Het is duidelijk dat er een aantal verschillen zijn tussen deze categorieën. Laten we proberen deze in cijfers uit te drukken. Wat we in feite willen doen is de centrum- en spreidingsmaten berekenen voor elk van deze categorieën, d.w.z. voor elke <em>groep</em> van auto’s. Daarom introduceren we een nieuwe dplyr-functie, genaamd <code>group_by</code>. Het eerste argument van deze functie is nodig voor de gegevens, alle andere argumenten (die normaal altijd categorisch zijn) zullen worden gebruikt om de gegevens te groeperen.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" title="1"><span class="kw">group_by</span>(mpg, drv)</a></code></pre></div>
<pre><code>## # A tibble: 234 x 11
## # Groups:   drv [3]
##    manufacturer model    displ  year cyl   trans   drv     cty   hwy fl    class
##    &lt;fct&gt;        &lt;fct&gt;    &lt;dbl&gt; &lt;int&gt; &lt;ord&gt; &lt;fct&gt;   &lt;fct&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;
##  1 audi         a4         1.8  1999 4     auto(l~ f        18    29 p     comp~
##  2 audi         a4         1.8  1999 4     manual~ f        21    29 p     comp~
##  3 audi         a4         2    2008 4     manual~ f        20    31 p     comp~
##  4 audi         a4         2    2008 4     auto(a~ f        21    30 p     comp~
##  5 audi         a4         2.8  1999 6     auto(l~ f        16    26 p     comp~
##  6 audi         a4         2.8  1999 6     manual~ f        18    26 p     comp~
##  7 audi         a4         3.1  2008 6     auto(a~ f        18    27 p     comp~
##  8 audi         a4 quat~   1.8  1999 4     manual~ 4        18    26 p     comp~
##  9 audi         a4 quat~   1.8  1999 4     auto(l~ 4        16    25 p     comp~
## 10 audi         a4 quat~   2    2008 4     manual~ 4        20    28 p     comp~
## # ... with 224 more rows</code></pre>
<p>De uitvoer van deze regel geeft ons gewoon een tibble, zonder opmerkelijke wijzigingen. Maar laat je niet misleiden, want die zijn er wel! Op de tweede geprinte regel lezen we “Groups: drv [3]”. Deze tibble is dus gegroepeerd op de variabele <em>drv</em>, en er zijn drie verschillende groepen. Laten we, om een voorbeeld te geven, ook <em>trans</em> als groep toevoegen.</p>
<p>De variabelen die je gebruikt om een dataset te groeperen zijn meestal - al zijn er uitzonderingen - categorisch. Vaak heeft het geen zin om continue variabelen te gebruiken als groep. Bijvoorbeeld, stel dat je personen groepeert op lengte, in meter. Afhankelijk van het aantal personen in je dataset, ga je maar weinig observaties per groep hebben, aangezien het gaat om een continue variabele, die heel veel waarden kan hebben. Zoals altijd zijn er uitzonderingen, zoals bv jaartallen. Het gaat dan steeds over continue variabelen waarvan het aantal verschillende waarden enigszins beperkt is - wat vaak neer komt op gehele getallen en een beperkte domein van mogelijke waarden.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" title="1"><span class="kw">group_by</span>(mpg, drv, trans)</a></code></pre></div>
<pre><code>## # A tibble: 234 x 11
## # Groups:   drv, trans [24]
##    manufacturer model    displ  year cyl   trans   drv     cty   hwy fl    class
##    &lt;fct&gt;        &lt;fct&gt;    &lt;dbl&gt; &lt;int&gt; &lt;ord&gt; &lt;fct&gt;   &lt;fct&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;
##  1 audi         a4         1.8  1999 4     auto(l~ f        18    29 p     comp~
##  2 audi         a4         1.8  1999 4     manual~ f        21    29 p     comp~
##  3 audi         a4         2    2008 4     manual~ f        20    31 p     comp~
##  4 audi         a4         2    2008 4     auto(a~ f        21    30 p     comp~
##  5 audi         a4         2.8  1999 6     auto(l~ f        16    26 p     comp~
##  6 audi         a4         2.8  1999 6     manual~ f        18    26 p     comp~
##  7 audi         a4         3.1  2008 6     auto(a~ f        18    27 p     comp~
##  8 audi         a4 quat~   1.8  1999 4     manual~ 4        18    26 p     comp~
##  9 audi         a4 quat~   1.8  1999 4     auto(l~ 4        16    25 p     comp~
## 10 audi         a4 quat~   2    2008 4     manual~ 4        20    28 p     comp~
## # ... with 224 more rows</code></pre>
<p>We kunnen gewoon <em>trans</em> achter <em>drv</em> zetten in de <code>group_by</code> functie. Nu kunnen we zien dat de tibble gegroepeerd is op deze twee variabelen, en er zijn 24 verschillende groepen<a href="#fn21" class="footnote-ref" id="fnref21"><sup>21</sup></a>. We kunnen de groepering van data.frame ook controleren door de <code>groups</code> functie te gebruiken. Dit bespaart ons het afdrukken van de hele data om de groepering te controleren. Merk op dat we hieronder weer effectief gebruik maken van het piping symbool.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb68-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(drv, trans) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb68-3" title="3"><span class="st">    </span><span class="kw">groups</span>()</a></code></pre></div>
<pre><code>## [[1]]
## drv
## 
## [[2]]
## trans</code></pre>
<p>Oké, maar wacht eens even. Als er verder niets verandert, waarom doen we dit dan? Wel, zodra een data.frame is gegroepeerd, worden de volgende bewerkingen voor elke groep apart uitgevoerd. Is dat niet precies wat we nodig hadden? Inderdaad. Voor elke <em>drv</em> groep, wilden we de centrum en spreidingsmaten berekenen. Laten we het eens proberen.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb70-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(drv) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb70-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_cty =</span> <span class="kw">mean</span>(cty), <span class="dt">sd_cty =</span> <span class="kw">sd</span>(cty)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb70-4" title="4"><span class="st">    </span><span class="kw">pander</span>()</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table style="width:39%;">
<colgroup>
<col width="8%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">drv</th>
<th align="center">mean_cty</th>
<th align="center">sd_cty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">14.33</td>
<td align="center">2.874</td>
</tr>
<tr class="even">
<td align="center">f</td>
<td align="center">19.97</td>
<td align="center">3.627</td>
</tr>
<tr class="odd">
<td align="center">r</td>
<td align="center">14.08</td>
<td align="center">2.216</td>
</tr>
</tbody>
</table>
<p>Geweldig. Het gebruiken van summarize zal ons niet langer 1 rij met waarden geven. In plaats daarvan zal het 1 rij voor elke groep teruggeven. We kunnen zien dat de gemiddelde cty veel groter is voor auto’s met voorwielaandrijving dan voor andere auto’s, zoals reeds werd vermoed op basis van het histogram. Een andere manier om dit te visualiseren, zonder facets te gebruiken, is het gebruik van boxplots.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb71-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(drv,cty)) <span class="op">+</span></a>
<a class="sourceLine" id="cb71-3" title="3"><span class="st">    </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb71-4" title="4"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of cty relative to drv&quot;</span>,</a>
<a class="sourceLine" id="cb71-5" title="5">         <span class="dt">x =</span> <span class="st">&quot;drv&quot;</span>,</a>
<a class="sourceLine" id="cb71-6" title="6">         <span class="dt">y =</span> <span class="st">&quot;cty&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb71-7" title="7"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb71-8" title="8"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="fl">7.5</span>,<span class="dv">35</span>,<span class="fl">2.5</span>)) </a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-98-1.png" width="100%" /></p>
<p>Wij kunnen nu de centraliteit en de spreiding van een continue variabele analyseren, zowel univariaat als bivariaat, ten opzichte van een categorische variabele. Om dit te doen, hebben we geleerd om twee nieuwe functies te gebruiken: <code>summarize</code> en <code>group_by</code>. Het samenvatten van een niet gegroepeerd data.frame levert een data.frame op met 1 rij. Het samenvatten van een gegroepeerd data.frame zal een data.frame teruggeven waarvan het aantal rijen gelijk is aan het aantal groepen.</p>
<p>Het volgende op onze lijst is de univariate analyse van een categorische variabele. Hiervoor zullen we frequentietabellen berekenen en nog een paar nieuwe interessante functies leren: <code>mutate</code>, <code>arrange</code> en <code>slice</code>. Laten we aan de slag gaan!</p>
<div style="page-break-after: always;"></div>
</div>
<div id="univariate-analyse-van-een-categorische-variabele" class="section level2">
<h2><span class="header-section-number">5.6</span> Univariate analyse van een categorische variabele</h2>
<p>In onze gegevens zijn er 15 fabrikanten. Stel dat we daar meer over willen weten, d.w.z. welke fabrikant veel auto’s in onze gegevens heeft, en welke minder. Grafisch kunnen we dit al doen met behulp van een staafdiagram.<a href="#fn22" class="footnote-ref" id="fnref22"><sup>22</sup></a></p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb72-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb72-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="kw">fct_infreq</span>(manufacturer)), </a>
<a class="sourceLine" id="cb72-4" title="4">             <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,<span class="dt">fill =</span> <span class="st">&quot;grey&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb72-5" title="5"><span class="st">    </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb72-6" title="6"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Number of cars per manufacturer&quot;</span>,</a>
<a class="sourceLine" id="cb72-7" title="7">         <span class="dt">x =</span> <span class="st">&quot;Manufacturer&quot;</span>,</a>
<a class="sourceLine" id="cb72-8" title="8">         <span class="dt">y =</span> <span class="st">&quot;Number of cars&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb72-9" title="9"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">40</span>,<span class="dv">5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb72-10" title="10"><span class="st">    </span><span class="kw">theme_minimal</span>() </a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-99-1.png" width="100%" /></p>
<p>Nu willen we dit numeriek analyseren. De meest voor de hand liggende manier om dit te doen is met een frequentietabel. Hieronder zien we het eindproduct van deze analyse. Vervolgens zullen we deze stap voor stap gaan construeren.</p>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="5%" />
<col width="17%" />
<col width="14%" />
<col width="23%" />
<col width="38%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">nr</th>
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_freqency</th>
<th align="center">cumulative_relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
<tr class="odd">
<td align="center">11</td>
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
</tr>
<tr class="even">
<td align="center">12</td>
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
</tr>
<tr class="odd">
<td align="center">13</td>
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
</tr>
<tr class="even">
<td align="center">14</td>
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
</tr>
<tr class="odd">
<td align="center">15</td>
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<p>Laten we beginnen. Het eerste wat we moeten doen is het aantal waarnemingen tellen voor elke waarde van de categorische variabele. Dus, hoeveel auto’s zijn er voor elke fabrikant? We kunnen dit doen door de gegevens te groeperen op <em>manufacturer</em> en dan het aantal rijen te tellen met <code>n</code>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb73-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb73-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb73-4" title="4"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table style="width:38%;">
<colgroup>
<col width="20%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">audi</td>
<td align="center">18</td>
</tr>
<tr class="even">
<td align="center">chevrolet</td>
<td align="center">19</td>
</tr>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
</tr>
<tr class="odd">
<td align="center">honda</td>
<td align="center">9</td>
</tr>
<tr class="even">
<td align="center">hyundai</td>
<td align="center">14</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">land rover</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">subaru</td>
<td align="center">14</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
</tr>
</tbody>
</table>
<p>De functie <code>n()</code> heeft geen enkel argument nodig. Het berekent gewoon het aantal rijen in een data.frame, of, zoals in dit geval, in elke groep. De volgende stap is om deze fabrikanten te rangschikken op basis van het aantal auto’s. Om de rijen te sorteren gebruiken we de functie <code>arrange</code> van <code>dplyr</code>. Omdat we de fabrikanten willen rangschikken volgens afnemende frequentie, gebruiken we de functie <code>desc</code> (aflopend). Het volgende zal de truc doen:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb74-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb74-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb74-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb74-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table style="width:38%;">
<colgroup>
<col width="20%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
</tr>
</tbody>
</table>
<p>Het eerste argument van <code>arrange</code> is weer de data, die aan wordt gegeven met het piping-symbool. De andere argumenten worden dan gebruikt om de gegevens te ordenen. Merk op dat meer dan één variabele kan worden opgegeven. De gegevens worden dan eerst gerangschikt met behulp van de eerste variabele. Daarna zullen de volgende variabelen worden gebruikt om ex aequo’s te verbreken. Wanneer <code>desc</code> rond een variabele naam wordt geplaatst, wordt deze variabele in aflopende volgorde gerangschikt. Probeer zelf maar eens wat verschillende rangschikkingen uit!</p>
<p>Nu moeten we een nieuwe kolom toevoegen voor de relatieve frequenties. Hiervoor gebruiken we de functie <code>mutate</code> van <code>dplyr</code>, wat letterlijk <em>veranderen</em> (muteren) betekent. De <code>mutate</code> functie-aanroep is vergelijkbaar met die van <code>summarize</code>: het eerste argument is de data, de andere zijn van de vorm <code>variabele_naam = waarde</code>. De variabele naam is de naam die als naam van de nieuwe kolom zal verschijnen. De waarde is de waarde voor de nieuwe kolom. Dit kan een functie zijn die een vector teruggeeft met een lengte gelijk aan die van het data.frame, of het kan een eenvoudige berekening zijn waarbij gebruik wordt gemaakt van andere variabelen in het data.frame. Het volgende statement berekent de relatieve frequenties, door elke frequentie te delen door de som van alle frequenties.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb75-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb75-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb75-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb75-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb75-6" title="6"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table style="width:67%;">
<colgroup>
<col width="20%" />
<col width="16%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">0.1581</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">0.1453</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">0.1154</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">0.1068</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">0.0812</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">0.07692</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">0.05983</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">0.05983</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">0.05556</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">0.03846</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">0.03419</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">0.02137</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">0.01709</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">0.01709</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">0.01282</td>
</tr>
</tbody>
</table>
<p>Hier verwijst <code>sum(frequency)</code> naar de som van de frequentiekolom, terwijl <code>frequency</code> verwijst naar de specifieke waarden in elke rij. Vervolgens zullen we de cumulatieve relatieve frequentie toevoegen. We kunnen dit toevoegen aan dezelfde <code>mutate</code> aanroep.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb76-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb76-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb76-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb76-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb76-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb76-7" title="7"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="26%" />
<col width="40%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">0.1581</td>
<td align="center">0.1581</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">0.1453</td>
<td align="center">0.3034</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">0.1154</td>
<td align="center">0.4188</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">0.1068</td>
<td align="center">0.5256</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">0.0812</td>
<td align="center">0.6068</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">0.07692</td>
<td align="center">0.6838</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">0.05983</td>
<td align="center">0.7436</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">0.05983</td>
<td align="center">0.8034</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">0.05556</td>
<td align="center">0.859</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">0.03846</td>
<td align="center">0.8974</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">0.03419</td>
<td align="center">0.9316</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">0.02137</td>
<td align="center">0.953</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">0.01709</td>
<td align="center">0.9701</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">0.01709</td>
<td align="center">0.9872</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">0.01282</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>Terwijl de berekening van de relatieve frequentie een eenvoudige formule was, wordt de cumulatieve frequentie berekend met behulp van de <code>cumsum</code>. Dit is wat men noemt een <em>windowfunctie</em>. Terwijl summary-functies altijd één waarde teruggeven, geven windowfuncties hetzelfde aantal waarden terug als de vector die als invoer wordt gebruikt. Dus, onze 15 relatieve frequenties zullen resulteren in 15 cumulatieve frequenties. Andere windowfuncties worden hieronder opgesomd.</p>
<p><strong>Cumulative functions</strong></p>
<ul>
<li>cumsum: De cumulatieve som van een vector</li>
<li>cummax: Het cumulatieve maximum van een vector</li>
<li>cummin: Het cumulatieve minimum van een vector</li>
<li>cumprod: Het cumulatieve product van een vector</li>
<li>cummean: Een cumulatief, of voortschrijdend, gemiddelde</li>
<li>cumany: Voor logische waarden, een cumulatieve “of”</li>
<li>cumall: Voor logische waarden, een cumulatief “en”</li>
<li>cume_dist: Cumulatieve verdeling</li>
</ul>
<p><strong>Element-wise function of more than one variable</strong></p>
<ul>
<li>pmax: Element/paar-gewijs maximum van een vector</li>
<li>pmin: Element/paar-gewijs minimum van een vector</li>
</ul>
<p><strong>Ranking function</strong></p>
<ul>
<li>percent_rank: rangen geschaald naar [0,1]</li>
<li>row_number: Rang die banden breekt door elementen te nemen door eerste voorkomen (meestal alfabetisch)</li>
<li>min_rank: Rang die groepen breekt door ze dezelfde rang te geven en de volgende rang weg te laten</li>
<li>dense_rank: Zelfde als min_rank, maar zonder weglating</li>
</ul>
<p><strong>Shifting functions</strong></p>
<ul>
<li>lead(n): verschuif waarden n plaatsen naar voren, voeg n NA’s toe als laatste waarden</li>
<li>lag(n): verschuif waarden n plaatsen naar achteren, voeg n NA’s toe als eerste waarden</li>
</ul>
<p><strong>Other</strong></p>
<ul>
<li>between(a,b): Liggen de waarden van een vector tussen a en b? Geeft logisch</li>
<li>ntile(x,n): Gebruik variabele x om de waarnemingen te rangschikken en ze in n even grote groepen te plaatsen.</li>
</ul>
<p>Dat is een lange lijst, en ze zijn niet allemaal belangrijk. Sommige zul je veel gebruiken (zoals cumsum), en andere alleen in zeldzame gevallen (of nooit). In geval van nood, kom dan terug naar deze lijst.</p>
<p>De <code>pmin</code> functie geeft het paarsgewijze minimum van x en y, terwijl de <code>pmax</code> functie het paarsgewijze maximum van x en y geeft. Hoewel de p in deze functies wijst naar <em>paar</em> kan het gebruikt worden op meer dan twee vectoren. Ze verschillen van <code>min</code> en <code>max</code> aangezien deze laatste sumaary functies werken, die op basis van een getal het minimum/maximum teruggeven.</p>
<p>Een voorbeeld:</p>
<p>Beschouw de vectoren x en y met 10 willekeurige waarden</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" title="1">x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb77-2" title="2">y &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb77-3" title="3">x</a></code></pre></div>
<pre><code>##  [1] 0.61166222 0.05074601 0.18385936 0.17430889 0.83530466 0.82682883
##  [7] 0.32785326 0.78924653 0.64989760 0.45476667</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1">y</a></code></pre></div>
<pre><code>##  [1] 0.1499805 0.1719804 0.7899551 0.7246290 0.8667648 0.6542354 0.7587465
##  [8] 0.5069101 0.3791696 0.9716867</code></pre>
<p>Gebruik van summary-functies</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1"><span class="kw">min</span>(x)</a></code></pre></div>
<pre><code>## [1] 0.05074601</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" title="1"><span class="kw">min</span>(y)</a></code></pre></div>
<pre><code>## [1] 0.1499805</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" title="1"><span class="kw">max</span>(x)</a></code></pre></div>
<pre><code>## [1] 0.8353047</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" title="1"><span class="kw">max</span>(y)</a></code></pre></div>
<pre><code>## [1] 0.9716867</code></pre>
<p>Gebruik van de pair-wise window functies.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" title="1"><span class="kw">pmin</span>(x,y)</a></code></pre></div>
<pre><code>##  [1] 0.14998046 0.05074601 0.18385936 0.17430889 0.83530466 0.65423541
##  [7] 0.32785326 0.50691012 0.37916961 0.45476667</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" title="1"><span class="kw">pmax</span>(x,y)</a></code></pre></div>
<pre><code>##  [1] 0.6116622 0.1719804 0.7899551 0.7246290 0.8667648 0.8268288 0.7587465
##  [8] 0.7892465 0.6498976 0.9716867</code></pre>
<p>Merk op dat max(x,y) het maximum geeft uit beide vectors, waar pmax(x,y) het maximum geeft op elke positie in de vectoren.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" title="1"><span class="kw">max</span>(x,y)</a></code></pre></div>
<pre><code>## [1] 0.9716867</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" title="1"><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb95-2" title="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">lead =</span> <span class="kw">lead</span>(x),</a>
<a class="sourceLine" id="cb95-3" title="3">           <span class="dt">lag =</span> <span class="kw">lag</span>(x,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb95-4" title="4">           <span class="kw">between</span>(x,<span class="dv">4</span>,<span class="dv">8</span>),</a>
<a class="sourceLine" id="cb95-5" title="5">           <span class="kw">ntile</span>(x,<span class="dv">5</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb95-6" title="6"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:71%;">
<colgroup>
<col width="6%" />
<col width="9%" />
<col width="8%" />
<col width="26%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">x</th>
<th align="center">lead</th>
<th align="center">lag</th>
<th align="center">between(x, 4, 8)</th>
<th align="center">ntile(x, 5)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">3</td>
<td align="center">NA</td>
<td align="center">FALSE</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">3</td>
<td align="center">10</td>
<td align="center">NA</td>
<td align="center">FALSE</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">10</td>
<td align="center">8</td>
<td align="center">1</td>
<td align="center">FALSE</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">2</td>
<td align="center">3</td>
<td align="center">TRUE</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">2</td>
<td align="center">6</td>
<td align="center">10</td>
<td align="center">FALSE</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">9</td>
<td align="center">8</td>
<td align="center">TRUE</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">5</td>
<td align="center">2</td>
<td align="center">FALSE</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">7</td>
<td align="center">6</td>
<td align="center">TRUE</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">4</td>
<td align="center">9</td>
<td align="center">TRUE</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">NA</td>
<td align="center">5</td>
<td align="center">TRUE</td>
<td align="center">2</td>
</tr>
</tbody>
</table>
<p>Een voorbeeld van de vensterfuncties lead, lag, between en ntile wordt hierboven getoond. De lead en lag functies verschuiven waarden naar boven en beneden. Standaard worden ze met één plaats verschoven. De between functie test of waarden tussen bepaalde grenzen liggen (inclusief de grenswaarden). Tenslotte creëert de ntile-functie een variabele die waarnemingen groepeert in gelijke bins, in dit geval 5, volgens een bepaalde variabele. Zo worden waarden 1 en 2 van x gegroepeerd in bin 1, waarden 3 en 4 in bin 2, enz. Merk op dat, hoewel de ntile functie getallen teruggeeft, het eigenlijk een categorische variabele is!</p>
<p>Ze zien er misschien niet allemaal even logisch uit, maar soms kunnen deze windowfuncties heel krachtig en handig zijn tijdens een analyse. Zorg ervoor dat je hun bestaan kent. Maar, laten we nu teruggaan naar onze frequentietabel, want we zijn een beetje van het gebaande pad afgeraakt. Hieronder tonen we nogmaals ons laatste resultaat.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb96-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb96-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb96-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb96-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb96-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb96-7" title="7"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="26%" />
<col width="40%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">0.1581</td>
<td align="center">0.1581</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">0.1453</td>
<td align="center">0.3034</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">0.1154</td>
<td align="center">0.4188</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">0.1068</td>
<td align="center">0.5256</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">0.0812</td>
<td align="center">0.6068</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">0.07692</td>
<td align="center">0.6838</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">0.05983</td>
<td align="center">0.7436</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">0.05983</td>
<td align="center">0.8034</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">0.05556</td>
<td align="center">0.859</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">0.03846</td>
<td align="center">0.8974</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">0.03419</td>
<td align="center">0.9316</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">0.02137</td>
<td align="center">0.953</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">0.01709</td>
<td align="center">0.9701</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">0.01709</td>
<td align="center">0.9872</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">0.01282</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>We waren al klaar, zo lijkt het, maar we kunnen de tabel nog verbeteren. Een manier om dat te doen is om de relatieve (cumulatieve) frequenties om te zetten in waarden tussen 0 en 100, en om ze af te ronden op 2 decimalen. Dat laatste kan met de functie <code>round</code> en met opgave van het aantal decimalen.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb97-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb97-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb97-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb97-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb97-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb97-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb97-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb97-9" title="9"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="26%" />
<col width="40%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<p>Wat hier belangrijk is om op te merken, is dat we 4 verschillende statements in mutate hebben gezet. In deze statements is het mogelijk om variabelen te gebruiken die eerder <strong>binnen dezelfde mutate call</strong> zijn aangemaakt: het tweede statement gebruikt de variabele in het eerste. Ook is het mogelijk om variabelen te overschrijven, d.w.z. statement 3 en 4 overschrijven de variabelen aangemaakt in statement 1 en 2.</p>
<p>Je vraag je misschien af waarom we 4 opgaven gebruiken in plaats van 2, en waarom we niet onmiddellijk hebben afgerond? Dat hadden we kunnen doen voor de cumulatieve frequentie, maar niet voor de relatieve frequentie. Kan je achterhalen waarom?</p>
<p>Tenslotte willen we soms een rangorde, d.w.z. een rijnummer, toevoegen aan de frequentietabel. Hier gebruiken we de <code>row_number</code> functie die we hierboven hebben geïntroduceerd.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb98-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb98-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb98-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb98-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb98-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb98-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb98-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb98-9" title="9">           <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb98-10" title="10"><span class="st">    </span><span class="kw">pander</span>(<span class="dt">split.table =</span> <span class="dv">120</span>)</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="17%" />
<col width="14%" />
<col width="24%" />
<col width="37%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
<th align="center">nr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
<td align="center">7</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
<td align="center">8</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
<td align="center">9</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
<td align="center">10</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
<td align="center">11</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
<td align="center">12</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
<td align="center">13</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
<td align="center">14</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
<td align="center">15</td>
</tr>
</tbody>
</table>
<p>Eerder gebruikten we <code>desc</code> om aflopend te rangschikken in <code>arrange</code>, en nu gebruiken we het minteken om de rijnummers toe te wijzen volgens afnemende frequentie. Is <code>dplyr</code> echt zo inconsistent? Gelukkig is het antwoord nee. Het gebruik van het minteken is een trucje om je code te verkorten, maar kan alleen gebruikt worden voor numerieke variabelen. Dit komt omdat het afnemend sorteren van een numerieke variabele hetzelfde is als het toenemend sorteren van zijn negatieve spiegelbeeld (Overtuig jezelf!). Als zodanig, hadden we ook het minteken kunnen gebruiken binnen arrange, en we hadden <code>desc</code> kunnen gebruiken binnen row_number. <strong>Maar</strong>, gebruik nooit het minteken om categorische waarden te sorteren (ze hebben geen negatieve tegenhanger, typisch). Het is best practice om consistent te zijn in het gebruik van - of <code>desc</code>, maar omdat dit een tutorial is, laten we je verschillende manieren zien om het te doen.</p>
<p>Mutate heeft het nummer aan het eind van de tabel toegevoegd. Dat is wat we in de meeste gevallen willen, maar niet in dit geval. Om de volgorde van de variabelen te veranderen, kunnen we de <code>select</code> functie van <code>dplyr</code> gebruiken. Deze functie kan worden gebruikt om variabelen te <em>selecteren</em>, en zal ze in de opgegeven volgorde plaatsen. Dus, wat we kunnen doen is het volgende.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb99-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb99-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb99-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb99-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb99-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb99-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb99-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb99-9" title="9">           <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb99-10" title="10"><span class="st">    </span><span class="kw">select</span>(nr, manufacturer, frequency, relative_frequency, relative_cumulative_frequency) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb99-11" title="11"><span class="st">    </span><span class="kw">pander</span>(<span class="dt">split.table =</span> <span class="dv">120</span>)</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="5%" />
<col width="17%" />
<col width="14%" />
<col width="24%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">nr</th>
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
<tr class="odd">
<td align="center">11</td>
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
</tr>
<tr class="even">
<td align="center">12</td>
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
</tr>
<tr class="odd">
<td align="center">13</td>
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
</tr>
<tr class="even">
<td align="center">14</td>
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
</tr>
<tr class="odd">
<td align="center">15</td>
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<p>Het gebruik van het <code>select</code> statement doet de truc. Maar ik ben nog steeds een beetje lui, en ik wil niet alle variabelen uitschrijven, alleen maar om er één op de eerste positie te zetten. We hadden hier maar 5 variabelen, maar stel je voor wat een verspilling van tijd het zou zijn als we er meer hadden, zoals 6 bijvoorbeeld. Kunnen we niet gewoon zeggen, zet <em>nr</em> vooraan, en voeg dan alle andere variabelen toe in hun oorspronkelijke volgorde? Dplyr biedt redding!</p>
<p>Gelukkig kunnen we dat. We kunnen gewoon de functie <code>everything</code> toevoegen aan select. Dit zal alle kolommen na <em>nr</em> toevoegen, zonder <em>nr</em> voor een tweede keer te herhalen. Geweldig, is het niet?</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb100-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb100-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb100-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb100-9" title="9">           <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-10" title="10"><span class="st">    </span><span class="kw">select</span>(nr, <span class="kw">everything</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-11" title="11"><span class="st">    </span><span class="kw">pander</span>(<span class="dt">split.table =</span> <span class="dv">120</span>)</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="5%" />
<col width="17%" />
<col width="14%" />
<col width="24%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">nr</th>
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
<tr class="odd">
<td align="center">11</td>
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
</tr>
<tr class="even">
<td align="center">12</td>
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
</tr>
<tr class="odd">
<td align="center">13</td>
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
</tr>
<tr class="even">
<td align="center">14</td>
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
</tr>
<tr class="odd">
<td align="center">15</td>
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<p>Select, arrange, mutate, summary, group_by. We hebben dplyr al aardig onder de knie. Toch niet zo moeilijk, is het niet? Natuurlijk zijn er nog meer functies, maar deze 5 behoren echt tot de belangrijkste functies voor data manipulatie. Alleen <code>filter</code> ontbreekt in de dplyr hall of fame, maar die laten we voor een andere keer. Het is altijd een goed idee om iets te hebben om naar uit te kijken, vind je niet?</p>
<p>Voordat we verder gaan met bivariate analyse, zijn er nog twee dingen die we moeten doen. Kijk naar de <code>slice</code> functie, en nog eens terugkijken naar het %&gt;% symbool.</p>
<p>De <code>slice</code> functie kan gebruikt worden om rijen uit een data.frame te <code>slicen</code>. Stel dat we een hele lange frequentietabel hebben, en we zijn alleen geïnteresseerd in de top 10 waarden. We kunnen dan de eerste 10 rijen van deze tabel als volgt slicen.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb101-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb101-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb101-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb101-9" title="9">           <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-10" title="10"><span class="st">    </span><span class="kw">select</span>(nr, <span class="kw">everything</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-11" title="11"><span class="st">    </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb101-12" title="12"><span class="st">    </span><span class="kw">pander</span>(<span class="dt">split.table =</span> <span class="dv">120</span>)</a></code></pre></div>
<p><code>summarise()</code> ungrouping output (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="5%" />
<col width="17%" />
<col width="14%" />
<col width="24%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">nr</th>
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
</tbody>
</table>
<p>Dat is slice. Niets meer, niets minder. We hebben een <em>groot</em> blok code opgebouwd, maar ons pipingsymbool rijgt het netjes aan elkaar, nietwaar? Stel je even voor dat we dit symbool niet hadden. In zo’n geval zouden we elk eerste argument opnieuw moeten plaatsen in de functie waar het door wordt gevolgd. Dus, mpg moet in group by. De group_by zou in summarize moeten staan, enz. Het resultaat zou het volgende zijn.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" title="1"><span class="kw">pander</span>(</a>
<a class="sourceLine" id="cb102-2" title="2">    <span class="kw">slice</span>(</a>
<a class="sourceLine" id="cb102-3" title="3">        <span class="kw">select</span>(</a>
<a class="sourceLine" id="cb102-4" title="4">            <span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb102-5" title="5">                <span class="kw">arrange</span>(</a>
<a class="sourceLine" id="cb102-6" title="6">                    <span class="kw">summarize</span>(</a>
<a class="sourceLine" id="cb102-7" title="7">                        <span class="kw">group_by</span>(mpg, </a>
<a class="sourceLine" id="cb102-8" title="8">                                 manufacturer), </a>
<a class="sourceLine" id="cb102-9" title="9">                        <span class="dt">frequency =</span> <span class="kw">n</span>()), </a>
<a class="sourceLine" id="cb102-10" title="10">                    <span class="kw">desc</span>(frequency)),</a>
<a class="sourceLine" id="cb102-11" title="11">                <span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb102-12" title="12">                <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb102-13" title="13">                <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb102-14" title="14">                <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb102-15" title="15">                <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)), </a>
<a class="sourceLine" id="cb102-16" title="16">            nr, </a>
<a class="sourceLine" id="cb102-17" title="17">            <span class="kw">everything</span>()), </a>
<a class="sourceLine" id="cb102-18" title="18">        <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb102-19" title="19">    )</a></code></pre></div>
<p>Dat is nogal een puinhoop, is het niet? Alle functies zijn gescheiden van hun argumenten, en we kunnen niet echt opmaken wat we aan het doen waren. Het piping symbool doet zijn werk om onze code leesbaar en begrijpelijk te maken. Zorg ervoor dat je het verstandig gebruikt!</p>
<p>Nu gaan we verder met de bivariate analyse van twee continue variabelen.</p>
</div>
<div id="bivariate-analyse-van-een-continue-variabele-ten-opzichte-van-een-andere-continue-variabele" class="section level2">
<h2><span class="header-section-number">5.7</span> Bivariate analyse van een continue variabele ten opzichte van een andere continue variabele</h2>
<p>De relatie tussen twee continue variabelen kan gemakkelijk grafisch worden weergegeven met een scatter plot. Laten we eens kijken naar <em>cty</em> ten opzichte van <em>hwy</em>.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb103-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cty, hwy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb103-3" title="3"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb103-4" title="4"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb103-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relationship between hwy and cty&quot;</span>)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-117-1.png" width="100%" /></p>
<p>Er is een zeer duidelijk verband tussen deze variabelen, en het blijkt vrij lineair te zijn. Laten we een lineaire lijn trekken door de puntenwolk.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb104-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cty, hwy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb104-3" title="3"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb104-4" title="4"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb104-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relationship between hwy and cty&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb104-6" title="6"><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> F)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-118-1.png" width="100%" /></p>
<p>Een lineair verband als dit kan zeer effectief worden gemeten met de correlatiecoëfficiënt. Het berekenen van correlaties kan worden gedaan met de base-R functie <code>cor</code>. Deze functie verwacht echter een data.frame met alleen continue variabelen, omdat het alle mogelijke correlaties tussen deze zal berekenen. Correlaties tussen categorische variabelen (behalve ordinale) kunnen niet worden berekend. Daarom selecteren we eerst de continue variabelen met de <code>select</code> functie van <code>dplyr</code>. De variabelen waarin we geïnteresseerd zijn, zijn <em>displ, year, cty</em> en <em>hwy</em>.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb105-2" title="2"><span class="st">    </span><span class="kw">select</span>(displ, year, cty, hwy) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb105-3" title="3"><span class="st">    </span>cor <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb105-4" title="4"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:76%;">
<colgroup>
<col width="16%" />
<col width="13%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">displ</th>
<th align="center">year</th>
<th align="center">cty</th>
<th align="center">hwy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>displ</strong></td>
<td align="center">1</td>
<td align="center">0.1478</td>
<td align="center">-0.7985</td>
<td align="center">-0.766</td>
</tr>
<tr class="even">
<td align="center"><strong>year</strong></td>
<td align="center">0.1478</td>
<td align="center">1</td>
<td align="center">-0.03723</td>
<td align="center">0.002158</td>
</tr>
<tr class="odd">
<td align="center"><strong>cty</strong></td>
<td align="center">-0.7985</td>
<td align="center">-0.03723</td>
<td align="center">1</td>
<td align="center">0.9559</td>
</tr>
<tr class="even">
<td align="center"><strong>hwy</strong></td>
<td align="center">-0.766</td>
<td align="center">0.002158</td>
<td align="center">0.9559</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>De <code>select</code> aanroep kan groot worden bij het selecteren van numerieke variabelen in een grote dataset. We kunnen het herschrijven met de <code>select_if</code> functie, die geen variabele namen verwacht, maar wel een functie nodig heeft om te testen of een variabele meegenomen moet worden of niet. We kunnen de <code>is.numeric</code> functie gebruiken om te testen of een vector numeriek is. Dus,<a href="#fn23" class="footnote-ref" id="fnref23"><sup>23</sup></a></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb106-2" title="2"><span class="st">    </span>cor <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb106-3" title="3"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:76%;">
<colgroup>
<col width="16%" />
<col width="13%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">displ</th>
<th align="center">year</th>
<th align="center">cty</th>
<th align="center">hwy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>displ</strong></td>
<td align="center">1</td>
<td align="center">0.1478</td>
<td align="center">-0.7985</td>
<td align="center">-0.766</td>
</tr>
<tr class="even">
<td align="center"><strong>year</strong></td>
<td align="center">0.1478</td>
<td align="center">1</td>
<td align="center">-0.03723</td>
<td align="center">0.002158</td>
</tr>
<tr class="odd">
<td align="center"><strong>cty</strong></td>
<td align="center">-0.7985</td>
<td align="center">-0.03723</td>
<td align="center">1</td>
<td align="center">0.9559</td>
</tr>
<tr class="even">
<td align="center"><strong>hwy</strong></td>
<td align="center">-0.766</td>
<td align="center">0.002158</td>
<td align="center">0.9559</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>Hier zien we de zeer sterke correlatie tussen cty en hwy. Wij zien ook sterke negatieve correlaties tussen <em>displ</em> enerzijds en <em>cty</em> en <em>hwy</em> anderzijds. Kan je proberen deze te visualiseren zoals wij hebben gedaan voor <em>cty</em> en <em>hwy</em>?</p>
<p>We zouden ook de door <code>cor</code> berekende correlaties kunnen visualiseren met ggplot, maar er is iets mis. De gegevens die de correlatiefunctie oplevert zijn niet erg netjes. Er zijn variabele namen in de kolommen en in de rijen? Nog erger, het is geen data.frame!</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb107-2" title="2"><span class="st">    </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb107-3" title="3"><span class="st">    </span>cor <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb107-4" title="4"><span class="st">    </span>class</a></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<p>Matrix? De film? Nee, matrix is een ander type object in R waar je misschien nog niet van gehoord hebt. Terwijl een data.frame een verzameling vectoren is, kun je een matrix zien als een tweedimensionale vector. Dit betekent dat, net als in een vector, alle elementen in een matrix hetzelfde type moeten hebben. Zoals een vector namen kan hebben, kunnen ook de rijen en kolommen van een matrix namen hebben, zoals in ons voorbeeld.</p>
<p>Maar, zoals we weten, kan <code>ggplot2</code> alleen werken met data.frames. We zijn compleet verloren! Maar, we kunnen misschien van een matrix een data.frame maken. En dan kunnen we het zo aanpassen dat alle variabelen in kolommen staan. We kunnen het proberen…</p>
<p>Maar, dat lijkt een hoop werk. En we zijn nog steeds lui. Gelukkig zijn de meeste R-gebruikers tot op zekere hoogte lui, en iemand moet dit werk ooit gedaan hebben, en moet zo genereus geweest zijn om het in een pakket te stoppen. <code>ggcorrplot</code> is het antwoord. Het <code>ggcorrplot</code> pakket heeft één enkele functie die nuttig is voor ons: <code>ggcorrplot</code>. Merk op dat zowel het pakket als de functie dezelfde naam hebben gekregen. Hoe genereus! Maar wees voorzichtig: <code>cor</code> had één r, <code>ggcorrplot</code> heeft er twee.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" title="1"><span class="kw">library</span>(ggcorrplot)</a></code></pre></div>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb110-2" title="2"><span class="st">    </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb110-3" title="3"><span class="st">    </span>cor <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb110-4" title="4"><span class="st">    </span><span class="kw">ggcorrplot</span>()</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-123-1.png" width="100%" /></p>
<p>Wat we krijgen is een visuele matrix. De kleur van de vierkantjes geeft de richting van het verband aan (standaard is rood positief en blauw negatief). Er zijn echter veel verschillende opties om <code>ggcorrplot</code> te maken zoals we het willen. Laten we eens kijken naar de belangrijkste:</p>
<ul>
<li>method: “square” of “circle”: de vorm van de elementen in de matrix</li>
<li>lab: indien TRUE, zullen de correlatiewaarden boven de vierkanten (of cirkels) worden getoond</li>
<li>lab_col en lab_size: hiermee kunnen we veranderen hoe de waarden worden afgedrukt</li>
<li>outline_color: de kleur van de randen van de vierkanten</li>
<li>type: “full”, “lower” of “upper”: een correlatiematrix is symmetrisch, dus we kunnen kiezen om alleen de onderste of de bovenste helft te tonen.</li>
<li>ggtheme: je kan één van de standaard ggplot2-thema’s gebruiken: theme_grey, theme_minimal, theme_classic. Geef ze op zonder haakjes of aanhalingstekens, net zoals we een paar minuten geleden deden met <code>is.numeric</code>.</li>
<li>titel</li>
<li>legende.titel</li>
<li>colors, een vector van drie kleuren voor de lage, midden en hoge waarden. Standaard: c(“blauw”, “wit”, “rood”)</li>
<li>hc.order: indien ingesteld op TRUE kunnen we de variabelen ordenen om te tonen welke variabelen het meest verwant zijn</li>
<li>show.diag: Toon de diagonaal indien TRUE (in geval type gelijk is aan “lower” of “upper”)</li>
</ul>
<p>An example of a slightly modified version of our plot is the following:<a href="#fn24" class="footnote-ref" id="fnref24"><sup>24</sup></a></p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb111-2" title="2"><span class="st">    </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb111-3" title="3"><span class="st">    </span>cor <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb111-4" title="4"><span class="st">    </span><span class="kw">ggcorrplot</span>(<span class="dt">type =</span> <span class="st">&quot;lower&quot;</span>, <span class="dt">ggtheme =</span> theme_minimal, <span class="dt">colors =</span> <span class="kw">c</span>(<span class="st">&quot;#6D9EC1&quot;</span>,<span class="st">&quot;white&quot;</span>,<span class="st">&quot;#E46726&quot;</span>),</a>
<a class="sourceLine" id="cb111-5" title="5">               <span class="dt">show.diag =</span> T,</a>
<a class="sourceLine" id="cb111-6" title="6">               <span class="dt">lab =</span> T, <span class="dt">lab_size =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb111-7" title="7">               <span class="dt">title =</span> <span class="st">&quot;Correlation Matrix for the mpg dataset&quot;</span>,</a>
<a class="sourceLine" id="cb111-8" title="8">               <span class="dt">legend.title =</span> <span class="st">&quot;Correlation Value&quot;</span>,</a>
<a class="sourceLine" id="cb111-9" title="9">               <span class="dt">outline.color =</span> <span class="st">&quot;white&quot;</span>,</a>
<a class="sourceLine" id="cb111-10" title="10">               <span class="dt">hc.order =</span> T)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-124-1.png" width="100%" /></p>
<p>We hebben al een lange en opwindende weg afgelegd door het tidyverse! Het laatste wat we willen kunnen, is een bivariate analyse doen van twee categorische variabelen. Hiervoor zullen we contingentietabellen leren construeren. We hebben bijna alle soorten beschrijvende analyse onder de knie.</p>
</div>
<div id="bivariate-analyse-van-een-categorische-variabele-ten-opzichte-van-een-andere-categorische-variabele" class="section level2">
<h2><span class="header-section-number">5.8</span> Bivariate analyse van een categorische variabele ten opzichte van een andere categorische variabele</h2>
<p>We beginnen weer met het bekijken van een grafiek. Stel dat we de relatie tussen <em>class</em> en <em>cyl</em> willen bekijken. We zouden facetted staafdiagrammen kunnen maken.</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb112-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb112-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb112-4" title="4"><span class="st">    </span><span class="kw">facet_grid</span>(<span class="op">~</span>cyl) <span class="op">+</span></a>
<a class="sourceLine" id="cb112-5" title="5"><span class="st">    </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-125-1.png" width="100%" /></p>
<p>Hier zien we dat de verdeling van de class verschilt wanneer het aantal cilinders verandert. Voor 4 cilinders zijn de meeste auto’s compact, terwijl voor 8 cilinders de meeste auto’s suv’s zijn. We kunnen het echter ook vanuit een ander perspectief bekijken.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb113-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cyl)) <span class="op">+</span></a>
<a class="sourceLine" id="cb113-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb113-4" title="4"><span class="st">    </span><span class="kw">facet_grid</span>(<span class="op">~</span>class)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-126-1.png" width="100%" /></p>
<p>En nog een</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb114-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cyl)) <span class="op">+</span></a>
<a class="sourceLine" id="cb114-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> class))</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-127-1.png" width="100%" /></p>
<p>En nog een</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb115-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb115-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb115-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> cyl))</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-128-1.png" width="100%" /></p>
<p>En nog een</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb116-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb116-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> cyl), <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-129-1.png" width="100%" /></p>
<p>Er zijn inderdaad vele manieren om de relatie tussen twee categorische variabelen te bekijken. De vele grafieken die kunnen worden gemaakt, geven aan dat er ook meerdere contingentietabellen kunnen zijn. Alles hangt echt af van de vraag die je wilt beantwoorden. Gelukkig kennen we inmiddels al een heleboel belangrijke functies, die we goed kunnen gebruiken. We beginnen met te tellen hoeveel auto’s er zijn voor elke cilinder-klasse combinatie.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb117-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb117-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb117-4" title="4"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> regrouping output by ‘cyl’ (override with <code>.groups</code> argument)</p>
<table style="width:44%;">
<colgroup>
<col width="8%" />
<col width="18%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">cyl</th>
<th align="center">class</th>
<th align="center">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">compact</td>
<td align="center">32</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">midsize</td>
<td align="center">16</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">minivan</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">pickup</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">subcompact</td>
<td align="center">21</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">suv</td>
<td align="center">8</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">compact</td>
<td align="center">2</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">subcompact</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">compact</td>
<td align="center">13</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">midsize</td>
<td align="center">23</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">minivan</td>
<td align="center">10</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">pickup</td>
<td align="center">10</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">subcompact</td>
<td align="center">7</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">suv</td>
<td align="center">16</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">2seater</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">midsize</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">pickup</td>
<td align="center">20</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subcompact</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">suv</td>
<td align="center">38</td>
</tr>
</tbody>
</table>
<p>Geweldig, dat ging perfect! Om hier een contingentietabel van te maken, willen we een van de twee variabelen op de kolommen zetten. Dit zal een matrix-achtige structuur creëren. Hier hebben we een nieuwe functie voor nodig, die <code>spread</code> heet. Deze functie komt uit het <code>tidyr</code> pakket, dat wordt gebruikt om gegevens op te schonen. Echter, de andere functies uit dit pakket zullen hier niet worden besproken.</p>
<p>De functie spread heeft 2 argumenten, <code>key</code> en <code>value</code> (behalve data, natuurlijk). De key verwijst naar de variabele waarvan we de waarden als nieuwe kolommen willen plaatsen, in dit geval <em>class</em>. De value verwijst naar de variabele waarvan we de waarden in de nieuwe kolommen willen plaatsen, in dit geval onze frequentie. Geen idee wat er gaat gebeuren? Laten we eens naar een voorbeeld kijken.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb118-4" title="4"><span class="st">    </span><span class="kw">spread</span>(class, frequency) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> regrouping output by ‘cyl’ (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="8%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="12%" />
<col width="17%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">cyl</th>
<th align="center">2seater</th>
<th align="center">compact</th>
<th align="center">midsize</th>
<th align="center">minivan</th>
<th align="center">pickup</th>
<th align="center">subcompact</th>
<th align="center">suv</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">NA</td>
<td align="center">32</td>
<td align="center">16</td>
<td align="center">1</td>
<td align="center">3</td>
<td align="center">21</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">NA</td>
<td align="center">13</td>
<td align="center">23</td>
<td align="center">10</td>
<td align="center">10</td>
<td align="center">7</td>
<td align="center">16</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">5</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">NA</td>
<td align="center">20</td>
<td align="center">5</td>
<td align="center">38</td>
</tr>
</tbody>
</table>
<p>Heb je gezien wat er gebeurd is? Vergelijk gewoon de laatste twee tabellen. Wat gebeurt er als je cyl als key gebruikt?</p>
<p>Nu, waarom tonen sommige van de waarden in dit data.frame NA, wat staat voor Not Available? Dat komt omdat niet alle class-cyl combinaties bestaan, d.w.z., onze lijst voordien toonde ons slechts 19 bestaande combinaties. Er zijn geen auto’s voor de andere 9 combinaties. We houden echter niet zo van NA’s, dus laten we ze veranderen in nullen. Gelukkig is dit een functie van de <code>spread</code> functie. Het argument <code>fill</code> wordt gebruikt om de lege cellen te “vullen”. We hoeven het alleen maar op nul te zetten.<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a></p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb119-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb119-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb119-4" title="4"><span class="st">    </span><span class="kw">spread</span>(class, frequency, <span class="dt">fill =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb119-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> regrouping output by ‘cyl’ (override with <code>.groups</code> argument)</p>
<table>
<colgroup>
<col width="8%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="12%" />
<col width="17%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">cyl</th>
<th align="center">2seater</th>
<th align="center">compact</th>
<th align="center">midsize</th>
<th align="center">minivan</th>
<th align="center">pickup</th>
<th align="center">subcompact</th>
<th align="center">suv</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">0</td>
<td align="center">32</td>
<td align="center">16</td>
<td align="center">1</td>
<td align="center">3</td>
<td align="center">21</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">0</td>
<td align="center">13</td>
<td align="center">23</td>
<td align="center">10</td>
<td align="center">10</td>
<td align="center">7</td>
<td align="center">16</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">5</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">20</td>
<td align="center">5</td>
<td align="center">38</td>
</tr>
</tbody>
</table>
<p>Geweldig. Dit is wat ik zou noemen een “Contingentietabel met absolute frequenties”. Het toont ons het absolute aantal auto’s voor elke combinatie van cilinder en klasse, en het vertelt ons dat de combinatie 8 cilinders en SUV het meest prominent is in onze gegevens. Deze contingentietabel past heel goed bij onze eerste twee grafieken.</p>
<p>Een andere vraag die we kunnen stellen is: Als we kijken naar auto’s met 4 cilinders, wat is dan de specifieke verdeling over de klassen? In dit geval zouden we relatieve frequenties willen hebben. Laten we dit eens proberen.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb120-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> regrouping output by ‘cyl’ (override with <code>.groups</code> argument)</p>
<table style="width:72%;">
<colgroup>
<col width="8%" />
<col width="18%" />
<col width="16%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">cyl</th>
<th align="center">class</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">compact</td>
<td align="center">32</td>
<td align="center">0.3951</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">midsize</td>
<td align="center">16</td>
<td align="center">0.1975</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">minivan</td>
<td align="center">1</td>
<td align="center">0.01235</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">pickup</td>
<td align="center">3</td>
<td align="center">0.03704</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">subcompact</td>
<td align="center">21</td>
<td align="center">0.2593</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">suv</td>
<td align="center">8</td>
<td align="center">0.09877</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">compact</td>
<td align="center">2</td>
<td align="center">0.5</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">subcompact</td>
<td align="center">2</td>
<td align="center">0.5</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">compact</td>
<td align="center">13</td>
<td align="center">0.1646</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">midsize</td>
<td align="center">23</td>
<td align="center">0.2911</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">minivan</td>
<td align="center">10</td>
<td align="center">0.1266</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">pickup</td>
<td align="center">10</td>
<td align="center">0.1266</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">subcompact</td>
<td align="center">7</td>
<td align="center">0.08861</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">suv</td>
<td align="center">16</td>
<td align="center">0.2025</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">2seater</td>
<td align="center">5</td>
<td align="center">0.07143</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">midsize</td>
<td align="center">2</td>
<td align="center">0.02857</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">pickup</td>
<td align="center">20</td>
<td align="center">0.2857</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subcompact</td>
<td align="center">5</td>
<td align="center">0.07143</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">suv</td>
<td align="center">38</td>
<td align="center">0.5429</td>
</tr>
</tbody>
</table>
<p>Dat is precies wat we wilden hebben. Maar, valt je niet iets vreemds op?</p>
<p>Binnen elke cilindergroep tellen de relatieve frequenties op tot één. Kijk bijvoorbeeld naar cyl = 5, daar zijn 50% compacte auto’s en 50% subcompact. Dat is wat we wilden, maar… dit is niet wat er eerder gebeurde bij het maken van frequentie tabellen. Wat is er veranderd?</p>
<p>Het antwoord is subtiel, lastig en belangrijk.</p>
<p>Telkens wanneer een sommatie wordt gedaan van een gegroepeerd data.frame, verwijdert summary de laatste groeperingsvariabele. In het geval van onze frequentietabel eerder:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-4" title="4"><span class="st">    </span>groups</a></code></pre></div>
<pre><code>## list()</code></pre>
<p>Na het samenvatten, zijn er geen groeperingsvariabelen meer. Er was er maar één, en die is verwijderd. De functie summarize gaat er impliciet van uit dat de groepering nutteloos is geworden na de summarize. Dit betekent dat, als we <code>sum(frequency)</code> in de volgende regel gebruiken om relatieve frequenties te berekenen, het de som van de frequenties in de hele tabel zou berekenen.</p>
<p>Nu, terug naar ons voorbeeld. Nadat de frequenties zijn berekend, zijn de gegevens alleen gegroepeerd per cyl. Dus <code>sum(frequency)</code> berekent nu de som van de frequenties voor elke cyl-groep. Inderdaad, vergeet niet, voor een gegroepeerd data.frame, gebeuren alle bewerkingen afzonderlijk voor elke groep. Dat is precies de reden waarom de relatieve frequenties binnen elke cyl-groep bij 1 optellen.</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb123-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb123-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb123-4" title="4"><span class="st">    </span>groups</a></code></pre></div>
<pre><code>## [[1]]
## cyl</code></pre>
<p>Als we de volgorde van de groeperingsniveaus in de <code>group_by</code> functie veranderen, veranderen we ook de relatieve frequenties die berekend zullen worden. Als we de klasse eerst zetten, zullen de relatieve frequenties voor elk van de klassen opgeteld 1 zijn.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb125-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(class, cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb125-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb125-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb125-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> regrouping output by ‘class’ (override with <code>.groups</code> argument)</p>
<table style="width:72%;">
<colgroup>
<col width="18%" />
<col width="8%" />
<col width="16%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">class</th>
<th align="center">cyl</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2seater</td>
<td align="center">8</td>
<td align="center">5</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">4</td>
<td align="center">32</td>
<td align="center">0.6809</td>
</tr>
<tr class="odd">
<td align="center">compact</td>
<td align="center">5</td>
<td align="center">2</td>
<td align="center">0.04255</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">6</td>
<td align="center">13</td>
<td align="center">0.2766</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">4</td>
<td align="center">16</td>
<td align="center">0.3902</td>
</tr>
<tr class="even">
<td align="center">midsize</td>
<td align="center">6</td>
<td align="center">23</td>
<td align="center">0.561</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">8</td>
<td align="center">2</td>
<td align="center">0.04878</td>
</tr>
<tr class="even">
<td align="center">minivan</td>
<td align="center">4</td>
<td align="center">1</td>
<td align="center">0.09091</td>
</tr>
<tr class="odd">
<td align="center">minivan</td>
<td align="center">6</td>
<td align="center">10</td>
<td align="center">0.9091</td>
</tr>
<tr class="even">
<td align="center">pickup</td>
<td align="center">4</td>
<td align="center">3</td>
<td align="center">0.09091</td>
</tr>
<tr class="odd">
<td align="center">pickup</td>
<td align="center">6</td>
<td align="center">10</td>
<td align="center">0.303</td>
</tr>
<tr class="even">
<td align="center">pickup</td>
<td align="center">8</td>
<td align="center">20</td>
<td align="center">0.6061</td>
</tr>
<tr class="odd">
<td align="center">subcompact</td>
<td align="center">4</td>
<td align="center">21</td>
<td align="center">0.6</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">5</td>
<td align="center">2</td>
<td align="center">0.05714</td>
</tr>
<tr class="odd">
<td align="center">subcompact</td>
<td align="center">6</td>
<td align="center">7</td>
<td align="center">0.2</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">8</td>
<td align="center">5</td>
<td align="center">0.1429</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">4</td>
<td align="center">8</td>
<td align="center">0.129</td>
</tr>
<tr class="even">
<td align="center">suv</td>
<td align="center">6</td>
<td align="center">16</td>
<td align="center">0.2581</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">8</td>
<td align="center">38</td>
<td align="center">0.6129</td>
</tr>
</tbody>
</table>
<p>Toegegeven, dit is verwarrend, maar tegelijkertijd is het zeer nuttig. Je moet dus wel letten op de volgorde van de variabelen in de group_by functie, en op het aantal samenvattingen dat na het groeperen wordt gebruikt.</p>
<p>Nu we de relatieve frequenties hebben, kunnen we die met <code>spread</code> opnieuw vormgeven om een matrix-achtige tabel te maken. Deze keer stellen we de relatieve_frequentie in als waarde.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb126-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(class, cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb126-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb126-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb126-5" title="5"><span class="st">    </span><span class="kw">spread</span>(cyl, relative_frequency, <span class="dt">fill =</span> <span class="dv">0</span>)   <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb126-6" title="6"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> regrouping output by ‘class’ (override with <code>.groups</code> argument)</p>
<table style="width:89%;">
<colgroup>
<col width="18%" />
<col width="16%" />
<col width="13%" />
<col width="13%" />
<col width="12%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">class</th>
<th align="center">frequency</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2seater</td>
<td align="center">5</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0.04255</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">compact</td>
<td align="center">13</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.2766</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">32</td>
<td align="center">0.6809</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.04878</td>
</tr>
<tr class="even">
<td align="center">midsize</td>
<td align="center">16</td>
<td align="center">0.3902</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">23</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.561</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">minivan</td>
<td align="center">1</td>
<td align="center">0.09091</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">minivan</td>
<td align="center">10</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.9091</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">pickup</td>
<td align="center">3</td>
<td align="center">0.09091</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">pickup</td>
<td align="center">10</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.303</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">pickup</td>
<td align="center">20</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6061</td>
</tr>
<tr class="odd">
<td align="center">subcompact</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0.05714</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">5</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.1429</td>
</tr>
<tr class="odd">
<td align="center">subcompact</td>
<td align="center">7</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.2</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">21</td>
<td align="center">0.6</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">8</td>
<td align="center">0.129</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">suv</td>
<td align="center">16</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.2581</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">38</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6129</td>
</tr>
</tbody>
</table>
<p>Oh… dat is niet wat we verwacht hadden? We verwachtten één rij voor elke klasse, maar nu hebben we er meer dan één. De reden is eenvoudig. Voor elke combinatie van klasse en cilinder hebben wij twee waarden: frequentie en relatieve frequentie. Wanneer wij de relatieve frequenties over één lijn willen verdelen, is er geen plaats meer voor de frequenties. Het gevolg is dat de lijnen niet meer, zoals voorheen, tot één lijn kunnen <em>samenvallen</em>. We kunnen dit echter eenvoudig oplossen door eerst de frequenties weg te nemen, door select te gebruiken.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb127-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(class, cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb127-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb127-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb127-5" title="5"><span class="st">    </span><span class="kw">select</span>(<span class="op">-</span>frequency) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb127-6" title="6"><span class="st">    </span><span class="kw">spread</span>(cyl, relative_frequency, <span class="dt">fill =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb127-7" title="7"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> regrouping output by ‘class’ (override with <code>.groups</code> argument)</p>
<table style="width:72%;">
<colgroup>
<col width="18%" />
<col width="13%" />
<col width="13%" />
<col width="12%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">class</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2seater</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">0.6809</td>
<td align="center">0.04255</td>
<td align="center">0.2766</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">0.3902</td>
<td align="center">0</td>
<td align="center">0.561</td>
<td align="center">0.04878</td>
</tr>
<tr class="even">
<td align="center">minivan</td>
<td align="center">0.09091</td>
<td align="center">0</td>
<td align="center">0.9091</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">pickup</td>
<td align="center">0.09091</td>
<td align="center">0</td>
<td align="center">0.303</td>
<td align="center">0.6061</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">0.6</td>
<td align="center">0.05714</td>
<td align="center">0.2</td>
<td align="center">0.1429</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">0.129</td>
<td align="center">0</td>
<td align="center">0.2581</td>
<td align="center">0.6129</td>
</tr>
</tbody>
</table>
<p>Dit lijkt er meer op. Merk op dat in plaats van de variabelen die we willen houden aan te geven met select, we de variabele die we willen verwijderen aangeven met een minteken, wat veel korter is. Verwar het niet met het minteken bij het rangschikken van gegevens, want dat is iets heel anders.</p>
<p>Op elke rij kunnen we nu de verdeling van verschillende cilinders zien voor een bepaalde klasse auto’s. Je zou het ook andersom kunnen draaien, en de verdeling van verschillende klassen voor een specifiek aantal cilinders kunnen laten zien. Net zoals we vele grafieken hadden om naar deze twee variabelen te kijken, kunnen we vele contingentietabellen maken.</p>
<p>Stel ten slotte dat we een contingentietabel willen met algemene relatieve frequenties. D.w.z. dat we de vraag willen beantwoorden: welk percentage van de auto’s heeft 5 cilinders en is van de klasse compact. We kunnen het laatste stukje code recyclen, en we hoeven maar één regel toe te voegen.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(class, cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-4" title="4"><span class="st">    </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-6" title="6"><span class="st">    </span><span class="kw">select</span>(<span class="op">-</span>frequency) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb128-7" title="7"><span class="st">    </span><span class="kw">spread</span>(cyl, relative_frequency, <span class="dt">fill =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb128-8" title="8"><span class="st">    </span>pander</a></code></pre></div>
<p><code>summarise()</code> regrouping output by ‘class’ (override with <code>.groups</code> argument)</p>
<table style="width:78%;">
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="15%" />
<col width="13%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">class</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2seater</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.02137</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">0.1368</td>
<td align="center">0.008547</td>
<td align="center">0.05556</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">0.06838</td>
<td align="center">0</td>
<td align="center">0.09829</td>
<td align="center">0.008547</td>
</tr>
<tr class="even">
<td align="center">minivan</td>
<td align="center">0.004274</td>
<td align="center">0</td>
<td align="center">0.04274</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">pickup</td>
<td align="center">0.01282</td>
<td align="center">0</td>
<td align="center">0.04274</td>
<td align="center">0.08547</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">0.08974</td>
<td align="center">0.008547</td>
<td align="center">0.02991</td>
<td align="center">0.02137</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">0.03419</td>
<td align="center">0</td>
<td align="center">0.06838</td>
<td align="center">0.1624</td>
</tr>
</tbody>
</table>
<p>De functie ungroup die we hebben toegevoegd, verwijdert alle groepen. Als gevolg daarvan wordt de som van de frequenties berekend over het volledige data.frame. Dus, alleen de relatieve frequenties van alle combinaties zullen bij elkaar opgeteld één zijn (je kan het zelf narekenen).</p>
</div>
<div id="background-material-1" class="section level2">
<h2><span class="header-section-number">5.9</span> Background material</h2>
<p>Wij hebben 5 verschillende analyses uitgevoerd en onderweg heel wat nieuwe nuttige functies geleerd. Vergeet zeker niet de belangrijkste: select, arrange, group_by, summarize, mutate en spread!</p>
<p>Als je meer wilt weren, kan je deze materialen raadplegen:</p>
<ul>
<li><a href="http://r4ds.had.co.nz/">R for Data Science</a>, chapter 5</li>
<li><a href="https://cran.rstudio.com/web/packages/dplyr/vignettes/dplyr.html">dplyr Introduction</a></li>
</ul>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="12">
<li id="fn12"><p>Hoewel het bepaalde analyses interessanter maakt als je bekend bent met de betekenis van de verschillende variabelen, is geen specifieke kennis van auto’s vereist om deze tutorial te voltooien.<a href="tutorial-descriptieve-statistieken.html#fnref12" class="footnote-back">↩</a></p></li>
<li id="fn13"><p><img src="images/tidyverse.png" /> Het <em>tidyverse</em> is een set van pakketten voor data science die in harmonie werken omdat ze gemeenschappelijke data representaties en API ontwerp delen. Het <code>tidyverse</code>-pakket is ontworpen om het gemakkelijk te maken om kernpakketten van de tidyverse te installeren en te laden met een enkel commando. De tidyverse bevat pakketten zoals: ggplot2, dplyr, tidyr, readr, purrr, tibble, hms, stringr, lubridate, forcats, jsonlite, readxl, broom, en anderen. Hadley Wickham kan beschouwd worden als de grondlegger van het tidyverse. De beste plaats om deze pakketten te leren kennen is door dit boek te lezen: <a href="http://r4ds.had.co.nz/">R for Data Science</a>, geschreven door Hadley en Garret Grolemund.<a href="tutorial-descriptieve-statistieken.html#fnref13" class="footnote-back">↩</a></p></li>
<li id="fn14"><p>Omdat we <code>mpg</code> daarnet in een tibble data.frame hebben veranderd, kunnen we het alleen afdrukken alsof het een normaal data.frame is door de <code>as.data.frame</code> functie te gebruiken. We updaten het object echter niet, omdat we het niet opslaan met de <code>&lt;-</code>.<a href="tutorial-descriptieve-statistieken.html#fnref14" class="footnote-back">↩</a></p></li>
<li id="fn15"><p>Let op de hoofdletter I<a href="tutorial-descriptieve-statistieken.html#fnref15" class="footnote-back">↩</a></p></li>
<li id="fn16"><p><img src="images/pipe.jpg" /> <br/> Het piping-symbool werd voor het eerst geïntroduceerd in het pakket <code>magrittr</code>, genoemd naar de Belgische surrealistische kunstenaar René Magritte, bekend van zijn schilderij <em>The Threachery of Images</em>, oftewel <em>Ceci n’est pas un pipe</em>.<a href="tutorial-descriptieve-statistieken.html#fnref16" class="footnote-back">↩</a></p></li>
<li id="fn17"><p>Je kunt zelfs de haakjes van de functies weglaten als er geen argumenten meer zijn. Zo zou <code>mpg %&gt;% head</code> prima werken. Verwar dit echter niet met het toevoegen van lagen aan een <code>ggplot</code> aanroep. Hier zou je de haakjes van lege functie-aanroepen moeten behouden. Voeg bijvoorbeeld niet <code>coord_flip</code> toe aan een <code>ggplot</code> object, maar voeg <code>coord_flip()</code> toe. Wees je bewust van dit verschil. Uit veiligheidsoverwegingen is het aan te raden consistent de haakjes te laten staan.<a href="tutorial-descriptieve-statistieken.html#fnref17" class="footnote-back">↩</a></p></li>
<li id="fn18"><p>Zowel het Brits-Engelse <em>summarise</em> als het Amerikaans-Engelse <em>summarize</em> kan worden gebruikt.<a href="tutorial-descriptieve-statistieken.html#fnref18" class="footnote-back">↩</a></p></li>
<li id="fn19"><p>Merk op dat we ook de <code>pander</code> functie aan dit statement hebben toegevoegd. Deze functie komt uit het <code>pander</code> pakket en is afgeleid van de naam <em>pandoc</em>, een gratis, open-source software document converter. Merk op dat de resulterende tabel mooier geformatteerd is dan het resultaat van het vorige statement zonder het gebruik van <code>pander</code>. Het dient echter alleen om te gebruiken in een markdown document als opmaak belangrijk is. Het heeft geen zin te gebruiken worden bij het programmeren in de console of in r-scripts. Je kunt dit statement gewoon negeren voor de rest van deze tutorial.<a href="tutorial-descriptieve-statistieken.html#fnref19" class="footnote-back">↩</a></p></li>
<li id="fn20"><p>WAARSCHUWING: gebruik <code>n</code> alleen binnen summarize, en telt het aantal observaties in de dataset. In tegenstelling tot alle andere functies hier neemt deze functie geen input aan. Deze functie kan dus ook niet gebruikt worden op normale vectoren, wat voor de andere functies wel geldt.<a href="tutorial-descriptieve-statistieken.html#fnref20" class="footnote-back">↩</a></p></li>
<li id="fn21"><p>In het bijzonder zijn er 3 <em>drv</em> waarden en 10 <em>trans</em> waarden. Er zouden dus maximaal 30 verschillende groepen kunnen zijn. Het feit dat er slechts 24 groepen worden aangegeven, betekent dat niet alle mogelijke combinaties van <em>drv</em> en <em>trans</em> waarden in de gegevens voorkomen.<a href="tutorial-descriptieve-statistieken.html#fnref21" class="footnote-back">↩</a></p></li>
<li id="fn22"><p><img src="images/forcats.jpg" /> <br/> Heb je de functie <code>fct_infreq</code> gezien die rond de <em>manufacturer</em> variabele is gewikkeld in de geom_bar mapping? Deze functie zorgt ervoor dat de staven worden gerangschikt van infrequent naar frequent. Deze functie is een van de handige functies voor factoren uit het pakket <code>forcats</code>, dat een anagram is van <em>factors</em> en het symboliseert het feit dat veel mensen in de R-gemeenschap kattenliefhebbers zijn (serieus). Als je wilt, kan je het installeren en de <code>fct_infreq</code> functie gebruiken (afkorting voor “reorder this factor based on (in)frequency)”. Een volledige kennismaking met dit pakket wordt (voorlopig) niet verwacht.<a href="tutorial-descriptieve-statistieken.html#fnref22" class="footnote-back">↩</a></p></li>
<li id="fn23"><p>Merk op hoe we de <code>is.numeric</code> functie binnen select_if gebruiken: zonder aanhalingstekens en zonder haakjes. Dit is belangrijk!<a href="tutorial-descriptieve-statistieken.html#fnref23" class="footnote-back">↩</a></p></li>
<li id="fn24"><p>Meer informatie en instellingen voor deze plots zijn te vinden in <a href="https://github.com/kassambara/ggcorrplot">deze handleiding</a><a href="tutorial-descriptieve-statistieken.html#fnref24" class="footnote-back">↩</a></p></li>
<li id="fn25"><p>We zijn fill al in verschillende contexten tegengekomen. Het wordt gebruikt om de vulkleur in plots te specificeren, het kan gebruikt worden als een position in geom_bar om de balken tot 100% te vullen, en nu kunnen we het gebruiken om lege ruimtes in de contingentietabel op te vullen. Verwar ze niet met elkaar!<a href="tutorial-descriptieve-statistieken.html#fnref25" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lecture-notes-descriptieve-statistieken.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lecture-notes-structuur-van-een-data-analyse-project-.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["textbook.pdf"],
"toc": {
"collapse": "section",
"depth": 3
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
