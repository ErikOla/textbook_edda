<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Tutorial - Descriptieve statistieken | Exploratieve en Descriptieve Data Analyse</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Tutorial - Descriptieve statistieken | Exploratieve en Descriptieve Data Analyse" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Tutorial - Descriptieve statistieken | Exploratieve en Descriptieve Data Analyse" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Benoît Depaire, Gert Janssenswillen" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="descriptieve-statistieken.html"/>
<link rel="next" href="storytelling-van-data-tot-inzicht.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Exploratieve en descriptieve data analyse</a></li>
<li><a href="https://beta.rstudioconnect.com/content/7904/studieleidraad_worksessions.html">Studieleidraad</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Voorwoord</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#hoe-de-lecture-notes-te-gebruiken"><i class="fa fa-check"></i>Hoe de lecture notes te gebruiken</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#hoe-de-tutorials-te-gebruiken"><i class="fa fa-check"></i>Hoe de tutorials te gebruiken</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#over-de-auteurs"><i class="fa fa-check"></i>Over de auteurs</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introductiecollege.html"><a href="introductiecollege.html"><i class="fa fa-check"></i><b>1</b> Introductiecollege</a><ul>
<li class="chapter" data-level="1.1" data-path="introductiecollege.html"><a href="introductiecollege.html#data-science"><i class="fa fa-check"></i><b>1.1</b> Data science?</a><ul>
<li class="chapter" data-level="1.1.1" data-path="introductiecollege.html"><a href="introductiecollege.html#netflix"><i class="fa fa-check"></i><b>1.1.1</b> Netflix</a></li>
<li class="chapter" data-level="1.1.2" data-path="introductiecollege.html"><a href="introductiecollege.html#waar-komt-data-vandaan"><i class="fa fa-check"></i><b>1.1.2</b> Waar komt data vandaan?</a></li>
<li class="chapter" data-level="1.1.3" data-path="introductiecollege.html"><a href="introductiecollege.html#hoeveel-data-is-er-beschikbaar"><i class="fa fa-check"></i><b>1.1.3</b> Hoeveel data is er beschikbaar?</a></li>
<li class="chapter" data-level="1.1.4" data-path="introductiecollege.html"><a href="introductiecollege.html#waar-wordt-data-voor-gebruikt-in-de-bedrijfswereld"><i class="fa fa-check"></i><b>1.1.4</b> Waar wordt data voor gebruikt in de bedrijfswereld?</a></li>
<li class="chapter" data-level="1.1.5" data-path="introductiecollege.html"><a href="introductiecollege.html#waarover-verzamelen-bedrijven-data"><i class="fa fa-check"></i><b>1.1.5</b> Waarover verzamelen bedrijven data</a></li>
<li class="chapter" data-level="1.1.6" data-path="introductiecollege.html"><a href="introductiecollege.html#van-data-tot-actionable-insights"><i class="fa fa-check"></i><b>1.1.6</b> Van data tot ‘actionable insights’</a></li>
<li class="chapter" data-level="1.1.7" data-path="introductiecollege.html"><a href="introductiecollege.html#data-scientists"><i class="fa fa-check"></i><b>1.1.7</b> Data Scientists</a></li>
<li class="chapter" data-level="1.1.8" data-path="introductiecollege.html"><a href="introductiecollege.html#verschillende-soorten-van-data-analyse"><i class="fa fa-check"></i><b>1.1.8</b> Verschillende soorten van data analyse</a></li>
<li class="chapter" data-level="1.1.9" data-path="introductiecollege.html"><a href="introductiecollege.html#de-kunst-van-data-analyse"><i class="fa fa-check"></i><b>1.1.9</b> De kunst van data analyse</a></li>
<li class="chapter" data-level="1.1.10" data-path="introductiecollege.html"><a href="introductiecollege.html#de-kracht-van-descriptieve-en-exploratieve-data-analyse"><i class="fa fa-check"></i><b>1.1.10</b> De kracht van descriptieve en exploratieve data analyse</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introductiecollege.html"><a href="introductiecollege.html#gastcollege-bart-van-proeyen---kwarts"><i class="fa fa-check"></i><b>1.2</b> Gastcollege Bart Van Proeyen - Kwarts</a></li>
<li class="chapter" data-level="1.3" data-path="introductiecollege.html"><a href="introductiecollege.html#data-data-types"><i class="fa fa-check"></i><b>1.3</b> Data &amp; Data types</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introductiecollege.html"><a href="introductiecollege.html#dataset"><i class="fa fa-check"></i><b>1.3.1</b> Dataset</a></li>
<li class="chapter" data-level="1.3.2" data-path="introductiecollege.html"><a href="introductiecollege.html#klassieke-datatypologie"><i class="fa fa-check"></i><b>1.3.2</b> Klassieke datatypologie</a></li>
<li class="chapter" data-level="1.3.3" data-path="introductiecollege.html"><a href="introductiecollege.html#de-klassieke-datatypologie-is-misleidend"><i class="fa fa-check"></i><b>1.3.3</b> De klassieke datatypologie is misleidend</a></li>
<li class="chapter" data-level="1.3.4" data-path="introductiecollege.html"><a href="introductiecollege.html#alternatieve-datatypologie"><i class="fa fa-check"></i><b>1.3.4</b> Alternatieve datatypologie</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introductiecollege.html"><a href="introductiecollege.html#referenties"><i class="fa fa-check"></i><b>1.4</b> Referenties</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-visualizatie.html"><a href="data-visualizatie.html"><i class="fa fa-check"></i><b>2</b> Data visualizatie</a><ul>
<li class="chapter" data-level="2.1" data-path="data-visualizatie.html"><a href="data-visualizatie.html#univariate-visualisaties-1-variabele"><i class="fa fa-check"></i><b>2.1</b> Univariate visualisaties (1 variabele)</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data-visualizatie.html"><a href="data-visualizatie.html#categorische-variabele"><i class="fa fa-check"></i><b>2.1.1</b> Categorische variabele</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-visualizatie.html"><a href="data-visualizatie.html#continue-variabele"><i class="fa fa-check"></i><b>2.1.2</b> Continue variabele</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-visualizatie.html"><a href="data-visualizatie.html#bivariate-visualisatie-2-variabelen"><i class="fa fa-check"></i><b>2.2</b> Bivariate visualisatie (2 variabelen)</a><ul>
<li class="chapter" data-level="2.2.1" data-path="data-visualizatie.html"><a href="data-visualizatie.html#situatie-1-de-onafhankelijke-variabele-is-categorisch"><i class="fa fa-check"></i><b>2.2.1</b> Situatie 1: De onafhankelijke variabele is categorisch</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-visualizatie.html"><a href="data-visualizatie.html#situatie-2-de-onafhankelijke-variabele-is-continue"><i class="fa fa-check"></i><b>2.2.2</b> Situatie 2: De onafhankelijke variabele is continue</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-visualizatie.html"><a href="data-visualizatie.html#situatie-3-de-onafhankelijke-variabele-is-tijd"><i class="fa fa-check"></i><b>2.2.3</b> Situatie 3: De onafhankelijke variabele is tijd</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-visualizatie.html"><a href="data-visualizatie.html#multivariate-visualisaties-meer-dan-2-variabelen"><i class="fa fa-check"></i><b>2.3</b> Multivariate visualisaties (meer dan 2 variabelen)</a><ul>
<li class="chapter" data-level="2.3.1" data-path="data-visualizatie.html"><a href="data-visualizatie.html#voorbeeld-in-welke-mate-hangt-de-vertrek-vertraging-af-van-de-luchthaven-en-de-afstand"><i class="fa fa-check"></i><b>2.3.1</b> Voorbeeld: In welke mate hangt de vertrek vertraging af van de luchthaven en de afstand?</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-visualizatie.html"><a href="data-visualizatie.html#voorbeeld-multivariaat-tijd"><i class="fa fa-check"></i><b>2.3.2</b> Voorbeeld: multivariaat tijd</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-visualizatie.html"><a href="data-visualizatie.html#visualisaties-voor-communicatie"><i class="fa fa-check"></i><b>2.4</b> Visualisaties voor communicatie</a><ul>
<li class="chapter" data-level="2.4.1" data-path="data-visualizatie.html"><a href="data-visualizatie.html#voorbeeld-voor-goed-voor-exploratie"><i class="fa fa-check"></i><b>2.4.1</b> Voorbeeld: voor ~ goed voor exploratie</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-visualizatie.html"><a href="data-visualizatie.html#voorbeeld-na-goed-voor-communicatie"><i class="fa fa-check"></i><b>2.4.2</b> Voorbeeld: na ~ goed voor communicatie</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-visualizatie.html"><a href="data-visualizatie.html#how-charts-lie"><i class="fa fa-check"></i><b>2.5</b> How charts lie</a><ul>
<li class="chapter" data-level="2.5.1" data-path="data-visualizatie.html"><a href="data-visualizatie.html#causaliteit-vs-correlatie"><i class="fa fa-check"></i><b>2.5.1</b> Causaliteit vs correlatie</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="data-visualizatie.html"><a href="data-visualizatie.html#referenties-1"><i class="fa fa-check"></i><b>2.6</b> Referenties</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html"><i class="fa fa-check"></i><b>3</b> Tutorial - Data vizualisatie</a><ul>
<li class="chapter" data-level="3.1" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#before-you-start"><i class="fa fa-check"></i><b>3.1</b> Before you start</a></li>
<li class="chapter" data-level="3.2" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#introduction"><i class="fa fa-check"></i><b>3.2</b> Introduction</a></li>
<li class="chapter" data-level="3.3" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#different-geometrics"><i class="fa fa-check"></i><b>3.3</b> Different geometrics</a><ul>
<li class="chapter" data-level="3.3.1" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#geom_point"><i class="fa fa-check"></i><b>3.3.1</b> geom_point</a></li>
<li class="chapter" data-level="3.3.2" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#geom_histogram"><i class="fa fa-check"></i><b>3.3.2</b> geom_histogram</a></li>
<li class="chapter" data-level="3.3.3" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#geom_boxplot"><i class="fa fa-check"></i><b>3.3.3</b> geom_boxplot</a></li>
<li class="chapter" data-level="3.3.4" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#geom_violin"><i class="fa fa-check"></i><b>3.3.4</b> geom_violin</a></li>
<li class="chapter" data-level="3.3.5" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#geom_bar"><i class="fa fa-check"></i><b>3.3.5</b> geom_bar</a></li>
<li class="chapter" data-level="3.3.6" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#geom_col"><i class="fa fa-check"></i><b>3.3.6</b> geom_col</a></li>
<li class="chapter" data-level="3.3.7" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#other-geometrics"><i class="fa fa-check"></i><b>3.3.7</b> Other geometrics</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#enhancing-the-appearance-of-our-plots"><i class="fa fa-check"></i><b>3.4</b> Enhancing the appearance of our plots</a><ul>
<li class="chapter" data-level="3.4.1" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#titles"><i class="fa fa-check"></i><b>3.4.1</b> Titles</a></li>
<li class="chapter" data-level="3.4.2" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#theme"><i class="fa fa-check"></i><b>3.4.2</b> Theme</a></li>
<li class="chapter" data-level="3.4.3" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#configuring-the-coordinate-system"><i class="fa fa-check"></i><b>3.4.3</b> Configuring the coordinate system</a></li>
<li class="chapter" data-level="3.4.4" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#color-scales"><i class="fa fa-check"></i><b>3.4.4</b> Color scales</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#advanced-plots"><i class="fa fa-check"></i><b>3.5</b> Advanced plots</a><ul>
<li class="chapter" data-level="3.5.1" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#using-facets"><i class="fa fa-check"></i><b>3.5.1</b> Using Facets</a></li>
<li class="chapter" data-level="3.5.2" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#combining-multiple-geometric-layers"><i class="fa fa-check"></i><b>3.5.2</b> Combining multiple geometric layers</a></li>
<li class="chapter" data-level="3.5.3" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#aes-inheritance"><i class="fa fa-check"></i><b>3.5.3</b> Aes-inheritance</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="tutorial-data-vizualisatie.html"><a href="tutorial-data-vizualisatie.html#background-material"><i class="fa fa-check"></i><b>3.6</b> Background material</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html"><i class="fa fa-check"></i><b>4</b> Descriptieve statistieken</a><ul>
<li class="chapter" data-level="4.1" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#beschrijvende-statistieken-versus-exploratieve-plots"><i class="fa fa-check"></i><b>4.1</b> Beschrijvende statistieken versus exploratieve plots</a></li>
<li class="chapter" data-level="4.2" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#notatie"><i class="fa fa-check"></i><b>4.2</b> Notatie</a></li>
<li class="chapter" data-level="4.3" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#data"><i class="fa fa-check"></i><b>4.3</b> Data</a></li>
<li class="chapter" data-level="4.4" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#univariate-statistieken"><i class="fa fa-check"></i><b>4.4</b> Univariate statistieken</a><ul>
<li class="chapter" data-level="4.4.1" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#categorische-variabele-1"><i class="fa fa-check"></i><b>4.4.1</b> Categorische variabele</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#frequentietabel"><i class="fa fa-check"></i>Frequentietabel</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#centrummaten"><i class="fa fa-check"></i>Centrummaten</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#spreidingsmaten"><i class="fa fa-check"></i>Spreidingsmaten</a></li>
<li class="chapter" data-level="4.4.2" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#continue-variabele-1"><i class="fa fa-check"></i><b>4.4.2</b> Continue variabele</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#centrummaten-1"><i class="fa fa-check"></i>Centrummaten</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#spreidingsmaten-1"><i class="fa fa-check"></i>Spreidingsmaten</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#bivariate-statistieken"><i class="fa fa-check"></i><b>4.5</b> Bivariate statistieken</a><ul>
<li class="chapter" data-level="4.5.1" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#continu-versus-continu"><i class="fa fa-check"></i><b>4.5.1</b> Continu versus Continu</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#correlatie"><i class="fa fa-check"></i>Correlatie</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#vergelijking-correlatiecoëfficiënten"><i class="fa fa-check"></i>Vergelijking correlatiecoëfficiënten</a></li>
<li class="chapter" data-level="4.5.2" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#categorisch-versus-continu"><i class="fa fa-check"></i><b>4.5.2</b> Categorisch versus Continu</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#univariate-statistieken-per-categoriewaarde"><i class="fa fa-check"></i>Univariate statistieken per categoriewaarde</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#correlatie-1"><i class="fa fa-check"></i>Correlatie</a></li>
<li class="chapter" data-level="4.5.3" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#categorisch-versus-categorisch"><i class="fa fa-check"></i><b>4.5.3</b> Categorisch versus Categorisch</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#univariate-statistieken-per-categoriewaarde-1"><i class="fa fa-check"></i>Univariate statistieken per categoriewaarde</a></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#contingentietabellen"><i class="fa fa-check"></i>Contingentietabellen</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="descriptieve-statistieken.html"><a href="descriptieve-statistieken.html#referenties-2"><i class="fa fa-check"></i>Referenties</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html"><i class="fa fa-check"></i><b>5</b> Tutorial - Descriptieve statistieken</a><ul>
<li class="chapter" data-level="5.1" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#before-you-start-1"><i class="fa fa-check"></i><b>5.1</b> Before you start</a></li>
<li class="chapter" data-level="5.2" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#introduction-1"><i class="fa fa-check"></i><b>5.2</b> Introduction</a></li>
<li class="chapter" data-level="5.3" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#helpful-dplyr-functions"><i class="fa fa-check"></i><b>5.3</b> Helpful dplyr functions</a><ul>
<li class="chapter" data-level="5.3.1" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#tibbles"><i class="fa fa-check"></i><b>5.3.1</b> Tibbles</a></li>
<li class="chapter" data-level="5.3.2" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#glimpse"><i class="fa fa-check"></i><b>5.3.2</b> Glimpse</a></li>
<li class="chapter" data-level="5.3.3" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#section"><i class="fa fa-check"></i><b>5.3.3</b> %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#univariate-analysis-of-a-continuous-variable"><i class="fa fa-check"></i><b>5.4</b> Univariate analysis of a continuous variable</a></li>
<li class="chapter" data-level="5.5" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#bivariate-analysis-of-a-continuous-variable-with-respect-to-a-categorical-variable"><i class="fa fa-check"></i><b>5.5</b> Bivariate analysis of a continuous variable with respect to a categorical variable</a></li>
<li class="chapter" data-level="5.6" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#univariate-analysis-of-a-categorical-variable"><i class="fa fa-check"></i><b>5.6</b> Univariate analysis of a categorical variable</a></li>
<li class="chapter" data-level="5.7" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#bivariate-analysis-of-a-continuous-variable-with-respect-to-another-continuous-variable"><i class="fa fa-check"></i><b>5.7</b> Bivariate analysis of a continuous variable with respect to another continuous variable</a></li>
<li class="chapter" data-level="5.8" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#bivariate-analysis-of-a-categorical-variable-with-respect-to-another-categorical-variable"><i class="fa fa-check"></i><b>5.8</b> Bivariate analysis of a categorical variable with respect to another categorical variable</a></li>
<li class="chapter" data-level="5.9" data-path="tutorial-descriptieve-statistieken.html"><a href="tutorial-descriptieve-statistieken.html#background-material-1"><i class="fa fa-check"></i><b>5.9</b> Background material</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="storytelling-van-data-tot-inzicht.html"><a href="storytelling-van-data-tot-inzicht.html"><i class="fa fa-check"></i><b>6</b> Storytelling - van data tot inzicht</a></li>
<li class="chapter" data-level="7" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html"><i class="fa fa-check"></i><b>7</b> Data voorbereiden</a><ul>
<li class="chapter" data-level="7.1" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#beginnen-bij-het-begin"><i class="fa fa-check"></i><b>7.1</b> Beginnen bij het begin</a></li>
<li class="chapter" data-level="7.2" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#data-inlezen"><i class="fa fa-check"></i><b>7.2</b> Data inlezen</a><ul>
<li class="chapter" data-level="7.2.1" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#uitdagingen-bij-het-correct-inlezen-van-data"><i class="fa fa-check"></i><b>7.2.1</b> Uitdagingen bij het correct inlezen van data</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#dataformaten"><i class="fa fa-check"></i><b>7.2.2</b> Dataformaten</a></li>
<li class="chapter" data-level="7.2.3" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#data-encodering"><i class="fa fa-check"></i><b>7.2.3</b> Data-encodering</a></li>
<li class="chapter" data-level="7.2.4" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#datatypes-controlleren-en-corrigeren"><i class="fa fa-check"></i><b>7.2.4</b> Datatypes controlleren en corrigeren</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#dataproblemen-identificeren-en-corrigeren"><i class="fa fa-check"></i><b>7.3</b> Dataproblemen identificeren en corrigeren</a><ul>
<li class="chapter" data-level="7.3.1" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#overzicht"><i class="fa fa-check"></i><b>7.3.1</b> Overzicht</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#foutieve-waarden"><i class="fa fa-check"></i><b>7.3.2</b> Foutieve waarden</a></li>
<li class="chapter" data-level="7.3.3" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#ontbrekende-waarden"><i class="fa fa-check"></i><b>7.3.3</b> Ontbrekende waarden</a></li>
<li class="chapter" data-level="7.3.4" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#inconsistente-waarden"><i class="fa fa-check"></i><b>7.3.4</b> Inconsistente waarden</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#data-opwaarderen"><i class="fa fa-check"></i><b>7.4</b> Data opwaarderen</a><ul>
<li class="chapter" data-level="7.4.1" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#sampling"><i class="fa fa-check"></i><b>7.4.1</b> Sampling</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-voorbereiden.html"><a href="data-voorbereiden.html#referenties-3"><i class="fa fa-check"></i>Referenties</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html"><i class="fa fa-check"></i><b>8</b> Tutorial - Data voorbereiden</a><ul>
<li class="chapter" data-level="8.1" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#before-you-start-2"><i class="fa fa-check"></i><b>8.1</b> Before you start</a></li>
<li class="chapter" data-level="8.2" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#introduction-2"><i class="fa fa-check"></i><b>8.2</b> Introduction</a></li>
<li class="chapter" data-level="8.3" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#reading-data"><i class="fa fa-check"></i><b>8.3</b> Reading data</a><ul>
<li class="chapter" data-level="8.3.1" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#csv-and-tsv"><i class="fa fa-check"></i><b>8.3.1</b> CSV and TSV</a></li>
<li class="chapter" data-level="8.3.2" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#excel"><i class="fa fa-check"></i><b>8.3.2</b> Excel</a></li>
<li class="chapter" data-level="8.3.3" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#json-and-xml"><i class="fa fa-check"></i><b>8.3.3</b> JSON and XML</a></li>
<li class="chapter" data-level="8.3.4" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#other-statistical-packages"><i class="fa fa-check"></i><b>8.3.4</b> Other statistical packages</a></li>
<li class="chapter" data-level="8.3.5" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#databases"><i class="fa fa-check"></i><b>8.3.5</b> Databases</a></li>
<li class="chapter" data-level="8.3.6" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#background-material-2"><i class="fa fa-check"></i><b>8.3.6</b> Background material</a></li>
<li class="chapter" data-level="8.3.7" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#converting-variables"><i class="fa fa-check"></i><b>8.3.7</b> Converting variables</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#cleaning-data"><i class="fa fa-check"></i><b>8.4</b> Cleaning Data</a><ul>
<li class="chapter" data-level="8.4.1" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#duplicates-removal"><i class="fa fa-check"></i><b>8.4.1</b> Duplicates Removal</a></li>
<li class="chapter" data-level="8.4.2" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#cleaning-categorical-variables"><i class="fa fa-check"></i><b>8.4.2</b> Cleaning Categorical Variables</a></li>
<li class="chapter" data-level="8.4.3" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#recode-categorical-variables"><i class="fa fa-check"></i><b>8.4.3</b> Recode Categorical Variables</a></li>
<li class="chapter" data-level="8.4.4" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#reorder-categorical-variables"><i class="fa fa-check"></i><b>8.4.4</b> Reorder Categorical Variables</a></li>
<li class="chapter" data-level="8.4.5" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#cleaning-continuous-data"><i class="fa fa-check"></i><b>8.4.5</b> Cleaning continuous data</a></li>
<li class="chapter" data-level="8.4.6" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#errors"><i class="fa fa-check"></i><b>8.4.6</b> Errors</a></li>
<li class="chapter" data-level="8.4.7" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#outliers"><i class="fa fa-check"></i><b>8.4.7</b> Outliers</a></li>
<li class="chapter" data-level="8.4.8" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#data-inconsistencies"><i class="fa fa-check"></i><b>8.4.8</b> Data inconsistencies</a></li>
<li class="chapter" data-level="8.4.9" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#missing-values"><i class="fa fa-check"></i><b>8.4.9</b> Missing values</a></li>
<li class="chapter" data-level="8.4.10" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#analyzing-missing-data"><i class="fa fa-check"></i><b>8.4.10</b> Analyzing missing data</a></li>
<li class="chapter" data-level="8.4.11" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#working-around-missing-data"><i class="fa fa-check"></i><b>8.4.11</b> Working around missing data</a></li>
<li class="chapter" data-level="8.4.12" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#visualizations"><i class="fa fa-check"></i><b>8.4.12</b> Visualizations</a></li>
<li class="chapter" data-level="8.4.13" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#numerical-analysis"><i class="fa fa-check"></i><b>8.4.13</b> Numerical analysis</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#transforming-data"><i class="fa fa-check"></i><b>8.5</b> Transforming Data</a><ul>
<li class="chapter" data-level="8.5.1" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#discretization-of-continuous-variables"><i class="fa fa-check"></i><b>8.5.1</b> Discretization of continuous variables</a></li>
<li class="chapter" data-level="8.5.2" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#rescaling-continuous-variables"><i class="fa fa-check"></i><b>8.5.2</b> Rescaling continuous variables</a></li>
<li class="chapter" data-level="8.5.3" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#adding-calculated-variables"><i class="fa fa-check"></i><b>8.5.3</b> Adding calculated variables</a></li>
<li class="chapter" data-level="8.5.4" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#recode-categorical-variables-1"><i class="fa fa-check"></i><b>8.5.4</b> Recode Categorical Variables</a></li>
<li class="chapter" data-level="8.5.5" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#collapsing-factors"><i class="fa fa-check"></i><b>8.5.5</b> Collapsing factors</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#using-transformations-in-visualizations."><i class="fa fa-check"></i><b>8.6</b> Using transformations in visualizations.</a></li>
<li class="chapter" data-level="8.7" data-path="tutorial-data-voorbereiden.html"><a href="tutorial-data-voorbereiden.html#background-material-3"><i class="fa fa-check"></i><b>8.7</b> Background Material</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>9</b> Tidy data</a><ul>
<li class="chapter" data-level="9.1" data-path="tidy-data.html"><a href="tidy-data.html#inleiding"><i class="fa fa-check"></i><b>9.1</b> Inleiding</a></li>
<li class="chapter" data-level="9.2" data-path="tidy-data.html"><a href="tidy-data.html#case-nyc-vluchten-2013"><i class="fa fa-check"></i><b>9.2</b> Case: NYC Vluchten 2013</a><ul>
<li class="chapter" data-level="9.2.1" data-path="tidy-data.html"><a href="tidy-data.html#datasets-samenvoegen"><i class="fa fa-check"></i><b>9.2.1</b> Datasets samenvoegen</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="tidy-data.html"><a href="tidy-data.html#data-in-een-lang-formaat-plaatsen-voor-visuele-analyses"><i class="fa fa-check"></i><b>9.3</b> Data in een lang formaat plaatsen (voor visuele analyses)</a></li>
<li class="chapter" data-level="9.4" data-path="tidy-data.html"><a href="tidy-data.html#data-in-een-breed-formaat-plaatsen-voor-overzichtelijke-tabellen"><i class="fa fa-check"></i><b>9.4</b> Data in een breed formaat plaatsen (voor overzichtelijke tabellen)</a></li>
<li class="chapter" data-level="9.5" data-path="tidy-data.html"><a href="tidy-data.html#referenties-4"><i class="fa fa-check"></i><b>9.5</b> Referenties</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html"><i class="fa fa-check"></i><b>10</b> Tutorial - Tidy data</a><ul>
<li class="chapter" data-level="10.1" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#before-you-start-3"><i class="fa fa-check"></i><b>10.1</b> Before you start</a></li>
<li class="chapter" data-level="" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#disclaimer"><i class="fa fa-check"></i>Disclaimer</a></li>
<li class="chapter" data-level="10.2" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#merging-data"><i class="fa fa-check"></i><b>10.2</b> Merging data</a><ul>
<li class="chapter" data-level="10.2.1" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#joining-data"><i class="fa fa-check"></i><b>10.2.1</b> Joining data</a></li>
<li class="chapter" data-level="10.2.2" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#inner-join"><i class="fa fa-check"></i><b>10.2.2</b> Inner join</a></li>
<li class="chapter" data-level="10.2.3" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#left-join"><i class="fa fa-check"></i><b>10.2.3</b> Left join</a></li>
<li class="chapter" data-level="10.2.4" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#right-join"><i class="fa fa-check"></i><b>10.2.4</b> Right join</a></li>
<li class="chapter" data-level="10.2.5" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#full-join"><i class="fa fa-check"></i><b>10.2.5</b> Full join</a></li>
<li class="chapter" data-level="10.2.6" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#duplicates"><i class="fa fa-check"></i><b>10.2.6</b> Duplicates</a></li>
<li class="chapter" data-level="10.2.7" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#an-example"><i class="fa fa-check"></i><b>10.2.7</b> An example</a></li>
<li class="chapter" data-level="10.2.8" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#binding-data"><i class="fa fa-check"></i><b>10.2.8</b> Binding data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#transforming-data-1"><i class="fa fa-check"></i><b>10.3</b> Transforming data</a><ul>
<li class="chapter" data-level="10.3.1" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#unite-variables"><i class="fa fa-check"></i><b>10.3.1</b> Unite variables</a></li>
<li class="chapter" data-level="10.3.2" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#separate-variables"><i class="fa fa-check"></i><b>10.3.2</b> Separate variables</a></li>
<li class="chapter" data-level="10.3.3" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#spread-data"><i class="fa fa-check"></i><b>10.3.3</b> Spread data</a></li>
<li class="chapter" data-level="10.3.4" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#gather-data"><i class="fa fa-check"></i><b>10.3.4</b> Gather data</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="tutorial-tidy-data.html"><a href="tutorial-tidy-data.html#case-study-who"><i class="fa fa-check"></i><b>10.4</b> [Case study]: WHO</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="tijdsdata.html"><a href="tijdsdata.html"><i class="fa fa-check"></i><b>11</b> Tijdsdata</a><ul>
<li class="chapter" data-level="11.1" data-path="tijdsdata.html"><a href="tijdsdata.html#inleiding-1"><i class="fa fa-check"></i><b>11.1</b> Inleiding</a><ul>
<li class="chapter" data-level="11.1.1" data-path="tijdsdata.html"><a href="tijdsdata.html#tijdstippen-versus-periodes"><i class="fa fa-check"></i><b>11.1.1</b> Tijdstippen versus periodes</a></li>
<li class="chapter" data-level="11.1.2" data-path="tijdsdata.html"><a href="tijdsdata.html#afronden-van-tijdstippen"><i class="fa fa-check"></i><b>11.1.2</b> Afronden van tijdstippen</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="tijdsdata.html"><a href="tijdsdata.html#periode-data"><i class="fa fa-check"></i><b>11.2</b> Periode-data</a><ul>
<li class="chapter" data-level="11.2.1" data-path="tijdsdata.html"><a href="tijdsdata.html#interval-1"><i class="fa fa-check"></i><b>11.2.1</b> Interval</a></li>
<li class="chapter" data-level="11.2.2" data-path="tijdsdata.html"><a href="tijdsdata.html#duration"><i class="fa fa-check"></i><b>11.2.2</b> Duration</a></li>
<li class="chapter" data-level="11.2.3" data-path="tijdsdata.html"><a href="tijdsdata.html#period"><i class="fa fa-check"></i><b>11.2.3</b> Period</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="tijdsdata.html"><a href="tijdsdata.html#analyseren-van-tijdgerelateerde-data"><i class="fa fa-check"></i><b>11.3</b> Analyseren van tijdgerelateerde data</a></li>
<li class="chapter" data-level="11.4" data-path="tijdsdata.html"><a href="tijdsdata.html#referenties-5"><i class="fa fa-check"></i><b>11.4</b> Referenties</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html"><i class="fa fa-check"></i><b>12</b> Tutorial - tijdsdata</a><ul>
<li class="chapter" data-level="12.1" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#before-we-start"><i class="fa fa-check"></i><b>12.1</b> Before we start</a></li>
<li class="chapter" data-level="12.2" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#introduction-3"><i class="fa fa-check"></i><b>12.2</b> Introduction</a></li>
<li class="chapter" data-level="12.3" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#whats-in-a-date"><i class="fa fa-check"></i><b>12.3</b> What’s in a date?</a></li>
<li class="chapter" data-level="12.4" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#theres-always-time"><i class="fa fa-check"></i><b>12.4</b> There’s always time</a></li>
<li class="chapter" data-level="12.5" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#my-time-is-not-your-time"><i class="fa fa-check"></i><b>12.5</b> My time is not your time</a></li>
<li class="chapter" data-level="12.6" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#extract-information-from-dates"><i class="fa fa-check"></i><b>12.6</b> Extract information from dates</a></li>
<li class="chapter" data-level="12.7" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#time-differences"><i class="fa fa-check"></i><b>12.7</b> Time differences</a><ul>
<li class="chapter" data-level="12.7.1" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#period-1"><i class="fa fa-check"></i><b>12.7.1</b> Period</a></li>
<li class="chapter" data-level="12.7.2" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#durations"><i class="fa fa-check"></i><b>12.7.2</b> Durations</a></li>
<li class="chapter" data-level="12.7.3" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#periods-are-not-durations"><i class="fa fa-check"></i><b>12.7.3</b> Periods are not durations</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#arithmetics"><i class="fa fa-check"></i><b>12.8</b> Arithmetics</a></li>
<li class="chapter" data-level="12.9" data-path="tutorial-tijdsdata.html"><a href="tutorial-tijdsdata.html#interval-2"><i class="fa fa-check"></i><b>12.9</b> Interval</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploratieve en Descriptieve Data Analyse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tutorial---descriptieve-statistieken" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Tutorial - Descriptieve statistieken</h1>
<div id="before-you-start-1" class="section level2">
<h2><span class="header-section-number">5.1</span> Before you start</h2>
<p>Before you start this tutorial, make sure to have installed the packages <code>dplyr</code>, <code>tidyr</code>, <code>ggcorrplot</code>, and <code>ggplot2</code>, <strong>if you haven’t already done so</strong>. You can load these using the <code>library</code> function. If you need to install some of them, use <code>install.packages</code> first.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" title="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb51-2" title="2"><span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb51-3" title="3"><span class="kw">library</span>(ggplot2)</a></code></pre></div>
<p>Additionally, you might also want to use the following packages. They will appear useful at some point in this tutorial, but are not strictly necessary.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1"><span class="kw">library</span>(pander)</a>
<a class="sourceLine" id="cb52-2" title="2"><span class="kw">library</span>(forcats)</a></code></pre></div>
<p>This tutorial will use the <code>mpg</code> data set, containing information on 234 different cars. The <code>mpg.RDS</code> file is distributed with this tutorial.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" title="1">mpg &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;mpg.RDS&quot;</span>)</a></code></pre></div>
<p>The data set contains the following variables:<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a></p>
<table>
<colgroup>
<col width="37%" />
<col width="62%" />
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>manufacturer</td>
<td>The manufacturer</td>
</tr>
<tr class="even">
<td>model</td>
<td>The model name</td>
</tr>
<tr class="odd">
<td>displ</td>
<td>Engine displacement, in liters</td>
</tr>
<tr class="even">
<td>year</td>
<td>Year of manufacture</td>
</tr>
<tr class="odd">
<td>cyl</td>
<td>Number of cylinders</td>
</tr>
<tr class="even">
<td>trans</td>
<td>Type of transmission (<em>koppeling</em>)</td>
</tr>
<tr class="odd">
<td>drv</td>
<td>f = front-wheel drive, r = rear wheel drive, 4 = 4wd</td>
</tr>
<tr class="even">
<td>cty</td>
<td>City miles per gallon of fuel</td>
</tr>
<tr class="odd">
<td>hwy</td>
<td>Highway miles per gallon of fuel</td>
</tr>
<tr class="even">
<td>fl</td>
<td>Fuel type (c,d,e,p,r)</td>
</tr>
<tr class="odd">
<td>class</td>
<td>Type of car (2seater, compact, midsize, minivan, pickup, subcompact, suv)</td>
</tr>
</tbody>
</table>
</div>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">5.2</span> Introduction</h2>
<p>The aim of this tutorial is to perform both univariate and bivariate analysis with the <code>dplyr</code> package. Furthermore, the <code>tidyr</code> and <code>ggcorrplot</code> packages will be used in a limited number of cases for extra support.</p>
<p>The univariate analysis will be done for both categorical and continuous variables. The bivariate analysis will be done for each of the following pairs: continuous-categorical, continuous-continuous and categorical-categorical. Next to a <em>numerical</em> analysis using functions from the aforementioned packages, the analyses will be accompanied by appropriate graphs made with <code>ggplot2</code>. A basic understanding of <code>ggplot2</code> is required.</p>
<p>The tutorial is structured as follows:</p>
<ul>
<li>Some general dplyr functions which are helpful</li>
<li>Univariate analysis of a continuous variable</li>
<li>Bivariate analysis of a continuous variable with respect to a categorical variable</li>
<li>Univariate analysis of a categorical variable</li>
<li>Bivariate analysis of a continuous variable with respect to another continuous variable</li>
<li>Bivariate analysis of a categorical variable with respect to another categorical variable</li>
</ul>
</div>
<div id="helpful-dplyr-functions" class="section level2">
<h2><span class="header-section-number">5.3</span> Helpful dplyr functions</h2>
<p>Before turning to analyzing our data set, there are a few helpful auxiliary functions contained in dplyr which we can use to handle and analyze or data. The first one is <code>tbl_df</code>, pronounced as <em>tibble data.frame</em>.</p>
<div id="tibbles" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Tibbles</h3>
<p>Given a data.frame <code>df</code>, <code>tbl_df(df)</code> will turn it into a <em>tibble</em>. A tibble is a special kind of data.frame used by dplyr and other packages of the tidyverse.<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a> When a data.frame is turned into a tibble its class will change.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1"><span class="kw">class</span>(mpg)</a></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" title="1">mpg &lt;-<span class="st"> </span><span class="kw">tbl_df</span>(mpg)</a>
<a class="sourceLine" id="cb56-2" title="2"><span class="kw">class</span>(mpg)</a></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<p>You can see that the <code>mpg</code> object now has three different <code>class</code> labels. It is still a data.frame, but a special kind of data.frame, i.e. a tibble data.frame.</p>
<p>The difference between an ordinary data.frame and a tibble data.frame is most noticeable when printing (large) data.frames. Just try to print the data set with the following two lines in the console.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" title="1"><span class="co">#These lines are not executed here </span></a>
<a class="sourceLine" id="cb58-2" title="2"><span class="co">#you can try them in the console.</span></a>
<a class="sourceLine" id="cb58-3" title="3"><span class="kw">as.data.frame</span>(mpg)</a>
<a class="sourceLine" id="cb58-4" title="4">mpg</a></code></pre></div>
<p>Do you notice the difference? When printing an ordinary data.frame, an abundance of observations will be printed in the console. As a result you’ll have to scroll back up to see the variable names. Even worse, when the columns don’t fit on a single page, each observation will be scattered among different lines, making the output quite unreadable.<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a></p>
<p>However, when printing a tibble data.frame, only the first 10 rows will be printed by default, and variables that don’t fit within the width of the page or console will be hidden. This makes the printed data set much more readable and our console less messed up.</p>
<p>The downside of this approach is that, sometimes, you want to see more observations or more variables, without turning your tibble back into a data.frame. You can solve this by explicitly using the <code>print</code> function and setting the arguments <code>n</code> and <code>width</code>. The following line will print all rows and columns, by setting both arguments to <code>Inf</code>, which stands for infinity.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> You can also use other values to print varying numbers of columns and rows. Later we will see how we can print specific rows and columns.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1"><span class="co">#This line is not executed here - you can try it in the console.</span></a>
<a class="sourceLine" id="cb59-2" title="2"><span class="kw">print</span>(mpg, <span class="dt">n =</span> <span class="ot">Inf</span>, <span class="dt">width =</span> <span class="ot">Inf</span>)</a></code></pre></div>
<p>Except for printing, tibbles allow for some easier manipulations compared the a normal <code>data.frame</code> when you install the package <code>tibble</code>. However, this falls outside of the scope of this tutorial. Furthermore, you will see that the output of <code>dplyr</code> functions discussed in the remainder of this tutorial are automatically tibbles. This means that often you do not explicitly need to use <code>tbl_df</code>. So, for now, it suffices to understand the difference.</p>
</div>
<div id="glimpse" class="section level3">
<h3><span class="header-section-number">5.3.2</span> Glimpse</h3>
<p>A second useful function is the <code>glimpse</code> function. This function is the <code>dplyr</code>-alternative to the well-known <code>str</code> function for base R, and is thus helpful for a first inspection of the data set at hand. It will give a slightly different output compared to <code>str</code>, and is by some perceived as more neat.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" title="1"><span class="kw">str</span>(mpg)</a></code></pre></div>
<pre><code>## Classes &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;:    234 obs. of  11 variables:
##  $ manufacturer: Factor w/ 15 levels &quot;audi&quot;,&quot;chevrolet&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ model       : Factor w/ 38 levels &quot;4runner 4wd&quot;,..: 2 2 2 2 2 2 2 3 3 3 ...
##  $ displ       : num  1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ...
##  $ year        : int  1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ...
##  $ cyl         : Ord.factor w/ 4 levels &quot;4&quot;&lt;&quot;5&quot;&lt;&quot;6&quot;&lt;&quot;8&quot;: 1 1 1 1 3 3 3 1 1 1 ...
##  $ trans       : Factor w/ 10 levels &quot;auto(av)&quot;,&quot;auto(l3)&quot;,..: 4 9 10 1 4 9 1 9 4 10 ...
##  $ drv         : Factor w/ 3 levels &quot;4&quot;,&quot;f&quot;,&quot;r&quot;: 2 2 2 2 2 2 2 1 1 1 ...
##  $ cty         : int  18 21 20 21 16 18 18 18 16 20 ...
##  $ hwy         : int  29 29 31 30 26 26 27 26 25 28 ...
##  $ fl          : Factor w/ 5 levels &quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;p&quot;,..: 4 4 4 4 4 4 4 4 4 4 ...
##  $ class       : Factor w/ 7 levels &quot;2seater&quot;,&quot;compact&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" title="1"><span class="kw">glimpse</span>(mpg)</a></code></pre></div>
<pre><code>## Observations: 234
## Variables: 11
## $ manufacturer &lt;fct&gt; audi, audi, audi, audi, audi, audi, audi, audi, audi, ...
## $ model        &lt;fct&gt; a4, a4, a4, a4, a4, a4, a4, a4 quattro, a4 quattro, a4...
## $ displ        &lt;dbl&gt; 1.8, 1.8, 2.0, 2.0, 2.8, 2.8, 3.1, 1.8, 1.8, 2.0, 2.0,...
## $ year         &lt;int&gt; 1999, 1999, 2008, 2008, 1999, 1999, 2008, 1999, 1999, ...
## $ cyl          &lt;ord&gt; 4, 4, 4, 4, 6, 6, 6, 4, 4, 4, 4, 6, 6, 6, 6, 6, 6, 8, ...
## $ trans        &lt;fct&gt; auto(l5), manual(m5), manual(m6), auto(av), auto(l5), ...
## $ drv          &lt;fct&gt; f, f, f, f, f, f, f, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, ...
## $ cty          &lt;int&gt; 18, 21, 20, 21, 16, 18, 18, 18, 16, 20, 19, 15, 17, 17...
## $ hwy          &lt;int&gt; 29, 29, 31, 30, 26, 26, 27, 26, 25, 28, 27, 25, 25, 25...
## $ fl           &lt;fct&gt; p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, p, ...
## $ class        &lt;fct&gt; compact, compact, compact, compact, compact, compact, ...</code></pre>
</div>
<div id="section" class="section level3">
<h3><span class="header-section-number">5.3.3</span> %&gt;%</h3>
<p>Another helpful function is a very special one, and is called <em>the piping symbol</em>.<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> The piping symbol consist of a greater-than sign, preceded and followed by a %-sign The piping symbol can be used to <em>pipe</em> different statements together. You can compare it with pipes in a waterworks system. Within a water purification station, pipes will transport the water from one treatment station to the next and eventually to the households. Here, we use the piping symbol to bring our data from one manipulation to the next. Consider this very simple example.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" title="1"><span class="co">#This line is not executed here - you can try it in the console.</span></a>
<a class="sourceLine" id="cb64-2" title="2"><span class="kw">head</span>(mpg)</a></code></pre></div>
<p>We can paraphrase this line as: “Take the head (i.e. the first 6 rows) of the data set <code>mpg</code>.”</p>
<p>When we use the piping symbol, the first argument of a function can be placed <em>before</em> the function call instead of inside it. The last line of code is therefore equivalent to the following line.<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" title="1"><span class="co">#This line is not executed here - you can try it in the console.</span></a>
<a class="sourceLine" id="cb65-2" title="2">mpg <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a></code></pre></div>
<p>We can now say: “We take the data set mpg and then take the head of it.” This sentence seems more natural, as it is very easy to extend it with the further steps you are going to take.</p>
<p>As pipes bring water from one place to the next in a waterworks system, the piping symbol brings our data from one place to the next, in this case the head function. At this point, it might seem ridiculous to do this, but as we will see very soon, this symbol comes in very handy.</p>
<p>As another example, the next two hypothetical statements are equivalent</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" title="1"><span class="kw">f</span>(x,y,z)</a>
<a class="sourceLine" id="cb66-2" title="2">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">f</span>(y,z)</a></code></pre></div>
<p>And when we have two functions, say <code>f</code> and <code>g</code> which we called in a nested way, i.e. one within the other, we can do the following.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" title="1"><span class="kw">f</span>(<span class="kw">g</span>(x,y),z)</a>
<a class="sourceLine" id="cb67-2" title="2"><span class="co"># Bring the first argument of f to the front</span></a>
<a class="sourceLine" id="cb67-3" title="3"><span class="kw">g</span>(x,y) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">f</span>(z) </a>
<a class="sourceLine" id="cb67-4" title="4"><span class="co"># Bring the first argument of g to the front</span></a>
<a class="sourceLine" id="cb67-5" title="5">x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">g</span>(y) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">f</span>(z)</a></code></pre></div>
<p>Thus, this command takes x, performs function g with argument y and then the result is given to function f with second argument z. This is much more easy to read than the original line, were we performed function f on the result of function g on x and y, and using z as second argument to f.</p>
<p>However, that’s enough of abstract concepts. It’s time to do something with our data and put this symbol to good use.</p>
</div>
</div>
<div id="univariate-analysis-of-a-continuous-variable" class="section level2">
<h2><span class="header-section-number">5.4</span> Univariate analysis of a continuous variable</h2>
<p>We start with a uniform analysis of continuous variables. Examples of continuous variables are age, distance, speed, weight, etc. For these kind of variables we can measure the centrality and the spread. Measures of centrality are mean, median. Measures of spread are standard deviation, quantiles, min and max, range, interquartile range.</p>
<p>All these measures have one thing in common: they <em>summarise</em> a continuous variable by way of <em>one</em> number, <em>one</em> value. This can be performed using the <code>summarise</code> function of <code>dplyr</code>.<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a></p>
<p>As an example, suppose we want to compute the mean and the standard deviation of the <code>cty</code>.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" title="1"><span class="kw">summarize</span>(mpg, <span class="dt">mean_cty =</span> <span class="kw">mean</span>(cty), <span class="dt">st_dev_cty =</span> <span class="kw">sd</span>(cty))</a></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   mean_cty st_dev_cty
##      &lt;dbl&gt;      &lt;dbl&gt;
## 1     16.9       4.26</code></pre>
<p>The first argument of <code>summarize</code> is the data argument. All the following arguments will become new columns is the resulting tables. <em>mean_cty</em> and <em>st_dev_cty</em> are the names of the new columns. These names can be whatever that you want them to be.<a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a> The parts after the =-sign will become the contents of the columns, i.e. the mean (computed by the <code>mean</code> function) and the standard deviation (computed by the <code>sd</code> function).</p>
<p>We can rewrite the line above by using the %&gt;% symbol. Notice that after this symbol, we used <em>enter</em>, so that summarize begins on a new line, with an indentation. The indentation points to the fact that these lines actually form one statement (i.e. one line cannot be executed without the other).<a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb70-2" title="2"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_cty =</span> <span class="kw">mean</span>(cty), <span class="dt">st_dev_cty =</span> <span class="kw">sd</span>(cty)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-3" title="3"><span class="st">    </span><span class="kw">pander</span>()</a></code></pre></div>
<table style="width:33%;">
<colgroup>
<col width="15%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">mean_cty</th>
<th align="center">st_dev_cty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">16.86</td>
<td align="center">4.256</td>
</tr>
</tbody>
</table>
<p>All functions used within the <code>summarize</code> function should return <em>one</em> and only <em>one</em> value, i.e. the mean, the median, the interquartile range, etc. We call these functions <em>summary functions</em>. An (incomplete) list of summary functions is included here:</p>
<ul>
<li><code>min</code></li>
<li><code>max</code></li>
<li><code>mean</code></li>
<li><code>median</code></li>
<li><code>first</code> (first element of vector)</li>
<li><code>last</code> (last element of vector)</li>
<li><code>n</code> (number of values)<a href="#fn21" class="footnote-ref" id="fnref21"><sup>21</sup></a></li>
<li><code>nth</code> (n-th value of a vector)</li>
<li><code>n_distinct</code> (number of distinct values in a vector)</li>
<li><code>IQR</code> (interquartile range)</li>
<li><code>var</code> (variance)</li>
<li><code>sd</code> (standard deviation)</li>
<li><code>quantile</code></li>
<li><code>sum</code></li>
</ul>
<p>Note that (except <code>n</code>) all these functions can also be used on normal vectors, i.e. not inside the <code>summarize</code> function. The other way round, these are not the only functions that can be used within <code>summarize</code>. In general, all function that return a single value can be used. Moreover, we can also include columns of which we set the value manually. For instance, we can update the last example and include that we used the <code>cty</code> variable as a character column. In this case, we don’t need a summary function, but only a value, e.g. “cty”.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb71-2" title="2"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">variable =</span> <span class="st">&quot;cty&quot;</span>, <span class="dt">mean_cty =</span> <span class="kw">mean</span>(cty), <span class="dt">st_dev_cty =</span> <span class="kw">sd</span>(cty)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb71-3" title="3"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:49%;">
<colgroup>
<col width="15%" />
<col width="15%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">variable</th>
<th align="center">mean_cty</th>
<th align="center">st_dev_cty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">cty</td>
<td align="center">16.86</td>
<td align="center">4.256</td>
</tr>
</tbody>
</table>
<p>Some summary functions need additional arguments, such as the <code>nth</code> function which need a value for n, and possibly specify an ordering. The <code>quantile</code> function needs a <code>probs</code> argument, which stands for probability. For instance, to calculate the first 10% percentile, we set <code>probs = 0.1</code>.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb72-2" title="2"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">variable =</span> <span class="st">&quot;cty&quot;</span>,</a>
<a class="sourceLine" id="cb72-3" title="3">              <span class="dt">q0.2 =</span> <span class="kw">quantile</span>(cty, <span class="fl">0.2</span>),</a>
<a class="sourceLine" id="cb72-4" title="4">              <span class="dt">q0.4 =</span> <span class="kw">quantile</span>(cty, <span class="fl">0.4</span>),</a>
<a class="sourceLine" id="cb72-5" title="5">              <span class="dt">q0.6 =</span> <span class="kw">quantile</span>(cty, <span class="fl">0.6</span>),</a>
<a class="sourceLine" id="cb72-6" title="6">              <span class="dt">q0.8 =</span> <span class="kw">quantile</span>(cty, <span class="fl">0.8</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb72-7" title="7"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:54%;">
<colgroup>
<col width="15%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">variable</th>
<th align="center">q0.2</th>
<th align="center">q0.4</th>
<th align="center">q0.6</th>
<th align="center">q0.8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">cty</td>
<td align="center">13</td>
<td align="center">15</td>
<td align="center">18</td>
<td align="center">20</td>
</tr>
</tbody>
</table>
<p>We can see that 20% of the <em>cty</em> values is less than or equal to 13, and 20% of the <em>cty</em> values is greater than or equal to 20. In the last block of code, we have put each variable on a new line. Rstudio will automatically indent all lines, such that it is clear that they are arguments of the <code>summarize</code> function. The pander function came again on a new line, using the same indentation as <code>summarize</code>.</p>
<p>If we want to support our results with graphical output, we can plot a box plot or histogram using <code>ggplot2</code>. For an introduction to ggplot2, we refer to our ggplot2 tutorial. Below, we have plotted a histogram. We have also added a vertical line to indicate the mean of cty, using <code>geom_vline</code>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb73-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cty)) <span class="op">+</span></a>
<a class="sourceLine" id="cb73-3" title="3"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">1.25</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,<span class="dt">fill =</span> <span class="st">&quot;grey&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb73-4" title="4"><span class="st">    </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="kw">mean</span>(mpg<span class="op">$</span>cty), <span class="dt">lwd =</span> <span class="dv">2</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb73-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of cty&quot;</span>,</a>
<a class="sourceLine" id="cb73-6" title="6">         <span class="dt">x =</span> <span class="st">&quot;cty&quot;</span>,</a>
<a class="sourceLine" id="cb73-7" title="7">         <span class="dt">y =</span> <span class="st">&quot;Number of cars&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb73-8" title="8"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb73-9" title="9"><span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="fl">7.5</span>,<span class="dv">35</span>,<span class="fl">2.5</span>))</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-95-1.png" width="100%" /></p>
<p>With the summarize function we can perform a univariate analysis of the spread and centrality of any continuous variable. Great! Now, it is time to go one step further and start with bivariate analysis of continuous variables in combination with categorical variables.</p>
</div>
<div id="bivariate-analysis-of-a-continuous-variable-with-respect-to-a-categorical-variable" class="section level2">
<h2><span class="header-section-number">5.5</span> Bivariate analysis of a continuous variable with respect to a categorical variable</h2>
<p>Before we start our calculations, let’s continue in a graphical way. Before, we have analyzed the distribution of cty, as shown with the histogram above. Now we want to analyse it for different types of drivings (e.g. 4-wheel drive, front wheel drive or rear wheel drive), as recorded by the variable <code>drv</code>. Graphically, we can plot different histograms for each of these three categories using facets.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb74-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cty)) <span class="op">+</span></a>
<a class="sourceLine" id="cb74-3" title="3"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">1.25</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,<span class="dt">fill =</span> <span class="st">&quot;grey&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb74-4" title="4"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of cty relative to drv&quot;</span>,</a>
<a class="sourceLine" id="cb74-5" title="5">         <span class="dt">x =</span> <span class="st">&quot;cty&quot;</span>,</a>
<a class="sourceLine" id="cb74-6" title="6">         <span class="dt">y =</span> <span class="st">&quot;Number of cars&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb74-7" title="7"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb74-8" title="8"><span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="fl">7.5</span>,<span class="dv">35</span>,<span class="fl">2.5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb74-9" title="9"><span class="st">    </span><span class="kw">facet_grid</span>(drv<span class="op">~</span>.)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-96-1.png" width="100%" /></p>
<p>Clearly, there are some differences among these categories. Let’s try to put these into numbers. What we effectively want to do is calculate the centrality and spread for each of these categories, i.e. for each <em>group</em> of cars. We therefore introduce a new dplyr-function called <code>group_by</code>. The first argument of this function is needed for the data, all other arguments (which should normally be categorical) will be used the group the data.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" title="1"><span class="kw">group_by</span>(mpg, drv)</a></code></pre></div>
<pre><code>## # A tibble: 234 x 11
## # Groups:   drv [3]
##    manufacturer model    displ  year cyl   trans   drv     cty   hwy fl    class
##    &lt;fct&gt;        &lt;fct&gt;    &lt;dbl&gt; &lt;int&gt; &lt;ord&gt; &lt;fct&gt;   &lt;fct&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;
##  1 audi         a4         1.8  1999 4     auto(l~ f        18    29 p     comp~
##  2 audi         a4         1.8  1999 4     manual~ f        21    29 p     comp~
##  3 audi         a4         2    2008 4     manual~ f        20    31 p     comp~
##  4 audi         a4         2    2008 4     auto(a~ f        21    30 p     comp~
##  5 audi         a4         2.8  1999 6     auto(l~ f        16    26 p     comp~
##  6 audi         a4         2.8  1999 6     manual~ f        18    26 p     comp~
##  7 audi         a4         3.1  2008 6     auto(a~ f        18    27 p     comp~
##  8 audi         a4 quat~   1.8  1999 4     manual~ 4        18    26 p     comp~
##  9 audi         a4 quat~   1.8  1999 4     auto(l~ 4        16    25 p     comp~
## 10 audi         a4 quat~   2    2008 4     manual~ 4        20    28 p     comp~
## # ... with 224 more rows</code></pre>
<p>The output of this line just returns us a tibble, with no remarkable modifications. But don’t be fooled, because there are! On the second line printed we read “Groups: drv [3]”. Thus, this tibble is grouped on the variable <em>drv</em>, and there are three different groups. Just for the sake of example, let us also add <em>trans</em> as a group.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" title="1"><span class="kw">group_by</span>(mpg, drv, trans)</a></code></pre></div>
<pre><code>## # A tibble: 234 x 11
## # Groups:   drv, trans [24]
##    manufacturer model    displ  year cyl   trans   drv     cty   hwy fl    class
##    &lt;fct&gt;        &lt;fct&gt;    &lt;dbl&gt; &lt;int&gt; &lt;ord&gt; &lt;fct&gt;   &lt;fct&gt; &lt;int&gt; &lt;int&gt; &lt;fct&gt; &lt;fct&gt;
##  1 audi         a4         1.8  1999 4     auto(l~ f        18    29 p     comp~
##  2 audi         a4         1.8  1999 4     manual~ f        21    29 p     comp~
##  3 audi         a4         2    2008 4     manual~ f        20    31 p     comp~
##  4 audi         a4         2    2008 4     auto(a~ f        21    30 p     comp~
##  5 audi         a4         2.8  1999 6     auto(l~ f        16    26 p     comp~
##  6 audi         a4         2.8  1999 6     manual~ f        18    26 p     comp~
##  7 audi         a4         3.1  2008 6     auto(a~ f        18    27 p     comp~
##  8 audi         a4 quat~   1.8  1999 4     manual~ 4        18    26 p     comp~
##  9 audi         a4 quat~   1.8  1999 4     auto(l~ 4        16    25 p     comp~
## 10 audi         a4 quat~   2    2008 4     manual~ 4        20    28 p     comp~
## # ... with 224 more rows</code></pre>
<p>We can just put <em>trans</em> after <em>drv</em> in the <code>group_by</code> function. Now, we can see that the tibble is grouped on these two variables, and there are 24 different groups<a href="#fn22" class="footnote-ref" id="fnref22"><sup>22</sup></a>. We can also check the grouping of data.frame by using the <code>groups</code> function. This saves us from printing the entire data to check the grouping. Note that below, we again use the piping symbol effectively.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb79-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(drv, trans) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb79-3" title="3"><span class="st">    </span><span class="kw">groups</span>()</a></code></pre></div>
<pre><code>## [[1]]
## drv
## 
## [[2]]
## trans</code></pre>
<p>Ok, but wait a minute. If nothing else changes, why are we doing this? Once a data.frame is grouped, the next operations will be performed for each group separately. Isn’t that just what we needed? Indeed. For each <em>drv</em> group, we wanted to compute the centrality and spread. Let’s give it a try.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb81-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(drv) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb81-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_cty =</span> <span class="kw">mean</span>(cty), <span class="dt">sd_cty =</span> <span class="kw">sd</span>(cty)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb81-4" title="4"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:39%;">
<colgroup>
<col width="8%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">drv</th>
<th align="center">mean_cty</th>
<th align="center">sd_cty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">14.33</td>
<td align="center">2.874</td>
</tr>
<tr class="even">
<td align="center">f</td>
<td align="center">19.97</td>
<td align="center">3.627</td>
</tr>
<tr class="odd">
<td align="center">r</td>
<td align="center">14.08</td>
<td align="center">2.216</td>
</tr>
</tbody>
</table>
<p>Great! Calling summarize will no longer give us 1 row of values. Instead, it will return 1 row for each group. We can see that the mean cty is much larger for cars with a front wheel drive than for other cars, as was already suspected based on the histogram. Another way of visualizing this, without using facets, is to use box plots.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb82-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(drv,cty)) <span class="op">+</span></a>
<a class="sourceLine" id="cb82-3" title="3"><span class="st">    </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb82-4" title="4"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribution of cty relative to drv&quot;</span>,</a>
<a class="sourceLine" id="cb82-5" title="5">         <span class="dt">x =</span> <span class="st">&quot;drv&quot;</span>,</a>
<a class="sourceLine" id="cb82-6" title="6">         <span class="dt">y =</span> <span class="st">&quot;cty&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb82-7" title="7"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb82-8" title="8"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="fl">7.5</span>,<span class="dv">35</span>,<span class="fl">2.5</span>)) </a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-101-1.png" width="100%" /></p>
<p>We can now analyse the centrality and spread of a continuous variable, both univariately and bivariately with respect to a categorical variable. To do this, we have learned to use two new functions: <code>summarize</code> and <code>group_by</code>. Summarizing an ungrouped data.frame will return a data.frame with 1 row. Summarizing a grouped data.frame will return a data.frame where the number of rows is equal to the number of groups.</p>
<p>The next thing on our list is the univariate analysis of a categorical variable. For this, we will compute frequency tables and learn yet some additional new exciting functions: <code>mutate</code>, <code>arrange</code> and <code>slice</code>. Let’s get on with it!</p>
</div>
<div id="univariate-analysis-of-a-categorical-variable" class="section level2">
<h2><span class="header-section-number">5.6</span> Univariate analysis of a categorical variable</h2>
<p>In our data, there are 15 manufacturers. Assume we want to know more about these, i.e. which manufacturer has a lot of cars in our data, and which one has less. Graphically, we can already do this using a bar chart.<a href="#fn23" class="footnote-ref" id="fnref23"><sup>23</sup></a></p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb83-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb83-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="kw">fct_infreq</span>(manufacturer)), <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>,<span class="dt">fill =</span> <span class="st">&quot;grey&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb83-4" title="4"><span class="st">    </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb83-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Number of cars per manufacturer&quot;</span>,</a>
<a class="sourceLine" id="cb83-6" title="6">         <span class="dt">x =</span> <span class="st">&quot;Manufacturer&quot;</span>,</a>
<a class="sourceLine" id="cb83-7" title="7">         <span class="dt">y =</span> <span class="st">&quot;Number of cars&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb83-8" title="8"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">40</span>,<span class="dv">5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb83-9" title="9"><span class="st">    </span><span class="kw">theme_minimal</span>() </a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-102-1.png" width="100%" /></p>
<p>Now, we want to analyze this numerically. The most obvious way to do this is with a frequency table. Below, we see the end product of this analysis. Subsequently, we will start constructing it step by step.</p>
<table>
<colgroup>
<col width="5%" />
<col width="17%" />
<col width="14%" />
<col width="23%" />
<col width="38%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">nr</th>
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_freqency</th>
<th align="center">cumulative_relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
<tr class="odd">
<td align="center">11</td>
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
</tr>
<tr class="even">
<td align="center">12</td>
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
</tr>
<tr class="odd">
<td align="center">13</td>
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
</tr>
<tr class="even">
<td align="center">14</td>
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
</tr>
<tr class="odd">
<td align="center">15</td>
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<p>Let’s start. The first thing to do is to count the number of observations for each value of the categorical variable. Thus, how many cars are there for each manufacturer? We can do this by grouping the data on <em>manufacturer</em> and then counting the number of rows using <code>n</code>.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb84-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb84-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb84-4" title="4"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:38%;">
<colgroup>
<col width="20%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">audi</td>
<td align="center">18</td>
</tr>
<tr class="even">
<td align="center">chevrolet</td>
<td align="center">19</td>
</tr>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
</tr>
<tr class="odd">
<td align="center">honda</td>
<td align="center">9</td>
</tr>
<tr class="even">
<td align="center">hyundai</td>
<td align="center">14</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">land rover</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">subaru</td>
<td align="center">14</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
</tr>
</tbody>
</table>
<p>The function <code>n()</code> does not require any argument. It will just calculate the number of rows there are in a data.frame, or, as in this case, in each group. The next step is to order these manufacturers according to the number of cars. In order to <em>arrange</em> rows, we use the function <code>arrange</code> from <code>dplyr</code>. Since we want to arrange the manufacturers by decreasing frequency, we use the function <code>desc</code> (descending). In particular, the following will do the trick:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb85-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb85-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb85-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb85-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:38%;">
<colgroup>
<col width="20%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
</tr>
</tbody>
</table>
<p>The first argument of <code>arrange</code> is again the data, which is given to it using the piping symbol. The other arguments will then be used to order the data. Note that more than one variable can be specified. The data will then by arranged firstly using the first variable. Subsequently, the next variables will be used to break ties. When <code>desc</code> is placed around a variable name, this variable will be arranged decreasingly. Just try out some different orderings yourself!</p>
<p>Now, we need to add a new column for the relative frequencies. To do this we use the function <code>mutate</code> from <code>dplyr</code>, which literally means <em>to change</em>. The <code>mutate</code> function call is similar to that of <code>summarize</code>: the first argument is the data, the others are of the form <code>variable_name = value</code>. The variable name is the name that will appear as name of the new column. The value is the value for the new column. This can either be function which returns a vector with a length equal to that of the data.frame, or it can be a simple computation using other variables in the data.frame. The following statement will compute the relative frequencies, by dividing each frequency, with the sum of all frequencies.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb86-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb86-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb86-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb86-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb86-6" title="6"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:67%;">
<colgroup>
<col width="20%" />
<col width="16%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">0.1581</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">0.1453</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">0.1154</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">0.1068</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">0.0812</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">0.07692</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">0.05983</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">0.05983</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">0.05556</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">0.03846</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">0.03419</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">0.02137</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">0.01709</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">0.01709</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">0.01282</td>
</tr>
</tbody>
</table>
<p>Here, <code>sum(frequency)</code> refers to the sum of the frequency column, while <code>frequency</code> refers to the specific values in each row. Next, we will add the cumulative relative frequency. We can add this to the same <code>mutate</code> call.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb87-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb87-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb87-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb87-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb87-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb87-7" title="7"><span class="st">    </span>pander</a></code></pre></div>
<table>
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="26%" />
<col width="40%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">0.1581</td>
<td align="center">0.1581</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">0.1453</td>
<td align="center">0.3034</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">0.1154</td>
<td align="center">0.4188</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">0.1068</td>
<td align="center">0.5256</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">0.0812</td>
<td align="center">0.6068</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">0.07692</td>
<td align="center">0.6838</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">0.05983</td>
<td align="center">0.7436</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">0.05983</td>
<td align="center">0.8034</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">0.05556</td>
<td align="center">0.859</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">0.03846</td>
<td align="center">0.8974</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">0.03419</td>
<td align="center">0.9316</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">0.02137</td>
<td align="center">0.953</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">0.01709</td>
<td align="center">0.9701</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">0.01709</td>
<td align="center">0.9872</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">0.01282</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>While the computation of relative frequency was a simple formula, the cumulative frequency is computed using the <code>cumsum</code>. This is what is called a <em>window function</em>. While summary functions always return one value, window functions return the same number of values as the vector used as input. Thus, our 15 relative frequencies will result in 15 cumulative frequencies. Other window functions are list below.</p>
<p><strong>Cumulative functions</strong></p>
<ul>
<li>cumsum: The cumulative sum of a vector</li>
<li>cummax: The cumulative maximum of a vector</li>
<li>cummin: The cumulative minimum of a vector</li>
<li>cumprod: The cumulative product of a vector</li>
<li>cummean: A cumulative, or rolling, mean</li>
<li>cumany: For logical values, a cumulative “or”</li>
<li>cumall: For logical values, a cumulative “and”</li>
<li>cume_dist: Cumulative distribution</li>
</ul>
<p><strong>Element-wise function of more than one variable</strong></p>
<ul>
<li>pmax: Element/pair-wise maximum of a vector</li>
<li>pmin: Element/pair-wise minimum of a vector</li>
</ul>
<p><strong>Ranking function</strong></p>
<ul>
<li>percent_rank: ranks rescaled to [0,1]</li>
<li>row_number: Rank which breaks ties by taking elements by first occurrence (mostly alphabetically)</li>
<li>min_rank: Rank which breaks ties by giving them the same rank and omitting the next rank</li>
<li>dense_rank: Same as min_rank, but without omission</li>
</ul>
<p><strong>Shifting functions</strong></p>
<ul>
<li>lead(n): shift values n places to the front, add n NA’s as last values</li>
<li>lag(n): shift values n places to the back, add n NA’s as first values</li>
</ul>
<p><strong>Other</strong></p>
<ul>
<li>between(a,b): Lie the values of a vector between a and b? Returns logical</li>
<li>ntile(x,n): Use variable x to arrange the observations and put them in n equally sized groups.</li>
</ul>
<p>That’s a long list, and not all of them are important. You will use some of them alot (like cumsum), and others only in rare instances. In case of need, come back to this list.</p>
<p>The <code>pmin</code> function returns the pairwise minimum of x and y, while the <code>pmax</code> function will return the pairwise maximum of x and y. Although the p in these functions points to <em>pair</em> it can be used on more than two vectors.</p>
<p>Percent rank will assign a value with between 0 and 1. The smallest value will get zero and the highest value will be one (when there are no ties). But, when two observations are equal, they get the same value, and there will be a <em>gap</em> between subsequent values. Row number will break ties randomly. As such, the highest value will always be equal to the number of observations. Minimum rank assigns the minimum rank equally among ties, and also includes <em>gaps</em>, like percent rank. Finally, dense rank will also assign ties the same rank, but will not allow gaps in the ranking.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" title="1"><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb88-2" title="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">lead =</span> <span class="kw">lead</span>(x),</a>
<a class="sourceLine" id="cb88-3" title="3">           <span class="dt">lag =</span> <span class="kw">lag</span>(x,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb88-4" title="4">           <span class="kw">between</span>(x,<span class="dv">4</span>,<span class="dv">8</span>),</a>
<a class="sourceLine" id="cb88-5" title="5">           <span class="kw">ntile</span>(x,<span class="dv">5</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb88-6" title="6"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:71%;">
<colgroup>
<col width="6%" />
<col width="9%" />
<col width="8%" />
<col width="26%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">x</th>
<th align="center">lead</th>
<th align="center">lag</th>
<th align="center">between(x, 4, 8)</th>
<th align="center">ntile(x, 5)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">8</td>
<td align="center">NA</td>
<td align="center">FALSE</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">2</td>
<td align="center">NA</td>
<td align="center">TRUE</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">2</td>
<td align="center">9</td>
<td align="center">1</td>
<td align="center">FALSE</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">9</td>
<td align="center">3</td>
<td align="center">8</td>
<td align="center">FALSE</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">7</td>
<td align="center">2</td>
<td align="center">FALSE</td>
<td align="center">2</td>
</tr>
<tr class="even">
<td align="center">7</td>
<td align="center">4</td>
<td align="center">9</td>
<td align="center">TRUE</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">10</td>
<td align="center">3</td>
<td align="center">TRUE</td>
<td align="center">2</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">6</td>
<td align="center">7</td>
<td align="center">FALSE</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">5</td>
<td align="center">4</td>
<td align="center">TRUE</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">NA</td>
<td align="center">10</td>
<td align="center">TRUE</td>
<td align="center">3</td>
</tr>
</tbody>
</table>
<p>An example of the last window functions is show above. The lead and lag functions shift values up and down. By default, they are shifted with one place. The between function tests whether values are between certain bound (including the boundary values). Finally, the ntile function will create a variable that groups observations in equal bins, in this case 5, according to a specific variable. Thus, values 1 and 2 of x are grouped in bin 1, values 3 and 4 in bin 2, etc. Note that, although the ntile function returns numbers, it is actually a categorical variable!</p>
<p>They may not all seen very obvious, but sometimes these window function can come in quite powerful and handy during an analysis. Make sure to remember their existence. But, let’s get back to our frequency table now, as we have gotten a little bit of the beaten track. Below, we show again our last result.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb89-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb89-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb89-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb89-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb89-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb89-7" title="7"><span class="st">    </span>pander</a></code></pre></div>
<table>
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="26%" />
<col width="40%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">0.1581</td>
<td align="center">0.1581</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">0.1453</td>
<td align="center">0.3034</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">0.1154</td>
<td align="center">0.4188</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">0.1068</td>
<td align="center">0.5256</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">0.0812</td>
<td align="center">0.6068</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">0.07692</td>
<td align="center">0.6838</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">0.05983</td>
<td align="center">0.7436</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">0.05983</td>
<td align="center">0.8034</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">0.05556</td>
<td align="center">0.859</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">0.03846</td>
<td align="center">0.8974</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">0.03419</td>
<td align="center">0.9316</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">0.02137</td>
<td align="center">0.953</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">0.01709</td>
<td align="center">0.9701</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">0.01709</td>
<td align="center">0.9872</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">0.01282</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>We were quite finished, it seems, but we can still improve the table. One way to do so is to turn the relative (cumulative) frequencies into values between 0 and 100, and to round them to 2 decimals. That last thing can be done using the function <code>round</code> and specifying the number of decimals.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb90-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb90-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb90-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb90-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb90-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb90-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb90-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb90-9" title="9"><span class="st">    </span>pander</a></code></pre></div>
<table>
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="26%" />
<col width="40%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<p>What’s important to note here is that we have put 4 different statements in mutate. In these statements, it is possible to use variables created before <strong>within the same mutate call</strong>: the second statement uses the variable in the first. Also, it is possible to overwrite variables, i.e. statement 3 and 4 overwrite the variables created in statement 1 and 2.</p>
<p>You might wonder why we use 4 statements instead of 2, and why didn’t we round immediately? We could have done that for the cumulative frequency, but not for the relative frequency. Can you figure out why?</p>
<p>Finally, we may want to add a ranking, i.e. a row number, to the frequency table. Here, we use the <code>row_number</code> function introduced above.</p>
<p>Before we used <code>desc</code> to arrange decreasingly in <code>arrange</code>, and now we use the minus sign to allocate the row numbers according to decreasing frequency. Is <code>dplyr</code> really this inconsistent? Fortunately, the answer is no. Using the minus is a little trick to shorten your code, but can only be used for numerical variables. This is, because sorting a numerical variable decreasingly, is the same as sorting its negative mirror increasingly (Convince yourself!). As such, we could also have used the minus sign within arrange, and we could have used <code>desc</code> within row_number. <strong>But</strong>, never use the minus sign to sort categorical values (they don’t have a negative counter part, typically). It is best practice to be consistent in using - or <code>desc</code>, but as this is a tutorial, we show you different ways to do it.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb91-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb91-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb91-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb91-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb91-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb91-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb91-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb91-9" title="9">           <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb91-10" title="10"><span class="st">    </span><span class="kw">pander</span>(<span class="dt">split.table =</span> <span class="dv">120</span>)</a></code></pre></div>
<table>
<colgroup>
<col width="17%" />
<col width="14%" />
<col width="24%" />
<col width="37%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
<th align="center">nr</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
<td align="center">4</td>
</tr>
<tr class="odd">
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
<td align="center">6</td>
</tr>
<tr class="odd">
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
<td align="center">7</td>
</tr>
<tr class="even">
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
<td align="center">8</td>
</tr>
<tr class="odd">
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
<td align="center">9</td>
</tr>
<tr class="even">
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
<td align="center">10</td>
</tr>
<tr class="odd">
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
<td align="center">11</td>
</tr>
<tr class="even">
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
<td align="center">12</td>
</tr>
<tr class="odd">
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
<td align="center">13</td>
</tr>
<tr class="even">
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
<td align="center">14</td>
</tr>
<tr class="odd">
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
<td align="center">15</td>
</tr>
</tbody>
</table>
<p>Mutate has added the number at the end of the table.<a href="#fn24" class="footnote-ref" id="fnref24"><sup>24</sup></a> That’s what we want in most of the cases, but not in this one. To change the order of the variables, we can use the <code>select</code> function from <code>dplyr</code>. This function can be used to <em>select</em> variables, and will place them in the specified order. Thus, what we can do is the following.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb92-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb92-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb92-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb92-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb92-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb92-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb92-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb92-9" title="9">           <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb92-10" title="10"><span class="st">    </span><span class="kw">select</span>(nr, manufacturer, frequency, relative_frequency, relative_cumulative_frequency) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb92-11" title="11"><span class="st">    </span><span class="kw">pander</span>(<span class="dt">split.table =</span> <span class="dv">120</span>)</a></code></pre></div>
<table>
<colgroup>
<col width="5%" />
<col width="17%" />
<col width="14%" />
<col width="24%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">nr</th>
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
<tr class="odd">
<td align="center">11</td>
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
</tr>
<tr class="even">
<td align="center">12</td>
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
</tr>
<tr class="odd">
<td align="center">13</td>
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
</tr>
<tr class="even">
<td align="center">14</td>
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
</tr>
<tr class="odd">
<td align="center">15</td>
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<p>Using the <code>select</code> statement does the trick. But I am still kind of lazy, and I don’t want to write out all the variables, just to put one in the first position. We had only 5 variables here, but imagine what a waste of time it would be when we had more, like 6 for instance. Can’t we just say, put <em>nr</em> in the front, and then add all the other variables in their original order? Dplyr to the rescue!</p>
<p>Fortunately we can. We can just add the function <code>everything</code> to select. This will add all the columns after <em>nr</em>, without repeating <em>nr</em> for a second time. Great, isn’t it?</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb93-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb93-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb93-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb93-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb93-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb93-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb93-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb93-9" title="9">           <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb93-10" title="10"><span class="st">    </span><span class="kw">select</span>(nr, <span class="kw">everything</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb93-11" title="11"><span class="st">    </span><span class="kw">pander</span>(<span class="dt">split.table =</span> <span class="dv">120</span>)</a></code></pre></div>
<table>
<colgroup>
<col width="5%" />
<col width="17%" />
<col width="14%" />
<col width="24%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">nr</th>
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
<tr class="odd">
<td align="center">11</td>
<td align="center">jeep</td>
<td align="center">8</td>
<td align="center">3.42</td>
<td align="center">93.16</td>
</tr>
<tr class="even">
<td align="center">12</td>
<td align="center">pontiac</td>
<td align="center">5</td>
<td align="center">2.14</td>
<td align="center">95.3</td>
</tr>
<tr class="odd">
<td align="center">13</td>
<td align="center">land rover</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">97.01</td>
</tr>
<tr class="even">
<td align="center">14</td>
<td align="center">mercury</td>
<td align="center">4</td>
<td align="center">1.71</td>
<td align="center">98.72</td>
</tr>
<tr class="odd">
<td align="center">15</td>
<td align="center">lincoln</td>
<td align="center">3</td>
<td align="center">1.28</td>
<td align="center">100</td>
</tr>
</tbody>
</table>
<p>Select, arrange, mutate, summarize, group_by. We are really mastering dplyr already. Not so difficult after all, isn’t it? Of course there are still other functions, but these 5 are really some of most important functions for data manipulation. Only <code>filter</code> misses in the dplyr hall of fame, but we leave that one for another time. It is always a good idea to have something to look forward to, don’t you agree?</p>
<p>Before we continue with bivariate analysis, there are two more things we should do. Look at the <code>slice</code> function, and evaluate our piping symbol.</p>
<p>The <code>slice</code> function can be used to <code>slice</code> rows from a data.frame. Suppose we have a very long frequency table, and we are only interested in the top 10 values. We can then slice the first 10 rows of this table as follows.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-4" title="4"><span class="st">    </span><span class="kw">arrange</span>(<span class="kw">desc</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb94-6" title="6">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb94-7" title="7">           <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb94-8" title="8">           <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb94-9" title="9">           <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-10" title="10"><span class="st">    </span><span class="kw">select</span>(nr, <span class="kw">everything</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-11" title="11"><span class="st">    </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-12" title="12"><span class="st">    </span><span class="kw">pander</span>(<span class="dt">split.table =</span> <span class="dv">120</span>)</a></code></pre></div>
<table>
<colgroup>
<col width="5%" />
<col width="17%" />
<col width="14%" />
<col width="24%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">nr</th>
<th align="center">manufacturer</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
<th align="center">relative_cumulative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">dodge</td>
<td align="center">37</td>
<td align="center">15.81</td>
<td align="center">15.81</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">toyota</td>
<td align="center">34</td>
<td align="center">14.53</td>
<td align="center">30.34</td>
</tr>
<tr class="odd">
<td align="center">3</td>
<td align="center">volkswagen</td>
<td align="center">27</td>
<td align="center">11.54</td>
<td align="center">41.88</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">ford</td>
<td align="center">25</td>
<td align="center">10.68</td>
<td align="center">52.56</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">chevrolet</td>
<td align="center">19</td>
<td align="center">8.12</td>
<td align="center">60.68</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">audi</td>
<td align="center">18</td>
<td align="center">7.69</td>
<td align="center">68.38</td>
</tr>
<tr class="odd">
<td align="center">7</td>
<td align="center">hyundai</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">74.36</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subaru</td>
<td align="center">14</td>
<td align="center">5.98</td>
<td align="center">80.34</td>
</tr>
<tr class="odd">
<td align="center">9</td>
<td align="center">nissan</td>
<td align="center">13</td>
<td align="center">5.56</td>
<td align="center">85.9</td>
</tr>
<tr class="even">
<td align="center">10</td>
<td align="center">honda</td>
<td align="center">9</td>
<td align="center">3.85</td>
<td align="center">89.74</td>
</tr>
</tbody>
</table>
<p>That’s slicing. Nothing more, nothing less. We have build up some <em>large</em> block of code, but our piping symbol neatly strings it together, doesn’t it? Imagine for a moment that we didn’t had this symbol. In such a case, we should put each first argument again in the function it is followed by. Thus, mpg should go inside group by. The group_by should go inside summarize, etc. The result would be the following.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" title="1"><span class="kw">pander</span>(</a>
<a class="sourceLine" id="cb95-2" title="2">    <span class="kw">slice</span>(</a>
<a class="sourceLine" id="cb95-3" title="3">        <span class="kw">select</span>(</a>
<a class="sourceLine" id="cb95-4" title="4">            <span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb95-5" title="5">                <span class="kw">arrange</span>(</a>
<a class="sourceLine" id="cb95-6" title="6">                    <span class="kw">summarize</span>(</a>
<a class="sourceLine" id="cb95-7" title="7">                        <span class="kw">group_by</span>(mpg, </a>
<a class="sourceLine" id="cb95-8" title="8">                                 manufacturer), </a>
<a class="sourceLine" id="cb95-9" title="9">                        <span class="dt">frequency =</span> <span class="kw">n</span>()), </a>
<a class="sourceLine" id="cb95-10" title="10">                    <span class="kw">desc</span>(frequency)),</a>
<a class="sourceLine" id="cb95-11" title="11">                <span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency),</a>
<a class="sourceLine" id="cb95-12" title="12">                <span class="dt">relative_cumulative_frequency =</span> <span class="kw">cumsum</span>(relative_frequency),</a>
<a class="sourceLine" id="cb95-13" title="13">                <span class="dt">relative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb95-14" title="14">                <span class="dt">relative_cumulative_frequency =</span> <span class="kw">round</span>(<span class="dv">100</span><span class="op">*</span>relative_cumulative_frequency,<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb95-15" title="15">                <span class="dt">nr =</span> <span class="kw">row_number</span>(<span class="op">-</span>frequency)), </a>
<a class="sourceLine" id="cb95-16" title="16">            nr, </a>
<a class="sourceLine" id="cb95-17" title="17">            <span class="kw">everything</span>()), </a>
<a class="sourceLine" id="cb95-18" title="18">        <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb95-19" title="19">    )</a></code></pre></div>
<p>That’s quite a mess, isn’t it? All functions got separated from their arguments, and we cannot really make out what we were doing at all. Surely, the piping symbol does a great job at making our code readable and understandable. Make sure to use it wisely!</p>
<p>Now we continue with the bivariate analysis of two continuous variables.</p>
</div>
<div id="bivariate-analysis-of-a-continuous-variable-with-respect-to-another-continuous-variable" class="section level2">
<h2><span class="header-section-number">5.7</span> Bivariate analysis of a continuous variable with respect to another continuous variable</h2>
<p>The relationship between two continuous variables can be easily shown graphically with a scatter plot. Let’s look at <em>cty</em> compared with <em>hwy</em>.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb96-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cty, hwy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb96-3" title="3"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb96-4" title="4"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb96-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relationship between hwy and cty&quot;</span>)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-116-1.png" width="100%" /></p>
<p>There is a very clear relation between these variables, and it appears to be quite linear. Let’s draw a linear line through the scatter plot.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb97-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cty, hwy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb97-3" title="3"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb97-4" title="4"><span class="st">    </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb97-5" title="5"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relationship between hwy and cty&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb97-6" title="6"><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> F)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-117-1.png" width="100%" /></p>
<p>A linear relationship as this can be very effectively measured with the correlation coefficient. Computing correlations can be done with the base R function <code>cor</code>. However, this function expects a data.frame with only continuous variables, as it will compute all possible correlations between these. Correlations cannot be computed between categorical variables (except for ordinal ones). Thus, first, we select the continuous variables using the <code>select</code> function from <code>dplyr</code>. The variables we are interested in are <em>displ, year, cty</em> and <em>hwy</em>.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb98-2" title="2"><span class="st">    </span><span class="kw">select</span>(displ, year, cty, hwy) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb98-3" title="3"><span class="st">    </span>cor <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb98-4" title="4"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:76%;">
<colgroup>
<col width="16%" />
<col width="13%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">displ</th>
<th align="center">year</th>
<th align="center">cty</th>
<th align="center">hwy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>displ</strong></td>
<td align="center">1</td>
<td align="center">0.1478</td>
<td align="center">-0.7985</td>
<td align="center">-0.766</td>
</tr>
<tr class="even">
<td align="center"><strong>year</strong></td>
<td align="center">0.1478</td>
<td align="center">1</td>
<td align="center">-0.03723</td>
<td align="center">0.002158</td>
</tr>
<tr class="odd">
<td align="center"><strong>cty</strong></td>
<td align="center">-0.7985</td>
<td align="center">-0.03723</td>
<td align="center">1</td>
<td align="center">0.9559</td>
</tr>
<tr class="even">
<td align="center"><strong>hwy</strong></td>
<td align="center">-0.766</td>
<td align="center">0.002158</td>
<td align="center">0.9559</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>The <code>select</code> call might become large when selecting numeric variables in a large data set. We can rewrite it using the <code>select_if</code> function, which doesn’t expect variable names, but it requires a function to test whether a variable should be included. We can use the <code>is.numeric</code> function to test whether a vector is numeric. Thus,<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a></p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb99-2" title="2"><span class="st">    </span>cor <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb99-3" title="3"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:76%;">
<colgroup>
<col width="16%" />
<col width="13%" />
<col width="15%" />
<col width="15%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">displ</th>
<th align="center">year</th>
<th align="center">cty</th>
<th align="center">hwy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>displ</strong></td>
<td align="center">1</td>
<td align="center">0.1478</td>
<td align="center">-0.7985</td>
<td align="center">-0.766</td>
</tr>
<tr class="even">
<td align="center"><strong>year</strong></td>
<td align="center">0.1478</td>
<td align="center">1</td>
<td align="center">-0.03723</td>
<td align="center">0.002158</td>
</tr>
<tr class="odd">
<td align="center"><strong>cty</strong></td>
<td align="center">-0.7985</td>
<td align="center">-0.03723</td>
<td align="center">1</td>
<td align="center">0.9559</td>
</tr>
<tr class="even">
<td align="center"><strong>hwy</strong></td>
<td align="center">-0.766</td>
<td align="center">0.002158</td>
<td align="center">0.9559</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>Here we see the very strong correlation between cty and hwy. We also see strong negative correlations between <em>displ</em> on the one hand and <em>cty</em> and <em>hwy</em> on the other hand. Can you try to visualize these as we did for <em>cty</em> and <em>hwy</em>?</p>
<p>We could also visualize the correlations computed by <code>cor</code> using ggplot, but something’s amiss. The data returned by the correlation function isn’t very tidy. There are variable names in the columns as well as in the rows?<a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a> Even worse, it isn’t a data.frame!</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb100-2" title="2"><span class="st">    </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb100-3" title="3"><span class="st">    </span>cor <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb100-4" title="4"><span class="st">    </span>class</a></code></pre></div>
<pre><code>## [1] &quot;matrix&quot;</code></pre>
<p>Matrix? The movie? No, matrix is another type of object in R that you might not have heard of yet. While a data.frame is a collection of vectors, you can think of a matrix as a two dimensional vector. This means that, like in a vector, all elements in a matrix should have the same type. Like a vector can have names, also the rows and columns of a matrix can have names, like in our example.</p>
<p>But, as we know, <code>ggplot2</code> can only work with data.frames. We are completely doomed! But, we could possibly turn a matrix into a data.frame… And then we can reshape it such that all variables are on columns… We could try…</p>
<p>But, that seems a lot of work. And we are still lazy. Luckily, most R-users are lazy to some extent, and someone must have done this work someday, and must have been so generous to put it into a package. <code>ggcorrplot</code> is the answer to all our needs. The <code>ggcorrplot</code> package has a single function that is useful for us: <code>ggcorrplot</code>. Note that both the package and its main function has been given the same name. How generous! But be careful: <code>cor</code> had one r, <code>ggcorrplot</code> has two.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" title="1"><span class="kw">library</span>(ggcorrplot)</a></code></pre></div>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb103-2" title="2"><span class="st">    </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb103-3" title="3"><span class="st">    </span>cor <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb103-4" title="4"><span class="st">    </span><span class="kw">ggcorrplot</span>()</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-122-1.png" width="100%" /></p>
<p>What we get is a visual matrix. The color of the squares indicate the direction of the relationship (by default, red is positive and blue is negative), That’s nice. However, there are many different options to make <code>ggcorrplot</code> just as we like it. Lets look at the most important ones:</p>
<ul>
<li>method: “square” or “circle”: the shape of the elements in the matrix</li>
<li>lab: if TRUE, it will show the correlation values on top of the squares (or circles)</li>
<li>lab_col and lab_size: allow us to modify how the values are printed</li>
<li>outline_color: the color of the borders of the squares</li>
<li>type: “full”,“lower” or “upper”: a correlation matrix is symmetric, so we can chose to show only the lower or upper half.</li>
<li>ggtheme: you can use any one of the default ggplot2 themes: theme_grey, theme_minimal, theme_classic. Specify them without brackets or quotation marks, just as we did with <code>is.numeric</code> a few minutes ago.</li>
<li>title</li>
<li>legend.title</li>
<li>colors, a vector of three colors for the low, mid and high values. Default: c(“blue”,“white”,“red”)</li>
<li>hc.order: if set to TRUE we can order the variables to show which variables are most related</li>
<li>show.diag: Show the diagonal if TRUE (in case type is equal to “lower” or “upper”)</li>
</ul>
<p>An example of a slightly modified version of our plot is the following:<a href="#fn27" class="footnote-ref" id="fnref27"><sup>27</sup></a></p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb104-2" title="2"><span class="st">    </span><span class="kw">select_if</span>(is.numeric) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb104-3" title="3"><span class="st">    </span>cor <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb104-4" title="4"><span class="st">    </span><span class="kw">ggcorrplot</span>(<span class="dt">type =</span> <span class="st">&quot;lower&quot;</span>, <span class="dt">ggtheme =</span> theme_minimal, <span class="dt">colors =</span> <span class="kw">c</span>(<span class="st">&quot;#6D9EC1&quot;</span>,<span class="st">&quot;white&quot;</span>,<span class="st">&quot;#E46726&quot;</span>),</a>
<a class="sourceLine" id="cb104-5" title="5">               <span class="dt">show.diag =</span> T,</a>
<a class="sourceLine" id="cb104-6" title="6">               <span class="dt">lab =</span> T, <span class="dt">lab_size =</span> <span class="dv">5</span>,</a>
<a class="sourceLine" id="cb104-7" title="7">               <span class="dt">title =</span> <span class="st">&quot;Correlation Matrix for the mpg dataset&quot;</span>,</a>
<a class="sourceLine" id="cb104-8" title="8">               <span class="dt">legend.title =</span> <span class="st">&quot;Correlation Value&quot;</span>,</a>
<a class="sourceLine" id="cb104-9" title="9">               <span class="dt">outline.color =</span> <span class="st">&quot;white&quot;</span>,</a>
<a class="sourceLine" id="cb104-10" title="10">               <span class="dt">hc.order =</span> T)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-123-1.png" width="100%" /></p>
<p>We have already traveled a long and exciting way through the tidyverse! The final thing we want to achieve, is to do a bivariate analysis of two categorical variables. For this, we will learn to construct contingency tables. The end is really near now.</p>
</div>
<div id="bivariate-analysis-of-a-categorical-variable-with-respect-to-another-categorical-variable" class="section level2">
<h2><span class="header-section-number">5.8</span> Bivariate analysis of a categorical variable with respect to another categorical variable</h2>
<p>We start again by a looking at a graph. Suppose we want to look at the relationship between <em>class</em> and <em>cyl</em>. We could make faceted bar charts.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb105-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb105-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb105-4" title="4"><span class="st">    </span><span class="kw">facet_grid</span>(<span class="op">~</span>cyl) <span class="op">+</span></a>
<a class="sourceLine" id="cb105-5" title="5"><span class="st">    </span><span class="kw">coord_flip</span>()</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-124-1.png" width="100%" /></p>
<p>Here we see that the distributions of class differs when the number of cylinder changes. For 4 cylinders, most cars are compact, while for 8 cylinders, most cars are suv’s. We could also look at it from another perspective however.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb106-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cyl)) <span class="op">+</span></a>
<a class="sourceLine" id="cb106-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb106-4" title="4"><span class="st">    </span><span class="kw">facet_grid</span>(<span class="op">~</span>class)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-125-1.png" width="100%" /></p>
<p>And yet another</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb107-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(cyl)) <span class="op">+</span></a>
<a class="sourceLine" id="cb107-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> class))</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-126-1.png" width="100%" /></p>
<p>And yet another</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb108-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb108-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> cyl))</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-127-1.png" width="100%" /></p>
<p>And yet another</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" title="1">mpg <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb109-2" title="2"><span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(class)) <span class="op">+</span></a>
<a class="sourceLine" id="cb109-3" title="3"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> cyl), <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>)</a></code></pre></div>
<p><img src="textbook_files/figure-html/unnamed-chunk-128-1.png" width="100%" /></p>
<p>Indeed, there are many ways to look at the relationship between two categorical variables. The many graphs that can be made indicate that there can also be multiple contingency tables. Everything really depends on the question you want to answer. Fortunately, we already know a lot of important functions by now, which we can put to good use. We start by counting how many cars there are for each cyl-class combination. Let’s roll.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb110-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb110-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb110-4" title="4"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:44%;">
<colgroup>
<col width="8%" />
<col width="18%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">cyl</th>
<th align="center">class</th>
<th align="center">frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">compact</td>
<td align="center">32</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">midsize</td>
<td align="center">16</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">minivan</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">pickup</td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">subcompact</td>
<td align="center">21</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">suv</td>
<td align="center">8</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">compact</td>
<td align="center">2</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">subcompact</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">compact</td>
<td align="center">13</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">midsize</td>
<td align="center">23</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">minivan</td>
<td align="center">10</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">pickup</td>
<td align="center">10</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">subcompact</td>
<td align="center">7</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">suv</td>
<td align="center">16</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">2seater</td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">midsize</td>
<td align="center">2</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">pickup</td>
<td align="center">20</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subcompact</td>
<td align="center">5</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">suv</td>
<td align="center">38</td>
</tr>
</tbody>
</table>
<p>Great, that went perfect! To make a contingency table of this, we want to put one of the two variables on the columns. This will create a matrix-like structure. Here, we need a new functions, which is called <code>spread</code>. This function is from the <code>tidyr</code> package, which is used to tidy data. However, the other functions from this packages won’t be discussed here.</p>
<p>The function spread has 2 arguments, <code>key</code> and <code>value</code> (apart from data, of course). The key refers to the variable of which we want to put the values as new columns, in this case <em>class</em>. The value refers to the variable of which we want to place the values in the new columns, in this case, our frequency. No idea what is going to happen? Let’s look at an example.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb111-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb111-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb111-4" title="4"><span class="st">    </span><span class="kw">spread</span>(class, frequency) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb111-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<table>
<colgroup>
<col width="8%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="12%" />
<col width="17%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">cyl</th>
<th align="center">2seater</th>
<th align="center">compact</th>
<th align="center">midsize</th>
<th align="center">minivan</th>
<th align="center">pickup</th>
<th align="center">subcompact</th>
<th align="center">suv</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">NA</td>
<td align="center">32</td>
<td align="center">16</td>
<td align="center">1</td>
<td align="center">3</td>
<td align="center">21</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">NA</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">NA</td>
<td align="center">13</td>
<td align="center">23</td>
<td align="center">10</td>
<td align="center">10</td>
<td align="center">7</td>
<td align="center">16</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">5</td>
<td align="center">NA</td>
<td align="center">2</td>
<td align="center">NA</td>
<td align="center">20</td>
<td align="center">5</td>
<td align="center">38</td>
</tr>
</tbody>
</table>
<p>Did you see what has happened? Just compare the last two tables. What happens if you use cyl as key?</p>
<p>Now, why do some of the values in this data.frame show NA, which stands for not available? That’s because not all class-cyl combinations exists, i.e., our list before only showed us 19 existing combinations. There are no cars for the other 9 combinations. However, we don’t like NA’s very much, so let’s change them into zero’s. Fortunately, this is a feature of the <code>spread</code> function. The argument <code>fill</code> will be used to “fill” the empty cells. We just need to set it to zero.<a href="#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb112-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb112-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb112-4" title="4"><span class="st">    </span><span class="kw">spread</span>(class, frequency, <span class="dt">fill =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb112-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<table>
<colgroup>
<col width="8%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
<col width="12%" />
<col width="17%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">cyl</th>
<th align="center">2seater</th>
<th align="center">compact</th>
<th align="center">midsize</th>
<th align="center">minivan</th>
<th align="center">pickup</th>
<th align="center">subcompact</th>
<th align="center">suv</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">0</td>
<td align="center">32</td>
<td align="center">16</td>
<td align="center">1</td>
<td align="center">3</td>
<td align="center">21</td>
<td align="center">8</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">0</td>
<td align="center">13</td>
<td align="center">23</td>
<td align="center">10</td>
<td align="center">10</td>
<td align="center">7</td>
<td align="center">16</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">5</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">20</td>
<td align="center">5</td>
<td align="center">38</td>
</tr>
</tbody>
</table>
<p>Great. This is what I would call a “Contingency table with absolute frequencies”. It shows us the absolute number of cars for each combination of cyl and class, and it tells us that the combination 8 and SUV is the most prominent in our data. This contingency table goes very well with our first two graphs.</p>
<p>Another question we could ask is: If we look at cars with 4 cylinders, what is the specific distribution of classes? In this case, we would like to have relative frequencies. Let’s try this.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb113-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb113-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb113-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb113-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:72%;">
<colgroup>
<col width="8%" />
<col width="18%" />
<col width="16%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">cyl</th>
<th align="center">class</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">4</td>
<td align="center">compact</td>
<td align="center">32</td>
<td align="center">0.3951</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">midsize</td>
<td align="center">16</td>
<td align="center">0.1975</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">minivan</td>
<td align="center">1</td>
<td align="center">0.01235</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">pickup</td>
<td align="center">3</td>
<td align="center">0.03704</td>
</tr>
<tr class="odd">
<td align="center">4</td>
<td align="center">subcompact</td>
<td align="center">21</td>
<td align="center">0.2593</td>
</tr>
<tr class="even">
<td align="center">4</td>
<td align="center">suv</td>
<td align="center">8</td>
<td align="center">0.09877</td>
</tr>
<tr class="odd">
<td align="center">5</td>
<td align="center">compact</td>
<td align="center">2</td>
<td align="center">0.5</td>
</tr>
<tr class="even">
<td align="center">5</td>
<td align="center">subcompact</td>
<td align="center">2</td>
<td align="center">0.5</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">compact</td>
<td align="center">13</td>
<td align="center">0.1646</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">midsize</td>
<td align="center">23</td>
<td align="center">0.2911</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">minivan</td>
<td align="center">10</td>
<td align="center">0.1266</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">pickup</td>
<td align="center">10</td>
<td align="center">0.1266</td>
</tr>
<tr class="odd">
<td align="center">6</td>
<td align="center">subcompact</td>
<td align="center">7</td>
<td align="center">0.08861</td>
</tr>
<tr class="even">
<td align="center">6</td>
<td align="center">suv</td>
<td align="center">16</td>
<td align="center">0.2025</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">2seater</td>
<td align="center">5</td>
<td align="center">0.07143</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">midsize</td>
<td align="center">2</td>
<td align="center">0.02857</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">pickup</td>
<td align="center">20</td>
<td align="center">0.2857</td>
</tr>
<tr class="even">
<td align="center">8</td>
<td align="center">subcompact</td>
<td align="center">5</td>
<td align="center">0.07143</td>
</tr>
<tr class="odd">
<td align="center">8</td>
<td align="center">suv</td>
<td align="center">38</td>
<td align="center">0.5429</td>
</tr>
</tbody>
</table>
<p>That’s exactly what we wanted to have. But, don’t you notice something strange?</p>
<p>Within each cyl group, the relative frequencies add up to one. For instance look at cyl = 5, there are 50% compact cars and 50% subcompact. That is what we wanted, but… this is not what happened before when making frequency tables. What has changed?</p>
<p>The answer is subtle, tricky and important.</p>
<p>Every time a summarize is done of a grouped data.frame, the summarize function removes the last grouping variable. It is said that the summarize function <em>peels</em> of group levels. In the case of our frequency table earlier:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb114-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(manufacturer) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb114-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb114-4" title="4"><span class="st">    </span>groups</a></code></pre></div>
<pre><code>## NULL</code></pre>
<p>After the summarize, there are no grouping variables left. There was only one, and it has been removed. The summarize function implicitly assumes that the grouping has become useless after the summarize. This means that, when we used <code>sum(frequency)</code> in the next line to compute relative frequencies, it would compute the sum of the frequencies in the whole table.</p>
<p>Now, back to our example. After the frequencies are computed, the data is only grouped by cyl. Thus, the <code>sum(frequency)</code> will now compute the sum of the frequencies for each cyl-group. Indeed, remember, for a grouped data.frame, all operations happen separately for each group. That is exactly why the relative frequencies add to 1 within each cyl group.</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb116-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(cyl, class) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb116-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb116-4" title="4"><span class="st">    </span>groups</a></code></pre></div>
<pre><code>## [[1]]
## cyl</code></pre>
<p>When we change the order of grouping levels in the <code>group_by</code> function, we also change the relative frequencies which will get computed. If we put class first, the relative frequencies will add up to 1 for each of the classes.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(class, cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb118-5" title="5"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:72%;">
<colgroup>
<col width="18%" />
<col width="8%" />
<col width="16%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">class</th>
<th align="center">cyl</th>
<th align="center">frequency</th>
<th align="center">relative_frequency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2seater</td>
<td align="center">8</td>
<td align="center">5</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">4</td>
<td align="center">32</td>
<td align="center">0.6809</td>
</tr>
<tr class="odd">
<td align="center">compact</td>
<td align="center">5</td>
<td align="center">2</td>
<td align="center">0.04255</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">6</td>
<td align="center">13</td>
<td align="center">0.2766</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">4</td>
<td align="center">16</td>
<td align="center">0.3902</td>
</tr>
<tr class="even">
<td align="center">midsize</td>
<td align="center">6</td>
<td align="center">23</td>
<td align="center">0.561</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">8</td>
<td align="center">2</td>
<td align="center">0.04878</td>
</tr>
<tr class="even">
<td align="center">minivan</td>
<td align="center">4</td>
<td align="center">1</td>
<td align="center">0.09091</td>
</tr>
<tr class="odd">
<td align="center">minivan</td>
<td align="center">6</td>
<td align="center">10</td>
<td align="center">0.9091</td>
</tr>
<tr class="even">
<td align="center">pickup</td>
<td align="center">4</td>
<td align="center">3</td>
<td align="center">0.09091</td>
</tr>
<tr class="odd">
<td align="center">pickup</td>
<td align="center">6</td>
<td align="center">10</td>
<td align="center">0.303</td>
</tr>
<tr class="even">
<td align="center">pickup</td>
<td align="center">8</td>
<td align="center">20</td>
<td align="center">0.6061</td>
</tr>
<tr class="odd">
<td align="center">subcompact</td>
<td align="center">4</td>
<td align="center">21</td>
<td align="center">0.6</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">5</td>
<td align="center">2</td>
<td align="center">0.05714</td>
</tr>
<tr class="odd">
<td align="center">subcompact</td>
<td align="center">6</td>
<td align="center">7</td>
<td align="center">0.2</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">8</td>
<td align="center">5</td>
<td align="center">0.1429</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">4</td>
<td align="center">8</td>
<td align="center">0.129</td>
</tr>
<tr class="even">
<td align="center">suv</td>
<td align="center">6</td>
<td align="center">16</td>
<td align="center">0.2581</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">8</td>
<td align="center">38</td>
<td align="center">0.6129</td>
</tr>
</tbody>
</table>
<p>Admittedly, this is confusing, but at the same time it is very helpful, as it is already something useful in the case at hand. However, you should thus pay attention to the order of variables in the group_by function, and to the number of summarizes used after grouping.</p>
<p>Now that we have the relative frequencies, we can again reshape those with <code>spread</code> to create a matrix-like table. This time, we set relative_frequency as the value.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb119-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(class, cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb119-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb119-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb119-5" title="5"><span class="st">    </span><span class="kw">spread</span>(cyl, relative_frequency, <span class="dt">fill =</span> <span class="dv">0</span>)   <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb119-6" title="6"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:89%;">
<colgroup>
<col width="18%" />
<col width="16%" />
<col width="13%" />
<col width="13%" />
<col width="12%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">class</th>
<th align="center">frequency</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2seater</td>
<td align="center">5</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0.04255</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">compact</td>
<td align="center">13</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.2766</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">32</td>
<td align="center">0.6809</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.04878</td>
</tr>
<tr class="even">
<td align="center">midsize</td>
<td align="center">16</td>
<td align="center">0.3902</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">23</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.561</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">minivan</td>
<td align="center">1</td>
<td align="center">0.09091</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">minivan</td>
<td align="center">10</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.9091</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">pickup</td>
<td align="center">3</td>
<td align="center">0.09091</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">pickup</td>
<td align="center">10</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.303</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">pickup</td>
<td align="center">20</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6061</td>
</tr>
<tr class="odd">
<td align="center">subcompact</td>
<td align="center">2</td>
<td align="center">0</td>
<td align="center">0.05714</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">5</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.1429</td>
</tr>
<tr class="odd">
<td align="center">subcompact</td>
<td align="center">7</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.2</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">21</td>
<td align="center">0.6</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">8</td>
<td align="center">0.129</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
</tr>
<tr class="even">
<td align="center">suv</td>
<td align="center">16</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.2581</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">38</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.6129</td>
</tr>
</tbody>
</table>
<p>Oh… that’s not what we had expected, is it? We expected to have one row for each class, but now we have more than one. The reason is simple. For each combination of class and cyl, we have two values: frequency and relative frequency. When we want to spread the relative frequencies onto one line, there is no more place for the frequencies to go. As a result, the lines cannot <em>collapse</em> into one line, just as they did before. However, we can simply solve this by first getting rid of the frequencies.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(class, cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-4" title="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-5" title="5"><span class="st">    </span><span class="kw">select</span>(<span class="op">-</span>frequency) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb120-6" title="6"><span class="st">    </span><span class="kw">spread</span>(cyl, relative_frequency, <span class="dt">fill =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb120-7" title="7"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:72%;">
<colgroup>
<col width="18%" />
<col width="13%" />
<col width="13%" />
<col width="12%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">class</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2seater</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">0.6809</td>
<td align="center">0.04255</td>
<td align="center">0.2766</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">0.3902</td>
<td align="center">0</td>
<td align="center">0.561</td>
<td align="center">0.04878</td>
</tr>
<tr class="even">
<td align="center">minivan</td>
<td align="center">0.09091</td>
<td align="center">0</td>
<td align="center">0.9091</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">pickup</td>
<td align="center">0.09091</td>
<td align="center">0</td>
<td align="center">0.303</td>
<td align="center">0.6061</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">0.6</td>
<td align="center">0.05714</td>
<td align="center">0.2</td>
<td align="center">0.1429</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">0.129</td>
<td align="center">0</td>
<td align="center">0.2581</td>
<td align="center">0.6129</td>
</tr>
</tbody>
</table>
<p>This looks more like it. Note that instead of indicating the variables we want to keep with select, we indicate the variable we want to delete with a minus sign, which is much shorter. Do not confuse it with the minus sign when arranging data, because that is something quite different.</p>
<p>On each row we can now see the distribution of different cylinders for a specific class of cars. You could also turn it the other way around, and show the distribution of different classes for a specific number of cylinders. Just as we had many graphs to look at these two variables, we can make many contingency tables. Can you give it a try?</p>
<p>Finally, suppose we want a contingency table with overall relative frequencies. I.e. we want to answer the question: what percentage of the cars has 5 cylinders and is of the class compact. We can recycle the last piece of code, and we only have to add one line.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" title="1">mpg <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(class, cyl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-3" title="3"><span class="st">    </span><span class="kw">summarize</span>(<span class="dt">frequency =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-4" title="4"><span class="st">    </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-5" title="5"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">relative_frequency =</span> frequency<span class="op">/</span><span class="kw">sum</span>(frequency)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-6" title="6"><span class="st">    </span><span class="kw">select</span>(<span class="op">-</span>frequency) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb121-7" title="7"><span class="st">    </span><span class="kw">spread</span>(cyl, relative_frequency, <span class="dt">fill =</span> <span class="dv">0</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb121-8" title="8"><span class="st">    </span>pander</a></code></pre></div>
<table style="width:78%;">
<colgroup>
<col width="18%" />
<col width="15%" />
<col width="15%" />
<col width="13%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">class</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">2seater</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0.02137</td>
</tr>
<tr class="even">
<td align="center">compact</td>
<td align="center">0.1368</td>
<td align="center">0.008547</td>
<td align="center">0.05556</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">midsize</td>
<td align="center">0.06838</td>
<td align="center">0</td>
<td align="center">0.09829</td>
<td align="center">0.008547</td>
</tr>
<tr class="even">
<td align="center">minivan</td>
<td align="center">0.004274</td>
<td align="center">0</td>
<td align="center">0.04274</td>
<td align="center">0</td>
</tr>
<tr class="odd">
<td align="center">pickup</td>
<td align="center">0.01282</td>
<td align="center">0</td>
<td align="center">0.04274</td>
<td align="center">0.08547</td>
</tr>
<tr class="even">
<td align="center">subcompact</td>
<td align="center">0.08974</td>
<td align="center">0.008547</td>
<td align="center">0.02991</td>
<td align="center">0.02137</td>
</tr>
<tr class="odd">
<td align="center">suv</td>
<td align="center">0.03419</td>
<td align="center">0</td>
<td align="center">0.06838</td>
<td align="center">0.1624</td>
</tr>
</tbody>
</table>
<p>The ungroup function which we have added removes all the group. As a result, the sum of the frequency will be calculated over the complete data.frame. Thus, only the relative frequencies of all combinations will add to one (you can do the math).</p>
</div>
<div id="background-material-1" class="section level2">
<h2><span class="header-section-number">5.9</span> Background material</h2>
<p>We have performed 5 different analyses and learned a lot of new helpful functions along the way.</p>
<p>If you want to learn more, you can consult these materials</p>
<ul>
<li><a href="http://r4ds.had.co.nz/">R for Data Science</a>, chapter 5</li>
<li><a href="https://cran.rstudio.com/web/packages/dplyr/vignettes/dplyr.html">dplyr Introduction</a></li>
</ul>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="12">
<li id="fn12"><p>Although it might make certain analyses more interesting when you are familiar with the meaning of the different variables, no specific knowledge about cars is required in order to complete this tutorial.<a href="tutorial-descriptieve-statistieken.html#fnref12" class="footnote-back">↩</a></p></li>
<li id="fn13"><p><img src="images/tidyverse.png" /> The <em>tidyverse</em> is a set of packages for data science that work in harmony because they share common data representations and API design. The <code>tidyverse</code>-package is designed to make it easy to install and load core packages from the tidyverse in a single command. The tidyverse includes packages such as: ggplot2, dplyr, tidyr, readr, purrr, tibble, hms, stringr, lubridate, forcats, jsonlite, readxl, broom, and others. Hadley Wickham can be regarded as the founding father of the tidyverse. The best place to learn about these packages is by reading this book: <a href="http://r4ds.had.co.nz/">R for Data Science</a>, written by Hadley and Garret Grolemund.<a href="tutorial-descriptieve-statistieken.html#fnref13" class="footnote-back">↩</a></p></li>
<li id="fn14"><p>Since we turned <code>mpg</code> into a tibble data.frame, we can only print it as if it were a normal data.frame by using the <code>as.data.frame</code> function. However, we don’t update the object since we don’t store it using the <code>&lt;-</code>.<a href="tutorial-descriptieve-statistieken.html#fnref14" class="footnote-back">↩</a></p></li>
<li id="fn15"><p>Note the capital letter I<a href="tutorial-descriptieve-statistieken.html#fnref15" class="footnote-back">↩</a></p></li>
<li id="fn16"><p><img src="images/pipe.jpg" /> <br/> The piping symbol was first introduced in the package <code>magrittr</code>, evidently named after the Belgian surrealist artist René Magritte, well-known for his painting <em>The Threachery of Images</em>, aka <em>Ceci n’est pas un pipe</em>.<a href="tutorial-descriptieve-statistieken.html#fnref16" class="footnote-back">↩</a></p></li>
<li id="fn17"><p>You can even omit the brackets of the functions when there are no arguments left. As such <code>mpg %&gt;% head</code> would work just fine. However, do not confuse this with adding layers to a <code>ggplot</code> call. Here, you need would need to keep the brackets of empty function calls. E.g. don’t add <code>coord_flip</code> to a <code>ggplot</code> object, but add <code>coord_flip()</code>. Be aware of this difference.<a href="tutorial-descriptieve-statistieken.html#fnref17" class="footnote-back">↩</a></p></li>
<li id="fn18"><p>Both the British English <em>summarise</em> as the American English <em>summarize</em> can be used.<a href="tutorial-descriptieve-statistieken.html#fnref18" class="footnote-back">↩</a></p></li>
<li id="fn19"><p>Instead of providing names without quotation marks (e.g. mean_cty), you can also add quotation marks. This allows you to use spaces. When your output is final and not intended for further manipulation, you might want to do this, to have nice column headers. For example <code>mpg %&gt;% summarize("Mean cty" = mean(cty))</code>. However, in general, spaces should be avoided.<a href="tutorial-descriptieve-statistieken.html#fnref19" class="footnote-back">↩</a></p></li>
<li id="fn20"><p>Remember that we use pander to improve the layout of our tables, and you shouldn’t pay attention to that.<a href="tutorial-descriptieve-statistieken.html#fnref20" class="footnote-back">↩</a></p></li>
<li id="fn21"><p>WARNING: only use <code>n</code> within summarize. This function cannot be used on normal vectors.<a href="tutorial-descriptieve-statistieken.html#fnref21" class="footnote-back">↩</a></p></li>
<li id="fn22"><p>In particular, there are 3 <em>drv</em> values and 10 <em>trans</em> values. Thus, there could be maximum 30 different groups. The fact that we see only 24 groups, means that not all possible combinations of <em>drv</em> and <em>trans</em> values occur in the data.<a href="tutorial-descriptieve-statistieken.html#fnref22" class="footnote-back">↩</a></p></li>
<li id="fn23"><p><img src="images/forcats.jpg" /> <br/> Did you notice the function <code>fct_infreq</code> wrapped around the <em>manufacturer</em> variable within the geom_bar mapping? This function makes sure that the bars are ordered from infrequent to frequent. This function is one of the helpful functions for factors from the package <code>forcats</code>, which is an anagram of <em>factors</em> and it symbolizes the fact that many people in the R community are cat lovers (seriously). If you want, you can install it and use the <code>fct_infreq</code> function (short for “reorder this factor based on (in)frequency)”. However, full acquaintance with this package is not expected (for now).<a href="tutorial-descriptieve-statistieken.html#fnref23" class="footnote-back">↩</a></p></li>
<li id="fn24"><p>For the eager students who were wondering where the <code>split.table = 120</code> argument came from in the <code>pander</code> call: <code>pander</code> by default splits tables which are more than 80 characters wide. It will then add superfluous columns below the table in a <em>second</em> table. In order to avoid this splitting, and since this document has a quite big side margin for the table to continue, I increased this parameter to 120 characters.<a href="tutorial-descriptieve-statistieken.html#fnref24" class="footnote-back">↩</a></p></li>
<li id="fn25"><p>Note how we specificy the is.numeric function within select_if: without quotation marks and without brackets. This is important!<a href="tutorial-descriptieve-statistieken.html#fnref25" class="footnote-back">↩</a></p></li>
<li id="fn26"><p>Remember the tidyverse? There are different meanings related to “tidy”. One thing is tidy functions, i.e. functions that neatly work together with, for instance, the piping symbol. Another thing is tidy data. However, tidy data is out of the scope of this tutorial.<a href="tutorial-descriptieve-statistieken.html#fnref26" class="footnote-back">↩</a></p></li>
<li id="fn27"><p>More information and settings for these plots can be found in <a href="https://github.com/kassambara/ggcorrplot">this manual</a><a href="tutorial-descriptieve-statistieken.html#fnref27" class="footnote-back">↩</a></p></li>
<li id="fn28"><p>We have already encountered fill in different contexts. It is used to specify the fill-color in plots, it can be used as a position in geom_bar to fill the bars to 100%, and now we can used it to fill empty spaces in the contingency table. Don’t mess things up here!<a href="tutorial-descriptieve-statistieken.html#fnref28" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="descriptieve-statistieken.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="storytelling-van-data-tot-inzicht.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["textbook.pdf"],
"toc": {
"collapse": "section",
"depth": 3
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
